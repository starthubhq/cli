(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ne={},io=[],Lt=()=>{},uc=()=>!1,ys=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ha=e=>e.startsWith("onUpdate:"),et=Object.assign,pa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ih=Object.prototype.hasOwnProperty,Oe=(e,t)=>ih.call(e,t),pe=Array.isArray,ao=e=>pr(e)==="[object Map]",_s=e=>pr(e)==="[object Set]",tl=e=>pr(e)==="[object Date]",ge=e=>typeof e=="function",Be=e=>typeof e=="string",kt=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",cc=e=>($e(e)||ge(e))&&ge(e.then)&&ge(e.catch),dc=Object.prototype.toString,pr=e=>dc.call(e),ah=e=>pr(e).slice(8,-1),fc=e=>pr(e)==="[object Object]",ga=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zo=fa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ws=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},lh=/-(\w)/g,yt=ws(e=>e.replace(lh,(t,n)=>n?n.toUpperCase():"")),uh=/\B([A-Z])/g,Un=ws(e=>e.replace(uh,"-$1").toLowerCase()),bs=ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),Gs=ws(e=>e?`on${bs(e)}`:""),en=(e,t)=>!Object.is(e,t),Ur=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},hc=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ci=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let nl;const Ss=()=>nl||(nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gt(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Be(o)?hh(o):gt(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(Be(e)||$e(e))return e}const ch=/;(?![^(]*\))/g,dh=/:([^]+)/,fh=/\/\*[^]*?\*\//g;function hh(e){const t={};return e.replace(fh,"").split(ch).forEach(n=>{if(n){const o=n.split(dh);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Bt(e){let t="";if(Be(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const o=Bt(e[n]);o&&(t+=o+" ")}else if($e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ph="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gh=fa(ph);function pc(e){return!!e||e===""}function vh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Es(e[o],t[o]);return n}function Es(e,t){if(e===t)return!0;let n=tl(e),o=tl(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=kt(e),o=kt(t),n||o)return e===t;if(n=pe(e),o=pe(t),n||o)return n&&o?vh(e,t):!1;if(n=$e(e),o=$e(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Es(e[i],t[i]))return!1}}return String(e)===String(t)}function gc(e,t){return e.findIndex(n=>Es(n,t))}const vc=e=>!!(e&&e.__v_isRef===!0),Ue=e=>Be(e)?e:e==null?"":pe(e)||$e(e)&&(e.toString===dc||!ge(e.toString))?vc(e)?Ue(e.value):JSON.stringify(e,mc,2):String(e),mc=(e,t)=>vc(t)?mc(e,t.value):ao(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[qs(o,s)+" =>"]=r,n),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>qs(n))}:kt(t)?qs(t):$e(t)&&!pe(t)&&!fc(t)?String(t):t,qs=(e,t="")=>{var n;return kt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class yc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function va(e){return new yc(e)}function ma(){return Je}function Fr(e,t=!1){Je&&Je.cleanups.push(e)}let Re;const Ks=new WeakSet;class _c{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ks.has(this)&&(Ks.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ol(this),Sc(this);const t=Re,n=Et;Re=this,Et=!0;try{return this.fn()}finally{Ec(this),Re=t,Et=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wa(t);this.deps=this.depsTail=void 0,ol(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ks.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ti(this)&&this.run()}get dirty(){return Ti(this)}}let wc=0,Bo,Uo;function bc(e,t=!1){if(e.flags|=8,t){e.next=Uo,Uo=e;return}e.next=Bo,Bo=e}function ya(){wc++}function _a(){if(--wc>0)return;if(Uo){let t=Uo;for(Uo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Bo;){let t=Bo;for(Bo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Sc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ec(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),wa(o),mh(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function Ti(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Qo)||(e.globalVersion=Qo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ti(e))))return;e.flags|=2;const t=e.dep,n=Re,o=Et;Re=e,Et=!0;try{Sc(e);const r=e.fn(e._value);(t.version===0||en(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Re=n,Et=o,Ec(e),e.flags&=-3}}function wa(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)wa(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function mh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Et=!0;const kc=[];function tn(){kc.push(Et),Et=!1}function nn(){const e=kc.pop();Et=e===void 0?!0:e}function ol(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Re;Re=void 0;try{t()}finally{Re=n}}}let Qo=0;class yh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Re||!Et||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink=new yh(Re,this),Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,Cc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=o)}return n}trigger(t){this.version++,Qo++,this.notify(t)}notify(t){ya();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_a()}}}function Cc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Cc(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xr=new WeakMap,In=Symbol(""),Pi=Symbol(""),er=Symbol("");function Ze(e,t,n){if(Et&&Re){let o=Xr.get(e);o||Xr.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new xs),r.map=o,r.key=n),r.track()}}function Yt(e,t,n,o,r,s){const i=Xr.get(e);if(!i){Qo++;return}const a=l=>{l&&l.trigger()};if(ya(),t==="clear")i.forEach(a);else{const l=pe(e),u=l&&ga(n);if(l&&n==="length"){const c=Number(o);i.forEach((d,f)=>{(f==="length"||f===er||!kt(f)&&f>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(er)),t){case"add":l?u&&a(i.get("length")):(a(i.get(In)),ao(e)&&a(i.get(Pi)));break;case"delete":l||(a(i.get(In)),ao(e)&&a(i.get(Pi)));break;case"set":ao(e)&&a(i.get(In));break}}_a()}function _h(e,t){const n=Xr.get(e);return n&&n.get(t)}function Vn(e){const t=Te(e);return t===e?t:(Ze(t,"iterate",er),mt(e)?t:t.map(Ye))}function ks(e){return Ze(e=Te(e),"iterate",er),e}const wh={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,Ye)},concat(...e){return Vn(this).concat(...e.map(t=>pe(t)?Vn(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=Ye(e[1]),e))},every(e,t){return Vt(this,"every",e,t,void 0,arguments)},filter(e,t){return Vt(this,"filter",e,t,n=>n.map(Ye),arguments)},find(e,t){return Vt(this,"find",e,t,Ye,arguments)},findIndex(e,t){return Vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vt(this,"findLast",e,t,Ye,arguments)},findLastIndex(e,t){return Vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return Vn(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return Vt(this,"map",e,t,void 0,arguments)},pop(){return Oo(this,"pop")},push(...e){return Oo(this,"push",e)},reduce(e,...t){return rl(this,"reduce",e,t)},reduceRight(e,...t){return rl(this,"reduceRight",e,t)},shift(){return Oo(this,"shift")},some(e,t){return Vt(this,"some",e,t,void 0,arguments)},splice(...e){return Oo(this,"splice",e)},toReversed(){return Vn(this).toReversed()},toSorted(e){return Vn(this).toSorted(e)},toSpliced(...e){return Vn(this).toSpliced(...e)},unshift(...e){return Oo(this,"unshift",e)},values(){return Ys(this,"values",Ye)}};function Ys(e,t,n){const o=ks(e),r=o[t]();return o!==e&&!mt(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const bh=Array.prototype;function Vt(e,t,n,o,r,s){const i=ks(e),a=i!==e&&!mt(e),l=i[t];if(l!==bh[t]){const d=l.apply(e,s);return a?Ye(d):d}let u=n;i!==e&&(a?u=function(d,f){return n.call(this,Ye(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(i,u,o);return a&&r?r(c):c}function rl(e,t,n,o){const r=ks(e);let s=n;return r!==e&&(mt(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,Ye(a),l,e)}),r[t](s,...o)}function Xs(e,t,n){const o=Te(e);Ze(o,"iterate",er);const r=o[t](...n);return(r===-1||r===!1)&&xa(n[0])?(n[0]=Te(n[0]),o[t](...n)):r}function Oo(e,t,n=[]){tn(),ya();const o=Te(e)[t].apply(e,n);return _a(),nn(),o}const Sh=fa("__proto__,__v_isRef,__isVue"),Tc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt));function Eh(e){kt(e)||(e=String(e));const t=Te(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Pc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Ih:$c:s?Nc:Ac).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=pe(t);if(!r){let l;if(i&&(l=wh[n]))return l;if(n==="hasOwnProperty")return Eh}const a=Reflect.get(t,n,ze(t)?t:o);return(kt(n)?Tc.has(n):Sh(n))||(r||Ze(t,"get",n),s)?a:ze(a)?i&&ga(n)?a:a.value:$e(a)?r?Sa(a):jn(a):a}}class Oc extends Pc{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];if(!this._isShallow){const l=mn(s);if(!mt(o)&&!mn(o)&&(s=Te(s),o=Te(o)),!pe(t)&&ze(s)&&!ze(o))return l||(s.value=o),!0}const i=pe(t)&&ga(n)?Number(n)<t.length:Oe(t,n),a=Reflect.set(t,n,o,ze(t)?t:r);return t===Te(r)&&(i?en(o,s)&&Yt(t,"set",n,o):Yt(t,"add",n,o)),a}deleteProperty(t,n){const o=Oe(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&Yt(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!kt(n)||!Tc.has(n))&&Ze(t,"has",n),o}ownKeys(t){return Ze(t,"iterate",pe(t)?"length":In),Reflect.ownKeys(t)}}class xh extends Pc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const kh=new Oc,Ch=new xh,Th=new Oc(!0);const Oi=e=>e,xr=e=>Reflect.getPrototypeOf(e);function Ph(e,t,n){return function(...o){const r=this.__v_raw,s=Te(r),i=ao(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=r[e](...o),c=n?Oi:t?Jr:Ye;return!t&&Ze(s,"iterate",l?Pi:In),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function kr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Oh(e,t){const n={get(r){const s=this.__v_raw,i=Te(s),a=Te(r);e||(en(r,a)&&Ze(i,"get",r),Ze(i,"get",a));const{has:l}=xr(i),u=t?Oi:e?Jr:Ye;if(l.call(i,r))return u(s.get(r));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!e&&Ze(Te(r),"iterate",In),r.size},has(r){const s=this.__v_raw,i=Te(s),a=Te(r);return e||(en(r,a)&&Ze(i,"has",r),Ze(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=Te(a),u=t?Oi:e?Jr:Ye;return!e&&Ze(l,"iterate",In),a.forEach((c,d)=>r.call(s,u(c),u(d),i))}};return et(n,e?{add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear")}:{add(r){!t&&!mt(r)&&!mn(r)&&(r=Te(r));const s=Te(this);return xr(s).has.call(s,r)||(s.add(r),Yt(s,"add",r,r)),this},set(r,s){!t&&!mt(s)&&!mn(s)&&(s=Te(s));const i=Te(this),{has:a,get:l}=xr(i);let u=a.call(i,r);u||(r=Te(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,s),u?en(s,c)&&Yt(i,"set",r,s):Yt(i,"add",r,s),this},delete(r){const s=Te(this),{has:i,get:a}=xr(s);let l=i.call(s,r);l||(r=Te(r),l=i.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&Yt(s,"delete",r,void 0),u},clear(){const r=Te(this),s=r.size!==0,i=r.clear();return s&&Yt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ph(r,e,t)}),n}function ba(e,t){const n=Oh(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Oe(n,r)&&r in o?n:o,r,s)}const Ah={get:ba(!1,!1)},Nh={get:ba(!1,!0)},$h={get:ba(!0,!1)};const Ac=new WeakMap,Nc=new WeakMap,$c=new WeakMap,Ih=new WeakMap;function Rh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mh(e){return e.__v_skip||!Object.isExtensible(e)?0:Rh(ah(e))}function jn(e){return mn(e)?e:Ea(e,!1,kh,Ah,Ac)}function Ic(e){return Ea(e,!1,Th,Nh,Nc)}function Sa(e){return Ea(e,!0,Ch,$h,$c)}function Ea(e,t,n,o,r){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Mh(e);if(s===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function lo(e){return mn(e)?lo(e.__v_raw):!!(e&&e.__v_isReactive)}function mn(e){return!!(e&&e.__v_isReadonly)}function mt(e){return!!(e&&e.__v_isShallow)}function xa(e){return e?!!e.__v_raw:!1}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function Rn(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&hc(e,"__v_skip",!0),e}const Ye=e=>$e(e)?jn(e):e,Jr=e=>$e(e)?Sa(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function ve(e){return Rc(e,!1)}function tr(e){return Rc(e,!0)}function Rc(e,t){return ze(e)?e:new Dh(e,t)}class Dh{constructor(t,n){this.dep=new xs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:Ye(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||mt(t)||mn(t);t=o?t:Te(t),en(t,n)&&(this._rawValue=t,this._value=o?t:Ye(t),this.dep.trigger())}}function ne(e){return ze(e)?e.value:e}function Se(e){return ge(e)?e():ne(e)}const jh={get:(e,t,n)=>t==="__v_raw"?e:ne(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return ze(r)&&!ze(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function Mc(e){return lo(e)?e:new Proxy(e,jh)}class Lh{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new xs,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function zh(e){return new Lh(e)}function Bh(e){const t=pe(e)?new Array(e.length):{};for(const n in e)t[n]=Dc(e,n);return t}class Uh{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _h(Te(this._object),this._key)}}class Fh{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function De(e,t,n){return ze(e)?e:ge(e)?new Fh(e):$e(e)&&arguments.length>1?Dc(e,t,n):ve(e)}function Dc(e,t,n){const o=e[t];return ze(o)?o:new Uh(e,t,n)}class Vh{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new xs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return bc(this,!0),!0}get value(){const t=this.dep.track();return xc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hh(e,t,n=!1){let o,r;return ge(e)?o=e:(o=e.get,r=e.set),new Vh(o,r,n)}const Cr={},Zr=new WeakMap;let Cn;function Wh(e,t=!1,n=Cn){if(n){let o=Zr.get(n);o||Zr.set(n,o=[]),o.push(e)}}function Gh(e,t,n=Ne){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,u=C=>r?C:mt(C)||r===!1||r===0?Xt(C,1):Xt(C);let c,d,f,h,y=!1,b=!1;if(ze(e)?(d=()=>e.value,y=mt(e)):lo(e)?(d=()=>u(e),y=!0):pe(e)?(b=!0,y=e.some(C=>lo(C)||mt(C)),d=()=>e.map(C=>{if(ze(C))return C.value;if(lo(C))return u(C);if(ge(C))return l?l(C,2):C()})):ge(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){tn();try{f()}finally{nn()}}const C=Cn;Cn=c;try{return l?l(e,3,[h]):e(h)}finally{Cn=C}}:d=Lt,t&&r){const C=d,L=r===!0?1/0:r;d=()=>Xt(C(),L)}const w=ma(),k=()=>{c.stop(),w&&w.active&&pa(w.effects,c)};if(s&&t){const C=t;t=(...L)=>{C(...L),k()}}let T=b?new Array(e.length).fill(Cr):Cr;const S=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const L=c.run();if(r||y||(b?L.some((U,V)=>en(U,T[V])):en(L,T))){f&&f();const U=Cn;Cn=c;try{const V=[L,T===Cr?void 0:b&&T[0]===Cr?[]:T,h];T=L,l?l(t,3,V):t(...V)}finally{Cn=U}}}else c.run()};return a&&a(S),c=new _c(d),c.scheduler=i?()=>i(S,!1):S,h=C=>Wh(C,!1,c),f=c.onStop=()=>{const C=Zr.get(c);if(C){if(l)l(C,4);else for(const L of C)L();Zr.delete(c)}},t?o?S(!0):T=c.run():i?i(S.bind(null,!0),!0):c.run(),k.pause=c.pause.bind(c),k.resume=c.resume.bind(c),k.stop=k,k}function Xt(e,t=1/0,n){if(t<=0||!$e(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ze(e))Xt(e.value,t,n);else if(pe(e))for(let o=0;o<e.length;o++)Xt(e[o],t,n);else if(_s(e)||ao(e))e.forEach(o=>{Xt(o,t,n)});else if(fc(e)){for(const o in e)Xt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Xt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gr(e,t,n,o){try{return o?e(...o):e()}catch(r){Cs(r,t,n)}}function Ut(e,t,n,o){if(ge(e)){const r=gr(e,t,n,o);return r&&cc(r)&&r.catch(s=>{Cs(s,t,n)}),r}if(pe(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Ut(e[s],t,n,o));return r}}function Cs(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Ne;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){tn(),gr(s,null,10,[e,l,u]),nn();return}}qh(e,n,r,o,i)}function qh(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const ot=[];let $t=-1;const uo=[];let fn=null,no=0;const jc=Promise.resolve();let Qr=null;function st(e){const t=Qr||jc;return e?t.then(this?e.bind(this):e):t}function Kh(e){let t=$t+1,n=ot.length;for(;t<n;){const o=t+n>>>1,r=ot[o],s=nr(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function ka(e){if(!(e.flags&1)){const t=nr(e),n=ot[ot.length-1];!n||!(e.flags&2)&&t>=nr(n)?ot.push(e):ot.splice(Kh(t),0,e),e.flags|=1,Lc()}}function Lc(){Qr||(Qr=jc.then(Bc))}function Yh(e){pe(e)?uo.push(...e):fn&&e.id===-1?fn.splice(no+1,0,e):e.flags&1||(uo.push(e),e.flags|=1),Lc()}function sl(e,t,n=$t+1){for(;n<ot.length;n++){const o=ot[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;ot.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function zc(e){if(uo.length){const t=[...new Set(uo)].sort((n,o)=>nr(n)-nr(o));if(uo.length=0,fn){fn.push(...t);return}for(fn=t,no=0;no<fn.length;no++){const n=fn[no];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fn=null,no=0}}const nr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bc(e){try{for($t=0;$t<ot.length;$t++){const t=ot[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<ot.length;$t++){const t=ot[$t];t&&(t.flags&=-2)}$t=-1,ot.length=0,zc(),Qr=null,(ot.length||uo.length)&&Bc()}}let Xe=null,Uc=null;function es(e){const t=Xe;return Xe=e,Uc=e&&e.type.__scopeId||null,t}function ct(e,t=Xe,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&gl(-1);const s=es(t);let i;try{i=e(...r)}finally{es(s),o._d&&gl(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Tr(e,t){if(Xe===null)return e;const n=As(Xe),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,i,a,l=Ne]=t[r];s&&(ge(s)&&(s={mounted:s,updated:s}),s.deep&&Xt(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Sn(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(tn(),Ut(l,n,8,[e.el,a,e,t]),nn())}}const Xh=Symbol("_vte"),Jh=e=>e.__isTeleport,Zh=Symbol("_leaveCb");function Ca(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ca(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ae(e,t){return ge(e)?et({name:e.name},t,{setup:e}):e}function Fc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fo(e,t,n,o,r=!1){if(pe(e)){e.forEach((y,b)=>Fo(y,t&&(pe(t)?t[b]:t),n,o,r));return}if(co(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Fo(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?As(o.component):o.el,i=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ne?a.refs={}:a.refs,d=a.setupState,f=Te(d),h=d===Ne?uc:y=>Oe(f,y);if(u!=null&&u!==l){if(Be(u))c[u]=null,h(u)&&(d[u]=null);else if(ze(u)){u.value=null;const y=t;y.k&&(c[y.k]=null)}}if(ge(l))gr(l,a,12,[i,c]);else{const y=Be(l),b=ze(l);if(y||b){const w=()=>{if(e.f){const k=y?h(l)?d[l]:c[l]:l.value;if(r)pe(k)&&pa(k,s);else if(pe(k))k.includes(s)||k.push(s);else if(y)c[l]=[s],h(l)&&(d[l]=c[l]);else{const T=[s];l.value=T,e.k&&(c[e.k]=T)}}else y?(c[l]=i,h(l)&&(d[l]=i)):b&&(l.value=i,e.k&&(c[e.k]=i))};i?(w.id=-1,pt(w,n)):w()}}}Ss().requestIdleCallback;Ss().cancelIdleCallback;const co=e=>!!e.type.__asyncLoader,Vc=e=>e.type.__isKeepAlive;function Qh(e,t){Hc(e,"a",t)}function ep(e,t){Hc(e,"da",t)}function Hc(e,t,n=Qe){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ts(t,o,n),n){let r=n.parent;for(;r&&r.parent;)Vc(r.parent.vnode)&&tp(o,t,n,r),r=r.parent}}function tp(e,t,n,o){const r=Ts(t,e,o,!0);mr(()=>{pa(o[t],r)},n)}function Ts(e,t,n=Qe,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{tn();const a=yr(n),l=Ut(t,n,e,i);return a(),nn(),l});return o?r.unshift(s):r.push(s),s}}const sn=e=>(t,n=Qe)=>{(!rr||e==="sp")&&Ts(e,(...o)=>t(...o),n)},Wc=sn("bm"),ft=sn("m"),np=sn("bu"),op=sn("u"),vr=sn("bum"),mr=sn("um"),rp=sn("sp"),sp=sn("rtg"),ip=sn("rtc");function ap(e,t=Qe){Ts("ec",e,t)}const Gc="components";function Ta(e,t){return Yc(Gc,e,!0,t)||e}const qc=Symbol.for("v-ndc");function Kc(e){return Be(e)?Yc(Gc,e,!1)||e:e||qc}function Yc(e,t,n=!0,o=!1){const r=Xe||Qe;if(r){const s=r.type;{const a=qp(s,!1);if(a&&(a===t||a===yt(t)||a===bs(yt(t))))return s}const i=il(r[e]||s[e],t)||il(r.appContext[e],t);return!i&&o?s:i}}function il(e,t){return e&&(e[t]||e[yt(t)]||e[bs(yt(t))])}function mo(e,t,n,o){let r;const s=n&&n[o],i=pe(e);if(i||Be(e)){const a=i&&lo(e);let l=!1,u=!1;a&&(l=!mt(e),u=mn(e),e=ks(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?Jr(Ye(e[c])):Ye(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s&&s[a])}else if($e(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s&&s[l])}}else r=[];return n&&(n[o]=r),r}function xt(e,t,n={},o,r){if(Xe.ce||Xe.parent&&co(Xe.parent)&&Xe.parent.ce)return t!=="default"&&(n.name=t),ue(),it(Me,null,[Ee("slot",n,o&&o())],64);let s=e[t];s&&s._c&&(s._d=!1),ue();const i=s&&Xc(s(n)),a=n.key||i&&i.key,l=it(Me,{key:(a&&!kt(a)?a:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Xc(e){return e.some(t=>or(t)?!(t.type===on||t.type===Me&&!Xc(t.children)):!0)?e:null}const Ai=e=>e?yd(e)?As(e):Ai(e.parent):null,Vo=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ai(e.parent),$root:e=>Ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ed(e),$forceUpdate:e=>e.f||(e.f=()=>{ka(e.update)}),$nextTick:e=>e.n||(e.n=st.bind(e.proxy)),$watch:e=>Ap.bind(e)}),Js=(e,t)=>e!==Ne&&!e.__isScriptSetup&&Oe(e,t),lp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Js(o,t))return i[t]=1,o[t];if(r!==Ne&&Oe(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&Oe(u,t))return i[t]=3,s[t];if(n!==Ne&&Oe(n,t))return i[t]=4,n[t];Ni&&(i[t]=0)}}const c=Vo[t];let d,f;if(c)return t==="$attrs"&&Ze(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Ne&&Oe(n,t))return i[t]=4,n[t];if(f=l.config.globalProperties,Oe(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return Js(r,t)?(r[t]=n,!0):o!==Ne&&Oe(o,t)?(o[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s,type:i}},a){let l,u;return!!(n[a]||e!==Ne&&a[0]!=="$"&&Oe(e,a)||Js(t,a)||(l=s[0])&&Oe(l,a)||Oe(o,a)||Oe(Vo,a)||Oe(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Jc(){return Zc().slots}function up(){return Zc().attrs}function Zc(e){const t=wn();return t.setupContext||(t.setupContext=wd(t))}function al(e){return pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function cp(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let Ni=!0;function dp(e){const t=ed(e),n=e.proxy,o=e.ctx;Ni=!1,t.beforeCreate&&ll(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:b,deactivated:w,beforeDestroy:k,beforeUnmount:T,destroyed:S,unmounted:C,render:L,renderTracked:U,renderTriggered:V,errorCaptured:X,serverPrefetch:ae,expose:oe,inheritAttrs:q,components:R,directives:ee,filters:O}=t;if(u&&fp(u,o,null),i)for(const B in i){const F=i[B];ge(F)&&(o[B]=F.bind(n))}if(r){const B=r.call(n,n);$e(B)&&(e.data=jn(B))}if(Ni=!0,s)for(const B in s){const F=s[B],J=ge(F)?F.bind(n,n):ge(F.get)?F.get.bind(n,n):Lt,Y=!ge(F)&&ge(F.set)?F.set.bind(n):Lt,te=ce({get:J,set:Y});Object.defineProperty(o,B,{enumerable:!0,configurable:!0,get:()=>te.value,set:le=>te.value=le})}if(a)for(const B in a)Qc(a[B],o,n,B);if(l){const B=ge(l)?l.call(n):l;Reflect.ownKeys(B).forEach(F=>{Ke(F,B[F])})}c&&ll(c,e,"c");function $(B,F){pe(F)?F.forEach(J=>B(J.bind(n))):F&&B(F.bind(n))}if($(Wc,d),$(ft,f),$(np,h),$(op,y),$(Qh,b),$(ep,w),$(ap,X),$(ip,U),$(sp,V),$(vr,T),$(mr,C),$(rp,ae),pe(oe))if(oe.length){const B=e.exposed||(e.exposed={});oe.forEach(F=>{Object.defineProperty(B,F,{get:()=>n[F],set:J=>n[F]=J,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===Lt&&(e.render=L),q!=null&&(e.inheritAttrs=q),R&&(e.components=R),ee&&(e.directives=ee),ae&&Fc(e)}function fp(e,t,n=Lt){pe(e)&&(e=$i(e));for(const o in e){const r=e[o];let s;$e(r)?"default"in r?s=Le(r.from||o,r.default,!0):s=Le(r.from||o):s=Le(r),ze(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[o]=s}}function ll(e,t,n){Ut(pe(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Qc(e,t,n,o){let r=o.includes(".")?hd(n,o):()=>n[o];if(Be(e)){const s=t[e];ge(s)&&be(r,s)}else if(ge(e))be(r,e.bind(n));else if($e(e))if(pe(e))e.forEach(s=>Qc(s,t,n,o));else{const s=ge(e.handler)?e.handler.bind(n):t[e.handler];ge(s)&&be(r,s,e)}}function ed(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(u=>ts(l,u,i,!0)),ts(l,t,i)),$e(t)&&s.set(t,l),l}function ts(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&ts(e,s,n,!0),r&&r.forEach(i=>ts(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=hp[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const hp={data:ul,props:cl,emits:cl,methods:Ro,computed:Ro,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:Ro,directives:Ro,watch:gp,provide:ul,inject:pp};function ul(e,t){return t?e?function(){return et(ge(e)?e.call(this,this):e,ge(t)?t.call(this,this):t)}:t:e}function pp(e,t){return Ro($i(e),$i(t))}function $i(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ro(e,t){return e?et(Object.create(null),e,t):t}function cl(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:et(Object.create(null),al(e),al(t??{})):t}function gp(e,t){if(!e)return t;if(!t)return e;const n=et(Object.create(null),e);for(const o in t)n[o]=nt(e[o],t[o]);return n}function td(){return{app:null,config:{isNativeTag:uc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vp=0;function mp(e,t){return function(o,r=null){ge(o)||(o=et({},o)),r!=null&&!$e(r)&&(r=null);const s=td(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:vp++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:Xp,get config(){return s.config},set config(c){},use(c,...d){return i.has(c)||(c&&ge(c.install)?(i.add(c),c.install(u,...d)):ge(c)&&(i.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||Ee(o,r);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,As(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ut(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=fo;fo=u;try{return c()}finally{fo=d}}};return u}}let fo=null;function Ke(e,t){if(Qe){let n=Qe.provides;const o=Qe.parent&&Qe.parent.provides;o===n&&(n=Qe.provides=Object.create(o)),n[e]=t}}function Le(e,t,n=!1){const o=wn();if(o||fo){let r=fo?fo._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ge(t)?t.call(o&&o.proxy):t}}const nd={},od=()=>Object.create(nd),rd=e=>Object.getPrototypeOf(e)===nd;function yp(e,t,n,o=!1){const r={},s=od();e.propsDefaults=Object.create(null),sd(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:Ic(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function _p(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=Te(r),[l]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Ps(e.emitsOptions,f))continue;const h=t[f];if(l)if(Oe(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const y=yt(f);r[y]=Ii(l,a,y,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{sd(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!Oe(t,d)&&((c=Un(d))===d||!Oe(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Ii(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!Oe(t,d))&&(delete s[d],u=!0)}u&&Yt(e.attrs,"set","")}function sd(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(zo(l))continue;const u=t[l];let c;r&&Oe(r,c=yt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ps(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,i=!0)}if(s){const l=Te(n),u=a||Ne;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Ii(r,l,d,u[d],e,!Oe(u,d))}}return i}function Ii(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=Oe(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ge(l)){const{propsDefaults:u}=r;if(n in u)o=u[n];else{const c=yr(r);o=u[n]=l.call(null,t),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===Un(n))&&(o=!0))}return o}const wp=new WeakMap;function id(e,t,n=!1){const o=n?wp:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let l=!1;if(!ge(e)){const c=d=>{l=!0;const[f,h]=id(d,t,!0);et(i,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return $e(e)&&o.set(e,io),io;if(pe(s))for(let c=0;c<s.length;c++){const d=yt(s[c]);dl(d)&&(i[d]=Ne)}else if(s)for(const c in s){const d=yt(c);if(dl(d)){const f=s[c],h=i[d]=pe(f)||ge(f)?{type:f}:et({},f),y=h.type;let b=!1,w=!0;if(pe(y))for(let k=0;k<y.length;++k){const T=y[k],S=ge(T)&&T.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(w=!1)}else b=ge(y)&&y.name==="Boolean";h[0]=b,h[1]=w,(b||Oe(h,"default"))&&a.push(d)}}const u=[i,a];return $e(e)&&o.set(e,u),u}function dl(e){return e[0]!=="$"&&!zo(e)}const Pa=e=>e==="_"||e==="_ctx"||e==="$stable",Oa=e=>pe(e)?e.map(Mt):[Mt(e)],bp=(e,t,n)=>{if(t._n)return t;const o=ct((...r)=>Oa(t(...r)),n);return o._c=!1,o},ad=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Pa(r))continue;const s=e[r];if(ge(s))t[r]=bp(r,s,o);else if(s!=null){const i=Oa(s);t[r]=()=>i}}},ld=(e,t)=>{const n=Oa(t);e.slots.default=()=>n},ud=(e,t,n)=>{for(const o in t)(n||!Pa(o))&&(e[o]=t[o])},Sp=(e,t,n)=>{const o=e.slots=od();if(e.vnode.shapeFlag&32){const r=t._;r?(ud(o,t,n),n&&hc(o,"_",r,!0)):ad(t,o)}else t&&ld(e,t)},Ep=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=Ne;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:ud(r,t,n):(s=!t.$stable,ad(t,r)),i=t}else t&&(ld(e,t),i={default:1});if(s)for(const a in r)!Pa(a)&&i[a]==null&&delete r[a]},pt=jp;function xp(e){return kp(e)}function kp(e,t){const n=Ss();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Lt,insertStaticContent:y}=e,b=(m,_,p,v=null,g=null,x=null,N=void 0,z=null,M=!!_.dynamicChildren)=>{if(m===_)return;m&&!Ao(m,_)&&(v=E(m),le(m,g,x,!0),m=null),_.patchFlag===-2&&(M=!1,_.dynamicChildren=null);const{type:j,ref:G,shapeFlag:W}=_;switch(j){case Os:w(m,_,p,v);break;case on:k(m,_,p,v);break;case Qs:m==null&&T(_,p,v,N);break;case Me:R(m,_,p,v,g,x,N,z,M);break;default:W&1?L(m,_,p,v,g,x,N,z,M):W&6?ee(m,_,p,v,g,x,N,z,M):(W&64||W&128)&&j.process(m,_,p,v,g,x,N,z,M,I)}G!=null&&g?Fo(G,m&&m.ref,x,_||m,!_):G==null&&m&&m.ref!=null&&Fo(m.ref,null,x,m,!0)},w=(m,_,p,v)=>{if(m==null)o(_.el=a(_.children),p,v);else{const g=_.el=m.el;_.children!==m.children&&u(g,_.children)}},k=(m,_,p,v)=>{m==null?o(_.el=l(_.children||""),p,v):_.el=m.el},T=(m,_,p,v)=>{[m.el,m.anchor]=y(m.children,_,p,v,m.el,m.anchor)},S=({el:m,anchor:_},p,v)=>{let g;for(;m&&m!==_;)g=f(m),o(m,p,v),m=g;o(_,p,v)},C=({el:m,anchor:_})=>{let p;for(;m&&m!==_;)p=f(m),r(m),m=p;r(_)},L=(m,_,p,v,g,x,N,z,M)=>{_.type==="svg"?N="svg":_.type==="math"&&(N="mathml"),m==null?U(_,p,v,g,x,N,z,M):ae(m,_,g,x,N,z,M)},U=(m,_,p,v,g,x,N,z)=>{let M,j;const{props:G,shapeFlag:W,transition:K,dirs:se}=m;if(M=m.el=i(m.type,x,G&&G.is,G),W&8?c(M,m.children):W&16&&X(m.children,M,null,v,g,Zs(m,x),N,z),se&&Sn(m,null,v,"created"),V(M,m,m.scopeId,N,v),G){for(const ke in G)ke!=="value"&&!zo(ke)&&s(M,ke,null,G[ke],x,v);"value"in G&&s(M,"value",null,G.value,x),(j=G.onVnodeBeforeMount)&&Nt(j,v,m)}se&&Sn(m,null,v,"beforeMount");const ye=Cp(g,K);ye&&K.beforeEnter(M),o(M,_,p),((j=G&&G.onVnodeMounted)||ye||se)&&pt(()=>{j&&Nt(j,v,m),ye&&K.enter(M),se&&Sn(m,null,v,"mounted")},g)},V=(m,_,p,v,g)=>{if(p&&h(m,p),v)for(let x=0;x<v.length;x++)h(m,v[x]);if(g){let x=g.subTree;if(_===x||gd(x.type)&&(x.ssContent===_||x.ssFallback===_)){const N=g.vnode;V(m,N,N.scopeId,N.slotScopeIds,g.parent)}}},X=(m,_,p,v,g,x,N,z,M=0)=>{for(let j=M;j<m.length;j++){const G=m[j]=z?hn(m[j]):Mt(m[j]);b(null,G,_,p,v,g,x,N,z)}},ae=(m,_,p,v,g,x,N)=>{const z=_.el=m.el;let{patchFlag:M,dynamicChildren:j,dirs:G}=_;M|=m.patchFlag&16;const W=m.props||Ne,K=_.props||Ne;let se;if(p&&En(p,!1),(se=K.onVnodeBeforeUpdate)&&Nt(se,p,_,m),G&&Sn(_,m,p,"beforeUpdate"),p&&En(p,!0),(W.innerHTML&&K.innerHTML==null||W.textContent&&K.textContent==null)&&c(z,""),j?oe(m.dynamicChildren,j,z,p,v,Zs(_,g),x):N||F(m,_,z,null,p,v,Zs(_,g),x,!1),M>0){if(M&16)q(z,W,K,p,g);else if(M&2&&W.class!==K.class&&s(z,"class",null,K.class,g),M&4&&s(z,"style",W.style,K.style,g),M&8){const ye=_.dynamicProps;for(let ke=0;ke<ye.length;ke++){const Ce=ye[ke],lt=W[Ce],ut=K[Ce];(ut!==lt||Ce==="value")&&s(z,Ce,lt,ut,g,p)}}M&1&&m.children!==_.children&&c(z,_.children)}else!N&&j==null&&q(z,W,K,p,g);((se=K.onVnodeUpdated)||G)&&pt(()=>{se&&Nt(se,p,_,m),G&&Sn(_,m,p,"updated")},v)},oe=(m,_,p,v,g,x,N)=>{for(let z=0;z<_.length;z++){const M=m[z],j=_[z],G=M.el&&(M.type===Me||!Ao(M,j)||M.shapeFlag&198)?d(M.el):p;b(M,j,G,null,v,g,x,N,!0)}},q=(m,_,p,v,g)=>{if(_!==p){if(_!==Ne)for(const x in _)!zo(x)&&!(x in p)&&s(m,x,_[x],null,g,v);for(const x in p){if(zo(x))continue;const N=p[x],z=_[x];N!==z&&x!=="value"&&s(m,x,z,N,g,v)}"value"in p&&s(m,"value",_.value,p.value,g)}},R=(m,_,p,v,g,x,N,z,M)=>{const j=_.el=m?m.el:a(""),G=_.anchor=m?m.anchor:a("");let{patchFlag:W,dynamicChildren:K,slotScopeIds:se}=_;se&&(z=z?z.concat(se):se),m==null?(o(j,p,v),o(G,p,v),X(_.children||[],p,G,g,x,N,z,M)):W>0&&W&64&&K&&m.dynamicChildren?(oe(m.dynamicChildren,K,p,g,x,N,z),(_.key!=null||g&&_===g.subTree)&&cd(m,_,!0)):F(m,_,p,G,g,x,N,z,M)},ee=(m,_,p,v,g,x,N,z,M)=>{_.slotScopeIds=z,m==null?_.shapeFlag&512?g.ctx.activate(_,p,v,N,M):O(_,p,v,g,x,N,M):H(m,_,M)},O=(m,_,p,v,g,x,N)=>{const z=m.component=Vp(m,v,g);if(Vc(m)&&(z.ctx.renderer=I),Hp(z,!1,N),z.asyncDep){if(g&&g.registerDep(z,$,N),!m.el){const M=z.subTree=Ee(on);k(null,M,_,p),m.placeholder=M.el}}else $(z,m,_,p,g,x,N)},H=(m,_,p)=>{const v=_.component=m.component;if(Mp(m,_,p))if(v.asyncDep&&!v.asyncResolved){B(v,_,p);return}else v.next=_,v.update();else _.el=m.el,v.vnode=_},$=(m,_,p,v,g,x,N)=>{const z=()=>{if(m.isMounted){let{next:W,bu:K,u:se,parent:ye,vnode:ke}=m;{const Ot=dd(m);if(Ot){W&&(W.el=ke.el,B(m,W,N)),Ot.asyncDep.then(()=>{m.isUnmounted||z()});return}}let Ce=W,lt;En(m,!1),W?(W.el=ke.el,B(m,W,N)):W=ke,K&&Ur(K),(lt=W.props&&W.props.onVnodeBeforeUpdate)&&Nt(lt,ye,W,ke),En(m,!0);const ut=hl(m),Pt=m.subTree;m.subTree=ut,b(Pt,ut,d(Pt.el),E(Pt),m,g,x),W.el=ut.el,Ce===null&&Dp(m,ut.el),se&&pt(se,g),(lt=W.props&&W.props.onVnodeUpdated)&&pt(()=>Nt(lt,ye,W,ke),g)}else{let W;const{el:K,props:se}=_,{bm:ye,m:ke,parent:Ce,root:lt,type:ut}=m,Pt=co(_);En(m,!1),ye&&Ur(ye),!Pt&&(W=se&&se.onVnodeBeforeMount)&&Nt(W,Ce,_),En(m,!0);{lt.ce&&lt.ce._def.shadowRoot!==!1&&lt.ce._injectChildStyle(ut);const Ot=m.subTree=hl(m);b(null,Ot,p,v,m,g,x),_.el=Ot.el}if(ke&&pt(ke,g),!Pt&&(W=se&&se.onVnodeMounted)){const Ot=_;pt(()=>Nt(W,Ce,Ot),g)}(_.shapeFlag&256||Ce&&co(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&m.a&&pt(m.a,g),m.isMounted=!0,_=p=v=null}};m.scope.on();const M=m.effect=new _c(z);m.scope.off();const j=m.update=M.run.bind(M),G=m.job=M.runIfDirty.bind(M);G.i=m,G.id=m.uid,M.scheduler=()=>ka(G),En(m,!0),j()},B=(m,_,p)=>{_.component=m;const v=m.vnode.props;m.vnode=_,m.next=null,_p(m,_.props,v,p),Ep(m,_.children,p),tn(),sl(m),nn()},F=(m,_,p,v,g,x,N,z,M=!1)=>{const j=m&&m.children,G=m?m.shapeFlag:0,W=_.children,{patchFlag:K,shapeFlag:se}=_;if(K>0){if(K&128){Y(j,W,p,v,g,x,N,z,M);return}else if(K&256){J(j,W,p,v,g,x,N,z,M);return}}se&8?(G&16&&Q(j,g,x),W!==j&&c(p,W)):G&16?se&16?Y(j,W,p,v,g,x,N,z,M):Q(j,g,x,!0):(G&8&&c(p,""),se&16&&X(W,p,v,g,x,N,z,M))},J=(m,_,p,v,g,x,N,z,M)=>{m=m||io,_=_||io;const j=m.length,G=_.length,W=Math.min(j,G);let K;for(K=0;K<W;K++){const se=_[K]=M?hn(_[K]):Mt(_[K]);b(m[K],se,p,null,g,x,N,z,M)}j>G?Q(m,g,x,!0,!1,W):X(_,p,v,g,x,N,z,M,W)},Y=(m,_,p,v,g,x,N,z,M)=>{let j=0;const G=_.length;let W=m.length-1,K=G-1;for(;j<=W&&j<=K;){const se=m[j],ye=_[j]=M?hn(_[j]):Mt(_[j]);if(Ao(se,ye))b(se,ye,p,null,g,x,N,z,M);else break;j++}for(;j<=W&&j<=K;){const se=m[W],ye=_[K]=M?hn(_[K]):Mt(_[K]);if(Ao(se,ye))b(se,ye,p,null,g,x,N,z,M);else break;W--,K--}if(j>W){if(j<=K){const se=K+1,ye=se<G?_[se].el:v;for(;j<=K;)b(null,_[j]=M?hn(_[j]):Mt(_[j]),p,ye,g,x,N,z,M),j++}}else if(j>K)for(;j<=W;)le(m[j],g,x,!0),j++;else{const se=j,ye=j,ke=new Map;for(j=ye;j<=K;j++){const ht=_[j]=M?hn(_[j]):Mt(_[j]);ht.key!=null&&ke.set(ht.key,j)}let Ce,lt=0;const ut=K-ye+1;let Pt=!1,Ot=0;const Po=new Array(ut);for(j=0;j<ut;j++)Po[j]=0;for(j=se;j<=W;j++){const ht=m[j];if(lt>=ut){le(ht,g,x,!0);continue}let At;if(ht.key!=null)At=ke.get(ht.key);else for(Ce=ye;Ce<=K;Ce++)if(Po[Ce-ye]===0&&Ao(ht,_[Ce])){At=Ce;break}At===void 0?le(ht,g,x,!0):(Po[At-ye]=j+1,At>=Ot?Ot=At:Pt=!0,b(ht,_[At],p,null,g,x,N,z,M),lt++)}const Za=Pt?Tp(Po):io;for(Ce=Za.length-1,j=ut-1;j>=0;j--){const ht=ye+j,At=_[ht],Qa=_[ht+1],el=ht+1<G?Qa.el||Qa.placeholder:v;Po[j]===0?b(null,At,p,el,g,x,N,z,M):Pt&&(Ce<0||j!==Za[Ce]?te(At,p,el,2):Ce--)}}},te=(m,_,p,v,g=null)=>{const{el:x,type:N,transition:z,children:M,shapeFlag:j}=m;if(j&6){te(m.component.subTree,_,p,v);return}if(j&128){m.suspense.move(_,p,v);return}if(j&64){N.move(m,_,p,I);return}if(N===Me){o(x,_,p);for(let W=0;W<M.length;W++)te(M[W],_,p,v);o(m.anchor,_,p);return}if(N===Qs){S(m,_,p);return}if(v!==2&&j&1&&z)if(v===0)z.beforeEnter(x),o(x,_,p),pt(()=>z.enter(x),g);else{const{leave:W,delayLeave:K,afterLeave:se}=z,ye=()=>{m.ctx.isUnmounted?r(x):o(x,_,p)},ke=()=>{x._isLeaving&&x[Zh](!0),W(x,()=>{ye(),se&&se()})};K?K(x,ye,ke):ke()}else o(x,_,p)},le=(m,_,p,v=!1,g=!1)=>{const{type:x,props:N,ref:z,children:M,dynamicChildren:j,shapeFlag:G,patchFlag:W,dirs:K,cacheIndex:se}=m;if(W===-2&&(g=!1),z!=null&&(tn(),Fo(z,null,p,m,!0),nn()),se!=null&&(_.renderCache[se]=void 0),G&256){_.ctx.deactivate(m);return}const ye=G&1&&K,ke=!co(m);let Ce;if(ke&&(Ce=N&&N.onVnodeBeforeUnmount)&&Nt(Ce,_,m),G&6)re(m.component,p,v);else{if(G&128){m.suspense.unmount(p,v);return}ye&&Sn(m,null,_,"beforeUnmount"),G&64?m.type.remove(m,_,p,I,v):j&&!j.hasOnce&&(x!==Me||W>0&&W&64)?Q(j,_,p,!1,!0):(x===Me&&W&384||!g&&G&16)&&Q(M,_,p),v&&fe(m)}(ke&&(Ce=N&&N.onVnodeUnmounted)||ye)&&pt(()=>{Ce&&Nt(Ce,_,m),ye&&Sn(m,null,_,"unmounted")},p)},fe=m=>{const{type:_,el:p,anchor:v,transition:g}=m;if(_===Me){Z(p,v);return}if(_===Qs){C(m);return}const x=()=>{r(p),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(m.shapeFlag&1&&g&&!g.persisted){const{leave:N,delayLeave:z}=g,M=()=>N(p,x);z?z(m.el,x,M):M()}else x()},Z=(m,_)=>{let p;for(;m!==_;)p=f(m),r(m),m=p;r(_)},re=(m,_,p)=>{const{bum:v,scope:g,job:x,subTree:N,um:z,m:M,a:j}=m;fl(M),fl(j),v&&Ur(v),g.stop(),x&&(x.flags|=8,le(N,m,_,p)),z&&pt(z,_),pt(()=>{m.isUnmounted=!0},_)},Q=(m,_,p,v=!1,g=!1,x=0)=>{for(let N=x;N<m.length;N++)le(m[N],_,p,v,g)},E=m=>{if(m.shapeFlag&6)return E(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const _=f(m.anchor||m.el),p=_&&_[Xh];return p?f(p):_};let P=!1;const A=(m,_,p)=>{m==null?_._vnode&&le(_._vnode,null,null,!0):b(_._vnode||null,m,_,null,null,null,p),_._vnode=m,P||(P=!0,sl(),zc(),P=!1)},I={p:b,um:le,m:te,r:fe,mt:O,mc:X,pc:F,pbc:oe,n:E,o:e};return{render:A,hydrate:void 0,createApp:mp(A)}}function Zs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function En({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Cp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function cd(e,t,n=!1){const o=e.children,r=t.children;if(pe(o)&&pe(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=hn(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&cd(i,a)),a.type===Os&&a.patchFlag!==-1&&(a.el=i.el),a.type===on&&!a.el&&(a.el=i.el)}}function Tp(e){const t=e.slice(),n=[0];let o,r,s,i,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<u?s=a+1:i=a;u<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function dd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:dd(t)}function fl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Pp=Symbol.for("v-scx"),Op=()=>Le(Pp);function be(e,t,n){return fd(e,t,n)}function fd(e,t,n=Ne){const{immediate:o,deep:r,flush:s,once:i}=n,a=et({},n),l=t&&o||!t&&s!=="post";let u;if(rr){if(s==="sync"){const h=Op();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Lt,h.resume=Lt,h.pause=Lt,h}}const c=Qe;a.call=(h,y,b)=>Ut(h,c,y,b);let d=!1;s==="post"?a.scheduler=h=>{pt(h,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(h,y)=>{y?h():ka(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Gh(e,t,a);return rr&&(u?u.push(f):l&&f()),f}function Ap(e,t,n){const o=this.proxy,r=Be(e)?e.includes(".")?hd(o,e):()=>o[e]:e.bind(o,o);let s;ge(t)?s=t:(s=t.handler,n=t);const i=yr(this),a=fd(r,s.bind(o),n);return i(),a}function hd(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Np=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${yt(t)}Modifiers`]||e[`${Un(t)}Modifiers`];function $p(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Ne;let r=n;const s=t.startsWith("update:"),i=s&&Np(o,t.slice(7));i&&(i.trim&&(r=n.map(c=>Be(c)?c.trim():c)),i.number&&(r=n.map(Ci)));let a,l=o[a=Gs(t)]||o[a=Gs(yt(t))];!l&&s&&(l=o[a=Gs(Un(t))]),l&&Ut(l,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ut(u,e,6,r)}}function pd(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!ge(e)){const l=u=>{const c=pd(u,t,!0);c&&(a=!0,et(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?($e(e)&&o.set(e,null),null):(pe(s)?s.forEach(l=>i[l]=null):et(i,s),$e(e)&&o.set(e,i),i)}function Ps(e,t){return!e||!ys(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,Un(t))||Oe(e,t))}function hl(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:y,inheritAttrs:b}=e,w=es(e);let k,T;try{if(n.shapeFlag&4){const C=r||o,L=C;k=Mt(u.call(L,C,c,d,h,f,y)),T=a}else{const C=t;k=Mt(C.length>1?C(d,{attrs:a,slots:i,emit:l}):C(d,null)),T=t.props?a:Ip(a)}}catch(C){Ho.length=0,Cs(C,e,1),k=Ee(on)}let S=k;if(T&&b!==!1){const C=Object.keys(T),{shapeFlag:L}=S;C.length&&L&7&&(s&&C.some(ha)&&(T=Rp(T,s)),S=_o(S,T,!1,!0))}return n.dirs&&(S=_o(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&Ca(S,n.transition),k=S,es(w),k}const Ip=e=>{let t;for(const n in e)(n==="class"||n==="style"||ys(n))&&((t||(t={}))[n]=e[n]);return t},Rp=(e,t)=>{const n={};for(const o in e)(!ha(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Mp(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?pl(o,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(i[f]!==o[f]&&!Ps(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?pl(o,i,u):!0:!!i;return!1}function pl(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!Ps(n,s))return!0}return!1}function Dp({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const gd=e=>e.__isSuspense;function jp(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Yh(e)}const Me=Symbol.for("v-fgt"),Os=Symbol.for("v-txt"),on=Symbol.for("v-cmt"),Qs=Symbol.for("v-stc"),Ho=[];let rt=null;function ue(e=!1){Ho.push(rt=e?null:[])}function Lp(){Ho.pop(),rt=Ho[Ho.length-1]||null}let yo=1;function gl(e,t=!1){yo+=e,e<0&&rt&&t&&(rt.hasOnce=!0)}function vd(e){return e.dynamicChildren=yo>0?rt||io:null,Lp(),yo>0&&rt&&rt.push(e),e}function he(e,t,n,o,r,s){return vd(we(e,t,n,o,r,s,!0))}function it(e,t,n,o,r){return vd(Ee(e,t,n,o,r,!0))}function or(e){return e?e.__v_isVNode===!0:!1}function Ao(e,t){return e.type===t.type&&e.key===t.key}const md=({key:e})=>e??null,Vr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||ze(e)||ge(e)?{i:Xe,r:e,k:t,f:!!n}:e:null);function we(e,t=null,n=null,o=0,r=null,s=e===Me?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&md(t),ref:t&&Vr(t),scopeId:Uc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Xe};return a?(Aa(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Be(n)?8:16),yo>0&&!i&&rt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&rt.push(l),l}const Ee=zp;function zp(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===qc)&&(e=on),or(e)){const a=_o(e,t,!0);return n&&Aa(a,n),yo>0&&!s&&rt&&(a.shapeFlag&6?rt[rt.indexOf(e)]=a:rt.push(a)),a.patchFlag=-2,a}if(Kp(e)&&(e=e.__vccOpts),t){t=Bp(t);let{class:a,style:l}=t;a&&!Be(a)&&(t.class=Bt(a)),$e(l)&&(xa(l)&&!pe(l)&&(l=et({},l)),t.style=gt(l))}const i=Be(e)?1:gd(e)?128:Jh(e)?64:$e(e)?4:ge(e)?2:0;return we(e,t,n,o,r,i,s,!0)}function Bp(e){return e?xa(e)||rd(e)?et({},e):e:null}function _o(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,u=t?Na(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&md(u),ref:t&&t.ref?n&&s?pe(s)?s.concat(Vr(t)):[s,Vr(t)]:Vr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_o(e.ssContent),ssFallback:e.ssFallback&&_o(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&Ca(c,l.clone(c)),c}function ns(e=" ",t=0){return Ee(Os,null,e,t)}function at(e="",t=!1){return t?(ue(),it(on,null,e)):Ee(on,null,e)}function Mt(e){return e==null||typeof e=="boolean"?Ee(on):pe(e)?Ee(Me,null,e.slice()):or(e)?hn(e):Ee(Os,null,String(e))}function hn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_o(e)}function Aa(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Aa(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!rd(t)?t._ctx=Xe:r===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ge(t)?(t={default:t,_ctx:Xe},n=32):(t=String(t),o&64?(n=16,t=[ns(t)]):n=8);e.children=t,e.shapeFlag|=n}function Na(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Bt([t.class,o.class]));else if(r==="style")t.style=gt([t.style,o.style]);else if(ys(r)){const s=t[r],i=o[r];i&&s!==i&&!(pe(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function Nt(e,t,n,o=null){Ut(e,t,7,[n,o])}const Up=td();let Fp=0;function Vp(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Up,s={uid:Fp++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:id(o,r),emitsOptions:pd(o,r),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:o.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=$p.bind(null,s),e.ce&&e.ce(s),s}let Qe=null;const wn=()=>Qe||Xe;let os,Ri;{const e=Ss(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};os=t("__VUE_INSTANCE_SETTERS__",n=>Qe=n),Ri=t("__VUE_SSR_SETTERS__",n=>rr=n)}const yr=e=>{const t=Qe;return os(e),e.scope.on(),()=>{e.scope.off(),os(t)}},vl=()=>{Qe&&Qe.scope.off(),os(null)};function yd(e){return e.vnode.shapeFlag&4}let rr=!1;function Hp(e,t=!1,n=!1){t&&Ri(t);const{props:o,children:r}=e.vnode,s=yd(e);yp(e,o,s,t),Sp(e,r,n||t);const i=s?Wp(e,t):void 0;return t&&Ri(!1),i}function Wp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,lp);const{setup:o}=n;if(o){tn();const r=e.setupContext=o.length>1?wd(e):null,s=yr(e),i=gr(o,e,0,[e.props,r]),a=cc(i);if(nn(),s(),(a||e.sp)&&!co(e)&&Fc(e),a){if(i.then(vl,vl),t)return i.then(l=>{ml(e,l)}).catch(l=>{Cs(l,e,0)});e.asyncDep=i}else ml(e,i)}else _d(e)}function ml(e,t,n){ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Mc(t)),_d(e)}function _d(e,t,n){const o=e.type;e.render||(e.render=o.render||Lt);{const r=yr(e);tn();try{dp(e)}finally{nn(),r()}}}const Gp={get(e,t){return Ze(e,"get",""),e[t]}};function wd(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Gp),slots:e.slots,emit:e.emit,expose:t}}function As(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mc(Rn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vo)return Vo[n](e)},has(t,n){return n in t||n in Vo}})):e.proxy}function qp(e,t=!0){return ge(e)?e.displayName||e.name:e.name||t&&e.__name}function Kp(e){return ge(e)&&"__vccOpts"in e}const ce=(e,t)=>Hh(e,t,rr);function xe(e,t,n){const o=arguments.length;return o===2?$e(t)&&!pe(t)?or(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&or(n)&&(n=[n]),Ee(e,t,n))}function Yp(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(en(n[o],t[o]))return!1;return yo>0&&rt&&rt.push(e),!0}const Xp="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mi;const yl=typeof window<"u"&&window.trustedTypes;if(yl)try{Mi=yl.createPolicy("vue",{createHTML:e=>e})}catch{}const bd=Mi?e=>Mi.createHTML(e):e=>e,Jp="http://www.w3.org/2000/svg",Zp="http://www.w3.org/1998/Math/MathML",qt=typeof document<"u"?document:null,_l=qt&&qt.createElement("template"),Qp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?qt.createElementNS(Jp,e):t==="mathml"?qt.createElementNS(Zp,e):n?qt.createElement(e,{is:n}):qt.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>qt.createTextNode(e),createComment:e=>qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{_l.innerHTML=bd(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=_l.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},eg=Symbol("_vtc");function tg(e,t,n){const o=e[eg];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wl=Symbol("_vod"),ng=Symbol("_vsh"),og=Symbol(""),rg=/(^|;)\s*display\s*:/;function sg(e,t,n){const o=e.style,r=Be(n);let s=!1;if(n&&!r){if(t)if(Be(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Hr(o,a,"")}else for(const i in t)n[i]==null&&Hr(o,i,"");for(const i in n)i==="display"&&(s=!0),Hr(o,i,n[i])}else if(r){if(t!==n){const i=o[og];i&&(n+=";"+i),o.cssText=n,s=rg.test(n)}}else t&&e.removeAttribute("style");wl in e&&(e[wl]=s?o.display:"",e[ng]&&(o.display="none"))}const bl=/\s*!important$/;function Hr(e,t,n){if(pe(n))n.forEach(o=>Hr(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=ig(e,t);bl.test(n)?e.setProperty(Un(o),n.replace(bl,""),"important"):e[o]=n}}const Sl=["Webkit","Moz","ms"],ei={};function ig(e,t){const n=ei[t];if(n)return n;let o=yt(t);if(o!=="filter"&&o in e)return ei[t]=o;o=bs(o);for(let r=0;r<Sl.length;r++){const s=Sl[r]+o;if(s in e)return ei[t]=s}return t}const El="http://www.w3.org/1999/xlink";function xl(e,t,n,o,r,s=gh(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(El,t.slice(6,t.length)):e.setAttributeNS(El,t,n):n==null||s&&!pc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":kt(n)?String(n):n)}function kl(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?bd(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=pc(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function Pn(e,t,n,o){e.addEventListener(t,n,o)}function ag(e,t,n,o){e.removeEventListener(t,n,o)}const Cl=Symbol("_vei");function lg(e,t,n,o,r=null){const s=e[Cl]||(e[Cl]={}),i=s[t];if(o&&i)i.value=o;else{const[a,l]=ug(t);if(o){const u=s[t]=fg(o,r);Pn(e,a,u,l)}else i&&(ag(e,a,i,l),s[t]=void 0)}}const Tl=/(?:Once|Passive|Capture)$/;function ug(e){let t;if(Tl.test(e)){t={};let o;for(;o=e.match(Tl);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let ti=0;const cg=Promise.resolve(),dg=()=>ti||(cg.then(()=>ti=0),ti=Date.now());function fg(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ut(hg(o,n.value),t,5,[o])};return n.value=e,n.attached=dg(),n}function hg(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Pl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pg=(e,t,n,o,r,s)=>{const i=r==="svg";t==="class"?tg(e,o,i):t==="style"?sg(e,n,o):ys(t)?ha(t)||lg(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gg(e,t,o,i))?(kl(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&xl(e,t,o,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(o))?kl(e,yt(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),xl(e,t,o,i))};function gg(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Pl(t)&&ge(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Pl(t)&&Be(n)?!1:t in e}const rs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>Ur(t,n):t};function vg(e){e.target.composing=!0}function Ol(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ho=Symbol("_assign"),ni={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[ho]=rs(r);const s=o||r.props&&r.props.type==="number";Pn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Ci(a)),e[ho](a)}),n&&Pn(e,"change",()=>{e.value=e.value.trim()}),t||(Pn(e,"compositionstart",vg),Pn(e,"compositionend",Ol),Pn(e,"change",Ol))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(e[ho]=rs(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Ci(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},mg={deep:!0,created(e,t,n){e[ho]=rs(n),Pn(e,"change",()=>{const o=e._modelValue,r=yg(e),s=e.checked,i=e[ho];if(pe(o)){const a=gc(o,r),l=a!==-1;if(s&&!l)i(o.concat(r));else if(!s&&l){const u=[...o];u.splice(a,1),i(u)}}else if(_s(o)){const a=new Set(o);s?a.add(r):a.delete(r),i(a)}else i(Sd(e,s))})},mounted:Al,beforeUpdate(e,t,n){e[ho]=rs(n),Al(e,t,n)}};function Al(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(pe(t))r=gc(t,o.props.value)>-1;else if(_s(t))r=t.has(o.props.value);else{if(t===n)return;r=Es(t,Sd(e,!0))}e.checked!==r&&(e.checked=r)}function yg(e){return"_value"in e?e._value:e.value}function Sd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const _g=["ctrl","shift","alt","meta"],wg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_g.some(n=>e[`${n}Key`]&&!t.includes(n))},bg=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<t.length;i++){const a=wg[t[i]];if(a&&a(r,t))return}return e(r,...s)}))},Sg=et({patchProp:pg},Qp);let Nl;function Eg(){return Nl||(Nl=xp(Sg))}const xg=((...e)=>{const t=Eg().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Cg(o);if(!r)return;const s=t._component;!ge(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,kg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function kg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Cg(e){return Be(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Tg=Symbol();var $l;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($l||($l={}));function Pg(){const e=va(!0),t=e.run(()=>ve({}));let n=[],o=[];const r=Rn({install(s){r._a=s,s.provide(Tg,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const _r=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Og={};function Ag(e,t){const n=Ta("RouterView");return ue(),it(n)}const Ng=_r(Og,[["render",Ag]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const oo=typeof document<"u";function Ed(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $g(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ed(e.default)}const Pe=Object.assign;function oi(e,t){const n={};for(const o in t){const r=t[o];n[o]=Ct(r)?r.map(e):e(r)}return n}const Wo=()=>{},Ct=Array.isArray,xd=/#/g,Ig=/&/g,Rg=/\//g,Mg=/=/g,Dg=/\?/g,kd=/\+/g,jg=/%5B/g,Lg=/%5D/g,Cd=/%5E/g,zg=/%60/g,Td=/%7B/g,Bg=/%7C/g,Pd=/%7D/g,Ug=/%20/g;function $a(e){return encodeURI(""+e).replace(Bg,"|").replace(jg,"[").replace(Lg,"]")}function Fg(e){return $a(e).replace(Td,"{").replace(Pd,"}").replace(Cd,"^")}function Di(e){return $a(e).replace(kd,"%2B").replace(Ug,"+").replace(xd,"%23").replace(Ig,"%26").replace(zg,"`").replace(Td,"{").replace(Pd,"}").replace(Cd,"^")}function Vg(e){return Di(e).replace(Mg,"%3D")}function Hg(e){return $a(e).replace(xd,"%23").replace(Dg,"%3F")}function Wg(e){return e==null?"":Hg(e).replace(Rg,"%2F")}function sr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Gg=/\/$/,qg=e=>e.replace(Gg,"");function ri(e,t,n="/"){let o,r={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(o=o||t.slice(0,a),i=t.slice(a,t.length)),o=Jg(o??t,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:sr(i)}}function Kg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Il(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Yg(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&wo(t.matched[o],n.matched[r])&&Od(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function wo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Od(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Xg(e[n],t[n]))return!1;return!0}function Xg(e,t){return Ct(e)?Rl(e,t):Ct(t)?Rl(t,e):e===t}function Rl(e,t){return Ct(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Jg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const an={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ir;(function(e){e.pop="pop",e.push="push"})(ir||(ir={}));var Go;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Go||(Go={}));function Zg(e){if(!e)if(oo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qg(e)}const Qg=/^[^#]+#/;function ev(e,t){return e.replace(Qg,"#")+t}function tv(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ns=()=>({left:window.scrollX,top:window.scrollY});function nv(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=tv(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ml(e,t){return(history.state?history.state.position-t:-1)+e}const ji=new Map;function ov(e,t){ji.set(e,t)}function rv(e){const t=ji.get(e);return ji.delete(e),t}let sv=()=>location.protocol+"//"+location.host;function Ad(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Il(l,"")}return Il(n,e)+o+r}function iv(e,t,n,o){let r=[],s=[],i=null;const a=({state:f})=>{const h=Ad(e,location),y=n.value,b=t.value;let w=0;if(f){if(n.value=h,t.value=f,i&&i===y){i=null;return}w=b?f.position-b.position:0}else o(h);r.forEach(k=>{k(n.value,y,{delta:w,type:ir.pop,direction:w?w>0?Go.forward:Go.back:Go.unknown})})};function l(){i=n.value}function u(f){r.push(f);const h=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Pe({},f.state,{scroll:Ns()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Dl(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?Ns():null}}function av(e){const{history:t,location:n}=window,o={value:Ad(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:sv()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function i(l,u){const c=Pe({},t.state,Dl(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),o.value=l}function a(l,u){const c=Pe({},r.value,t.state,{forward:l,scroll:Ns()});s(c.current,c,!0);const d=Pe({},Dl(o.value,l,null),{position:c.position+1},u);s(l,d,!1),o.value=l}return{location:o,state:r,push:a,replace:i}}function lv(e){e=Zg(e);const t=av(e),n=iv(e,t.state,t.location,t.replace);function o(s,i=!0){i||n.pauseListeners(),history.go(s)}const r=Pe({location:"",base:e,go:o,createHref:ev.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function uv(e){return typeof e=="string"||e&&typeof e=="object"}function Nd(e){return typeof e=="string"||typeof e=="symbol"}const $d=Symbol("");var jl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jl||(jl={}));function bo(e,t){return Pe(new Error,{type:e,[$d]:!0},t)}function Ht(e,t){return e instanceof Error&&$d in e&&(t==null||!!(e.type&t))}const Ll="[^/]+?",cv={sensitive:!1,strict:!1,start:!0,end:!0},dv=/[.+*?^${}()[\]/\\]/g;function fv(e,t){const n=Pe({},cv,t),o=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(dv,"\\$&"),h+=40;else if(f.type===1){const{value:y,repeatable:b,optional:w,regexp:k}=f;s.push({name:y,repeatable:b,optional:w});const T=k||Ll;if(T!==Ll){h+=10;try{new RegExp(`(${T})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${y}" (${T}): `+C.message)}}let S=b?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;d||(S=w&&u.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),r+=S,h+=20,w&&(h+=-8),b&&(h+=-20),T===".*"&&(h+=-50)}c.push(h)}o.push(c)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(i),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",y=s[f-1];d[y.name]=h&&y.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:y,repeatable:b,optional:w}=h,k=y in u?u[y]:"";if(Ct(k)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const T=Ct(k)?k.join("/"):k;if(!T)if(w)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);c+=T}}return c||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function hv(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Id(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=hv(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(zl(o))return 1;if(zl(r))return-1}return r.length-o.length}function zl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const pv={type:0,value:""},gv=/[a-zA-Z0-9_]/;function vv(e){if(!e)return[[]];if(e==="/")return[[pv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),i()):l===":"?(d(),n=1):f();break;case 4:f(),n=o;break;case 1:l==="("?n=2:gv.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),r}function mv(e,t,n){const o=fv(vv(e.path),n),r=Pe(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function yv(e,t){const n=[],o=new Map;t=Vl({strict:!1,end:!0,sensitive:!1},t);function r(d){return o.get(d)}function s(d,f,h){const y=!h,b=Ul(d);b.aliasOf=h&&h.record;const w=Vl(t,d),k=[b];if("alias"in d){const C=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of C)k.push(Ul(Pe({},b,{components:h?h.record.components:b.components,path:L,aliasOf:h?h.record:b})))}let T,S;for(const C of k){const{path:L}=C;if(f&&L[0]!=="/"){const U=f.record.path,V=U[U.length-1]==="/"?"":"/";C.path=f.record.path+(L&&V+L)}if(T=mv(C,f,w),h?h.alias.push(T):(S=S||T,S!==T&&S.alias.push(T),y&&d.name&&!Fl(T)&&i(d.name)),Rd(T)&&l(T),b.children){const U=b.children;for(let V=0;V<U.length;V++)s(U[V],T,h&&h.children[V])}h=h||T}return S?()=>{i(S)}:Wo}function i(d){if(Nd(d)){const f=o.get(d);f&&(o.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function l(d){const f=bv(d,n);n.splice(f,0,d),d.record.name&&!Fl(d)&&o.set(d.record.name,d)}function u(d,f){let h,y={},b,w;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw bo(1,{location:d});w=h.record.name,y=Pe(Bl(f.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&Bl(d.params,h.keys.map(S=>S.name))),b=h.stringify(y)}else if(d.path!=null)b=d.path,h=n.find(S=>S.re.test(b)),h&&(y=h.parse(b),w=h.record.name);else{if(h=f.name?o.get(f.name):n.find(S=>S.re.test(f.path)),!h)throw bo(1,{location:d,currentLocation:f});w=h.record.name,y=Pe({},f.params,d.params),b=h.stringify(y)}const k=[];let T=h;for(;T;)k.unshift(T.record),T=T.parent;return{name:w,path:b,params:y,matched:k,meta:wv(k)}}e.forEach(d=>s(d));function c(){n.length=0,o.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Bl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Ul(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:_v(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function _v(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function Fl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wv(e){return e.reduce((t,n)=>Pe(t,n.meta),{})}function Vl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function bv(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;Id(e,t[s])<0?o=s:n=s+1}const r=Sv(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Sv(e){let t=e;for(;t=t.parent;)if(Rd(t)&&Id(e,t)===0)return t}function Rd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ev(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(kd," "),i=s.indexOf("="),a=sr(i<0?s:s.slice(0,i)),l=i<0?null:sr(s.slice(i+1));if(a in t){let u=t[a];Ct(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Hl(e){let t="";for(let n in e){const o=e[n];if(n=Vg(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ct(o)?o.map(s=>s&&Di(s)):[o&&Di(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function xv(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Ct(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const kv=Symbol(""),Wl=Symbol(""),Ia=Symbol(""),Ra=Symbol(""),Li=Symbol("");function No(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function pn(e,t,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(bo(4,{from:n,to:t})):f instanceof Error?l(f):uv(f)?l(bo(2,{from:t,to:f})):(i&&o.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},c=s(()=>e.call(o&&o.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function si(e,t,n,o,r=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(Ed(l)){const c=(l.__vccOpts||l)[t];c&&s.push(pn(c,n,o,i,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=$g(c)?c.default:c;i.mods[a]=c,i.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&pn(h,n,o,i,a,r)()}))}}return s}function Gl(e){const t=Le(Ia),n=Le(Ra),o=ce(()=>{const l=ne(e.to);return t.resolve(l)}),r=ce(()=>{const{matched:l}=o.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(wo.bind(null,c));if(f>-1)return f;const h=ql(l[u-2]);return u>1&&ql(c)===h&&d[d.length-1].path!==h?d.findIndex(wo.bind(null,l[u-2])):f}),s=ce(()=>r.value>-1&&Av(n.params,o.value.params)),i=ce(()=>r.value>-1&&r.value===n.matched.length-1&&Od(n.params,o.value.params));function a(l={}){if(Ov(l)){const u=t[ne(e.replace)?"replace":"push"](ne(e.to)).catch(Wo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:ce(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}function Cv(e){return e.length===1?e[0]:e}const Tv=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Gl,setup(e,{slots:t}){const n=jn(Gl(e)),{options:o}=Le(Ia),r=ce(()=>({[Kl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Kl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&Cv(t.default(n));return e.custom?s:xe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),Pv=Tv;function Ov(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Av(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!Ct(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function ql(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Kl=(e,t,n)=>e??t??n,Nv=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Le(Li),r=ce(()=>e.route||o.value),s=Le(Wl,0),i=ce(()=>{let u=ne(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ce(()=>r.value.matched[i.value]);Ke(Wl,ce(()=>i.value+1)),Ke(kv,a),Ke(Li,r);const l=ve();return be(()=>[l.value,a.value,e.name],([u,c,d],[f,h,y])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!wo(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return Yl(n.default,{Component:f,route:u});const h=d.props[c],y=h?h===!0?u.params:typeof h=="function"?h(u):h:null,w=xe(f,Pe({},y,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Yl(n.default,{Component:w,route:u})||w}}});function Yl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $v=Nv;function Iv(e){const t=yv(e.routes,e),n=e.parseQuery||Ev,o=e.stringifyQuery||Hl,r=e.history,s=No(),i=No(),a=No(),l=tr(an);let u=an;oo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=oi.bind(null,E=>""+E),d=oi.bind(null,Wg),f=oi.bind(null,sr);function h(E,P){let A,I;return Nd(E)?(A=t.getRecordMatcher(E),I=P):I=E,t.addRoute(I,A)}function y(E){const P=t.getRecordMatcher(E);P&&t.removeRoute(P)}function b(){return t.getRoutes().map(E=>E.record)}function w(E){return!!t.getRecordMatcher(E)}function k(E,P){if(P=Pe({},P||l.value),typeof E=="string"){const p=ri(n,E,P.path),v=t.resolve({path:p.path},P),g=r.createHref(p.fullPath);return Pe(p,v,{params:f(v.params),hash:sr(p.hash),redirectedFrom:void 0,href:g})}let A;if(E.path!=null)A=Pe({},E,{path:ri(n,E.path,P.path).path});else{const p=Pe({},E.params);for(const v in p)p[v]==null&&delete p[v];A=Pe({},E,{params:d(p)}),P.params=d(P.params)}const I=t.resolve(A,P),D=E.hash||"";I.params=c(f(I.params));const m=Kg(o,Pe({},E,{hash:Fg(D),path:I.path})),_=r.createHref(m);return Pe({fullPath:m,hash:D,query:o===Hl?xv(E.query):E.query||{}},I,{redirectedFrom:void 0,href:_})}function T(E){return typeof E=="string"?ri(n,E,l.value.path):Pe({},E)}function S(E,P){if(u!==E)return bo(8,{from:P,to:E})}function C(E){return V(E)}function L(E){return C(Pe(T(E),{replace:!0}))}function U(E){const P=E.matched[E.matched.length-1];if(P&&P.redirect){const{redirect:A}=P;let I=typeof A=="function"?A(E):A;return typeof I=="string"&&(I=I.includes("?")||I.includes("#")?I=T(I):{path:I},I.params={}),Pe({query:E.query,hash:E.hash,params:I.path!=null?{}:E.params},I)}}function V(E,P){const A=u=k(E),I=l.value,D=E.state,m=E.force,_=E.replace===!0,p=U(A);if(p)return V(Pe(T(p),{state:typeof p=="object"?Pe({},D,p.state):D,force:m,replace:_}),P||A);const v=A;v.redirectedFrom=P;let g;return!m&&Yg(o,I,A)&&(g=bo(16,{to:v,from:I}),te(I,I,!0,!1)),(g?Promise.resolve(g):oe(v,I)).catch(x=>Ht(x)?Ht(x,2)?x:Y(x):F(x,v,I)).then(x=>{if(x){if(Ht(x,2))return V(Pe({replace:_},T(x.to),{state:typeof x.to=="object"?Pe({},D,x.to.state):D,force:m}),P||v)}else x=R(v,I,!0,_,D);return q(v,I,x),x})}function X(E,P){const A=S(E,P);return A?Promise.reject(A):Promise.resolve()}function ae(E){const P=Z.values().next().value;return P&&typeof P.runWithContext=="function"?P.runWithContext(E):E()}function oe(E,P){let A;const[I,D,m]=Rv(E,P);A=si(I.reverse(),"beforeRouteLeave",E,P);for(const p of I)p.leaveGuards.forEach(v=>{A.push(pn(v,E,P))});const _=X.bind(null,E,P);return A.push(_),Q(A).then(()=>{A=[];for(const p of s.list())A.push(pn(p,E,P));return A.push(_),Q(A)}).then(()=>{A=si(D,"beforeRouteUpdate",E,P);for(const p of D)p.updateGuards.forEach(v=>{A.push(pn(v,E,P))});return A.push(_),Q(A)}).then(()=>{A=[];for(const p of m)if(p.beforeEnter)if(Ct(p.beforeEnter))for(const v of p.beforeEnter)A.push(pn(v,E,P));else A.push(pn(p.beforeEnter,E,P));return A.push(_),Q(A)}).then(()=>(E.matched.forEach(p=>p.enterCallbacks={}),A=si(m,"beforeRouteEnter",E,P,ae),A.push(_),Q(A))).then(()=>{A=[];for(const p of i.list())A.push(pn(p,E,P));return A.push(_),Q(A)}).catch(p=>Ht(p,8)?p:Promise.reject(p))}function q(E,P,A){a.list().forEach(I=>ae(()=>I(E,P,A)))}function R(E,P,A,I,D){const m=S(E,P);if(m)return m;const _=P===an,p=oo?history.state:{};A&&(I||_?r.replace(E.fullPath,Pe({scroll:_&&p&&p.scroll},D)):r.push(E.fullPath,D)),l.value=E,te(E,P,A,_),Y()}let ee;function O(){ee||(ee=r.listen((E,P,A)=>{if(!re.listening)return;const I=k(E),D=U(I);if(D){V(Pe(D,{replace:!0,force:!0}),I).catch(Wo);return}u=I;const m=l.value;oo&&ov(Ml(m.fullPath,A.delta),Ns()),oe(I,m).catch(_=>Ht(_,12)?_:Ht(_,2)?(V(Pe(T(_.to),{force:!0}),I).then(p=>{Ht(p,20)&&!A.delta&&A.type===ir.pop&&r.go(-1,!1)}).catch(Wo),Promise.reject()):(A.delta&&r.go(-A.delta,!1),F(_,I,m))).then(_=>{_=_||R(I,m,!1),_&&(A.delta&&!Ht(_,8)?r.go(-A.delta,!1):A.type===ir.pop&&Ht(_,20)&&r.go(-1,!1)),q(I,m,_)}).catch(Wo)}))}let H=No(),$=No(),B;function F(E,P,A){Y(E);const I=$.list();return I.length?I.forEach(D=>D(E,P,A)):console.error(E),Promise.reject(E)}function J(){return B&&l.value!==an?Promise.resolve():new Promise((E,P)=>{H.add([E,P])})}function Y(E){return B||(B=!E,O(),H.list().forEach(([P,A])=>E?A(E):P()),H.reset()),E}function te(E,P,A,I){const{scrollBehavior:D}=e;if(!oo||!D)return Promise.resolve();const m=!A&&rv(Ml(E.fullPath,0))||(I||!A)&&history.state&&history.state.scroll||null;return st().then(()=>D(E,P,m)).then(_=>_&&nv(_)).catch(_=>F(_,E,P))}const le=E=>r.go(E);let fe;const Z=new Set,re={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:b,resolve:k,options:e,push:C,replace:L,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:$.add,isReady:J,install(E){const P=this;E.component("RouterLink",Pv),E.component("RouterView",$v),E.config.globalProperties.$router=P,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>ne(l)}),oo&&!fe&&l.value===an&&(fe=!0,C(r.location).catch(D=>{}));const A={};for(const D in an)Object.defineProperty(A,D,{get:()=>l.value[D],enumerable:!0});E.provide(Ia,P),E.provide(Ra,Ic(A)),E.provide(Li,l);const I=E.unmount;Z.add(E),E.unmount=function(){Z.delete(E),Z.size<1&&(u=an,ee&&ee(),ee=null,l.value=an,fe=!1,B=!1),I()}}};function Q(E){return E.reduce((P,A)=>P.then(()=>ae(A)),Promise.resolve())}return re}function Rv(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(u=>wo(u,a))?o.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(u=>wo(u,l))||r.push(l))}return[n,o,r]}function Mv(e){return Le(Ra)}const ii={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(e,{emit:t}){const n=t,o=e,r=Jc(),s=ve([]),i=ce(()=>s.value.reduce((E,P)=>(E[~~P.id]=P)&&E,{})),a=ce(()=>s.value.length),l=ve(null),u=ve(!1),c=ve({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),d=ve({splitter:null,timeoutId:null}),f=ce(()=>({[`splitpanes splitpanes--${o.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),h=()=>{document.addEventListener("mousemove",w,{passive:!1}),document.addEventListener("mouseup",k),"ontouchstart"in window&&(document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",k))},y=()=>{document.removeEventListener("mousemove",w,{passive:!1}),document.removeEventListener("mouseup",k),"ontouchstart"in window&&(document.removeEventListener("touchmove",w,{passive:!1}),document.removeEventListener("touchend",k))},b=(E,P)=>{const A=E.target.closest(".splitpanes__splitter");if(A){const{left:I,top:D}=A.getBoundingClientRect(),{clientX:m,clientY:_}="ontouchstart"in window&&E.touches?E.touches[0]:E;c.value.cursorOffset=o.horizontal?_-D:m-I}h(),c.value.mouseDown=!0,c.value.activeSplitter=P},w=E=>{c.value.mouseDown&&(E.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{V(L(E)),re("resize",{event:E},!0)}))},k=E=>{c.value.dragging&&(window.getSelection().removeAllRanges(),re("resized",{event:E},!0)),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,y()},100)},T=(E,P)=>{"ontouchstart"in window&&(E.preventDefault(),d.value.splitter===P?(clearTimeout(d.value.timeoutId),d.value.timeoutId=null,S(E,P),d.value.splitter=null):(d.value.splitter=P,d.value.timeoutId=setTimeout(()=>d.value.splitter=null,500))),c.value.dragging||re("splitter-click",{event:E,index:P},!0)},S=(E,P)=>{if(re("splitter-dblclick",{event:E,index:P},!0),o.maximizePanes){let A=0;s.value=s.value.map((I,D)=>(I.size=D===P?I.max:I.min,D!==P&&(A+=I.min),I)),s.value[P].size-=A,re("pane-maximize",{event:E,index:P,pane:s.value[P]}),re("resized",{event:E,index:P},!0)}},C=(E,P)=>{re("pane-click",{event:E,index:i.value[P].index,pane:i.value[P]})},L=E=>{const P=l.value.getBoundingClientRect(),{clientX:A,clientY:I}="ontouchstart"in window&&E.touches?E.touches[0]:E;return{x:A-(o.horizontal?0:c.value.cursorOffset)-P.left,y:I-(o.horizontal?c.value.cursorOffset:0)-P.top}},U=E=>{E=E[o.horizontal?"y":"x"];const P=l.value[o.horizontal?"clientHeight":"clientWidth"];return o.rtl&&!o.horizontal&&(E=P-E),E*100/P},V=E=>{const P=c.value.activeSplitter;let A={prevPanesSize:ae(P),nextPanesSize:oe(P),prevReachedMinPanes:0,nextReachedMinPanes:0};const I=0+(o.pushOtherPanes?0:A.prevPanesSize),D=100-(o.pushOtherPanes?0:A.nextPanesSize),m=Math.max(Math.min(U(E),D),I);let _=[P,P+1],p=s.value[_[0]]||null,v=s.value[_[1]]||null;const g=p.max<100&&m>=p.max+A.prevPanesSize,x=v.max<100&&m<=100-(v.max+oe(P+1));if(g||x){g?(p.size=p.max,v.size=Math.max(100-p.max-A.prevPanesSize-A.nextPanesSize,0)):(p.size=Math.max(100-v.max-A.prevPanesSize-oe(P+1),0),v.size=v.max);return}if(o.pushOtherPanes){const N=X(A,m);if(!N)return;({sums:A,panesToResize:_}=N),p=s.value[_[0]]||null,v=s.value[_[1]]||null}p!==null&&(p.size=Math.min(Math.max(m-A.prevPanesSize-A.prevReachedMinPanes,p.min),p.max)),v!==null&&(v.size=Math.min(Math.max(100-m-A.nextPanesSize-A.nextReachedMinPanes,v.min),v.max))},X=(E,P)=>{const A=c.value.activeSplitter,I=[A,A+1];return P<E.prevPanesSize+s.value[I[0]].min&&(I[0]=q(A).index,E.prevReachedMinPanes=0,I[0]<A&&s.value.forEach((D,m)=>{m>I[0]&&m<=A&&(D.size=D.min,E.prevReachedMinPanes+=D.min)}),E.prevPanesSize=ae(I[0]),I[0]===void 0)?(E.prevReachedMinPanes=0,s.value[0].size=s.value[0].min,s.value.forEach((D,m)=>{m>0&&m<=A&&(D.size=D.min,E.prevReachedMinPanes+=D.min)}),s.value[I[1]].size=100-E.prevReachedMinPanes-s.value[0].min-E.prevPanesSize-E.nextPanesSize,null):P>100-E.nextPanesSize-s.value[I[1]].min&&(I[1]=R(A).index,E.nextReachedMinPanes=0,I[1]>A+1&&s.value.forEach((D,m)=>{m>A&&m<I[1]&&(D.size=D.min,E.nextReachedMinPanes+=D.min)}),E.nextPanesSize=oe(I[1]-1),I[1]===void 0)?(E.nextReachedMinPanes=0,s.value.forEach((D,m)=>{m<a.value-1&&m>=A+1&&(D.size=D.min,E.nextReachedMinPanes+=D.min)}),s.value[I[0]].size=100-E.prevPanesSize-oe(I[0]-1),null):{sums:E,panesToResize:I}},ae=E=>s.value.reduce((P,A,I)=>P+(I<E?A.size:0),0),oe=E=>s.value.reduce((P,A,I)=>P+(I>E+1?A.size:0),0),q=E=>[...s.value].reverse().find(P=>P.index<E&&P.size>P.min)||{},R=E=>s.value.find(P=>P.index>E+1&&P.size>P.min)||{},ee=()=>{var E;const P=Array.from(((E=l.value)==null?void 0:E.children)||[]);for(const A of P){const I=A.classList.contains("splitpanes__pane"),D=A.classList.contains("splitpanes__splitter");!I&&!D&&(A.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},O=(E,P,A=!1)=>{const I=E-1,D=document.createElement("div");D.classList.add("splitpanes__splitter"),A||(D.onmousedown=m=>b(m,I),typeof window<"u"&&"ontouchstart"in window&&(D.ontouchstart=m=>b(m,I)),D.onclick=m=>T(m,I+1)),D.ondblclick=m=>S(m,I+1),P.parentNode.insertBefore(D,P)},H=E=>{E.onmousedown=void 0,E.onclick=void 0,E.ondblclick=void 0,E.remove()},$=()=>{var E;const P=Array.from(((E=l.value)==null?void 0:E.children)||[]);for(const I of P)I.className.includes("splitpanes__splitter")&&H(I);let A=0;for(const I of P)I.className.includes("splitpanes__pane")&&(!A&&o.firstSplitter?O(A,I,!0):A&&O(A,I),A++)},B=({uid:E,...P})=>{const A=i.value[E];for(const[I,D]of Object.entries(P))A[I]=D},F=E=>{var P;let A=-1;Array.from(((P=l.value)==null?void 0:P.children)||[]).some(I=>(I.className.includes("splitpanes__pane")&&A++,I.isSameNode(E.el))),s.value.splice(A,0,{...E,index:A}),s.value.forEach((I,D)=>I.index=D),u.value&&st(()=>{$(),Y({addedPane:s.value[A]}),re("pane-add",{pane:s.value[A]})})},J=E=>{const P=s.value.findIndex(I=>I.id===E);s.value[P].el=null;const A=s.value.splice(P,1)[0];s.value.forEach((I,D)=>I.index=D),st(()=>{$(),re("pane-remove",{pane:A}),Y({removedPane:{...A}})})},Y=(E={})=>{!E.addedPane&&!E.removedPane?le():s.value.some(P=>P.givenSize!==null||P.min||P.max<100)?fe(E):te(),u.value&&re("resized")},te=()=>{const E=100/a.value;let P=0;const A=[],I=[];for(const D of s.value)D.size=Math.max(Math.min(E,D.max),D.min),P-=D.size,D.size>=D.max&&A.push(D.id),D.size<=D.min&&I.push(D.id);P>.1&&Z(P,A,I)},le=()=>{let E=100;const P=[],A=[];let I=0;for(const m of s.value)E-=m.size,m.givenSize!==null&&I++,m.size>=m.max&&P.push(m.id),m.size<=m.min&&A.push(m.id);let D=100;if(E>.1){for(const m of s.value)m.givenSize===null&&(m.size=Math.max(Math.min(E/(a.value-I),m.max),m.min)),D-=m.size;D>.1&&Z(D,P,A)}},fe=({addedPane:E,removedPane:P}={})=>{let A=100/a.value,I=0;const D=[],m=[];(E?.givenSize??null)!==null&&(A=(100-E.givenSize)/(a.value-1));for(const _ of s.value)I-=_.size,_.size>=_.max&&D.push(_.id),_.size<=_.min&&m.push(_.id);if(!(Math.abs(I)<.1)){for(const _ of s.value)E?.givenSize!==null&&E?.id===_.id||(_.size=Math.max(Math.min(A,_.max),_.min)),I-=_.size,_.size>=_.max&&D.push(_.id),_.size<=_.min&&m.push(_.id);I>.1&&Z(I,D,m)}},Z=(E,P,A)=>{let I;E>0?I=E/(a.value-P.length):I=E/(a.value-A.length),s.value.forEach((D,m)=>{if(E>0&&!P.includes(D.id)){const _=Math.max(Math.min(D.size+I,D.max),D.min),p=_-D.size;E-=p,D.size=_}else if(!A.includes(D.id)){const _=Math.max(Math.min(D.size+I,D.max),D.min),p=_-D.size;E-=p,D.size=_}}),Math.abs(E)>.1&&st(()=>{u.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},re=(E,P=void 0,A=!1)=>{const I=P?.index??c.value.activeSplitter??null;n(E,{...P,...I!==null&&{index:I},...A&&I!==null&&{prevPane:s.value[I-(o.firstSplitter?1:0)],nextPane:s.value[I+(o.firstSplitter?0:1)]},panes:s.value.map(D=>({min:D.min,max:D.max,size:D.size}))})};be(()=>o.firstSplitter,()=>$()),ft(()=>{ee(),$(),Y(),re("ready"),u.value=!0}),vr(()=>u.value=!1);const Q=()=>{var E;return xe("div",{ref:l,class:f.value},(E=r.default)==null?void 0:E.call(r))};return Ke("panes",s),Ke("indexedPanes",i),Ke("horizontal",ce(()=>o.horizontal)),Ke("requestUpdate",B),Ke("onPaneAdd",F),Ke("onPaneRemove",J),Ke("onPaneClick",C),(E,P)=>(ue(),it(Kc(Q)))}},Hn={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(e){var t;const n=e,o=Le("requestUpdate"),r=Le("onPaneAdd"),s=Le("horizontal"),i=Le("onPaneRemove"),a=Le("onPaneClick"),l=(t=wn())==null?void 0:t.uid,u=Le("indexedPanes"),c=ce(()=>u.value[l]),d=ve(null),f=ce(()=>{const w=isNaN(n.size)||n.size===void 0?0:parseFloat(n.size);return Math.max(Math.min(w,y.value),h.value)}),h=ce(()=>{const w=parseFloat(n.minSize);return isNaN(w)?0:w}),y=ce(()=>{const w=parseFloat(n.maxSize);return isNaN(w)?100:w}),b=ce(()=>{var w;return`${s.value?"height":"width"}: ${(w=c.value)==null?void 0:w.size}%`});return be(()=>f.value,w=>o({uid:l,size:w})),be(()=>h.value,w=>o({uid:l,min:w})),be(()=>y.value,w=>o({uid:l,max:w})),ft(()=>{r({id:l,el:d.value,min:h.value,max:y.value,givenSize:n.size===void 0?null:f.value,size:f.value})}),vr(()=>i(l)),(w,k)=>(ue(),he("div",{ref_key:"paneEl",ref:d,class:"splitpanes__pane",onClick:k[0]||(k[0]=T=>ne(a)(T,w._.uid)),style:gt(b.value)},[xt(w.$slots,"default")],4))}},Dv="modulepreload",jv=function(e){return"/"+e},Xl={},wr=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var i=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=u(n.map(c=>{if(c=jv(c),c in Xl)return;Xl[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Dv,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((y,b)=>{h.addEventListener("load",y),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Lv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...n)):t=fetch,(...n)=>t(...n)};class Ma extends Error{constructor(t,n="FunctionsError",o){super(t),this.name=n,this.context=o}}class zv extends Ma{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jl extends Ma{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zl extends Ma{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zi||(zi={}));var Bv=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};class Uv{constructor(t,{headers:n={},customFetch:o,region:r=zi.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Lv(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var o;return Bv(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:i}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(b=>{throw new zv(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Jl(d);if(!d.ok)throw new Zl(d);let h=((o=d.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield d.json():h==="application/octet-stream"?y=yield d.blob():h==="text/event-stream"?y=d:h==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(r){return{data:null,error:r,response:r instanceof Zl||r instanceof Jl?r.context:void 0}}})}}function Fv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vv(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function o(){var r=!1;try{r=this instanceof o}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}),n}var qe={},Wn={},Gn={},qn={},Kn={},Yn={},Hv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=Hv();const Wv=So.fetch,Md=So.fetch.bind(So),Dd=So.Headers,Gv=So.Request,qv=So.Response,To=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dd,Request:Gv,Response:qv,default:Md,fetch:Wv},Symbol.toStringTag,{value:"Module"})),Kv=Vv(To);var Pr={},Ql;function jd(){if(Ql)return Pr;Ql=1,Object.defineProperty(Pr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Pr.default=e,Pr}var eu;function Ld(){if(eu)return Yn;eu=1;var e=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});const t=e(Kv),n=e(jd());class o{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let y=null,b=null,w=null,k=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=U:b=JSON.parse(U))}const C=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),L=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&L&&L.length>1&&(w=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,k=406,T="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await u.text();try{y=JSON.parse(C),Array.isArray(y)&&u.status===404&&(b=[],y=null,k=200,T="OK")}catch{u.status===404&&C===""?(k=204,T="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((h=y?.details)===null||h===void 0)&&h.includes("0 rows"))&&(y=null,k=200,T="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:w,status:k,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Yn.default=o,Yn}var tu;function zd(){if(tu)return Kn;tu=1;var e=Kn&&Kn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Kn,"__esModule",{value:!0});const t=e(Ld());class n extends t.default{select(r){let s=!1;const i=(r??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[r?"analyze":null,s?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Kn.default=n,Kn}var nu;function Da(){if(nu)return qn;nu=1;var e=qn&&qn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qn,"__esModule",{value:!0});const t=e(zd());class n extends t.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const i=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${l}fts${u}.${s}`),this}match(r){return Object.entries(r).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(r,s,i){return this.url.searchParams.append(r,`not.${s}.${i}`),this}or(r,{foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,s,i){return this.url.searchParams.append(r,`${s}.${i}`),this}}return qn.default=n,qn}var ou;function Bd(){if(ou)return Gn;ou=1;var e=Gn&&Gn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Gn,"__esModule",{value:!0});const t=e(Da());class n{constructor(r,{headers:s={},schema:i,fetch:a}){this.url=r,this.headers=new Headers(s),this.schema=i,this.fetch=a}select(r,{head:s=!1,count:i}={}){const a=s?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:s}={}){var i;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var s;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Gn.default=n,Gn}var ru;function Yv(){if(ru)return Wn;ru=1;var e=Wn&&Wn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wn,"__esModule",{value:!0});const t=e(Bd()),n=e(Da());class o{constructor(s,{headers:i={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new o(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${s}`);let h;a||l?(d=a?"HEAD":"GET",Object.entries(i).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{f.searchParams.append(b,w)})):(d="POST",h=i);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Wn.default=o,Wn}var su;function Xv(){if(su)return qe;su=1;var e=qe&&qe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const t=e(Yv());qe.PostgrestClient=t.default;const n=e(Bd());qe.PostgrestQueryBuilder=n.default;const o=e(Da());qe.PostgrestFilterBuilder=o.default;const r=e(zd());qe.PostgrestTransformBuilder=r.default;const s=e(Ld());qe.PostgrestBuilder=s.default;const i=e(jd());return qe.PostgrestError=i.default,qe.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:i.default},qe}var Jv=Xv();const Zv=Fv(Jv),{PostgrestClient:Qv,PostgrestQueryBuilder:Bx,PostgrestFilterBuilder:Ux,PostgrestTransformBuilder:Fx,PostgrestBuilder:Vx,PostgrestError:Hx}=Zv;class em{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const o=this.getWebSocketConstructor();return new o(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tm="2.15.1",nm=`realtime-js/${tm}`,om="1.0.0",Bi=1e4,rm=1e3,sm=100;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var wt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wt||(wt={}));var Ui;(function(e){e.websocket="websocket"})(Ui||(Ui={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class im{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),o=new TextDecoder;return this._decodeBroadcast(t,n,o)}_decodeBroadcast(t,n,o){const r=n.getUint8(1),s=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=o.decode(t.slice(i,i+r));i=i+r;const l=o.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(o.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}let Ud=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const iu=(e,t,n={})=>{var o;const r=(o=n.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(t).reduce((s,i)=>(s[i]=am(i,e,t,r),s),{})},am=(e,t,n,o)=>{const r=t.find(a=>a.name===e),s=r?.type,i=n[e];return s&&!o.includes(s)?Fd(s,i):Fi(i)},Fd=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dm(t,n)}switch(e){case Ie.bool:return lm(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return um(t);case Ie.json:case Ie.jsonb:return cm(t);case Ie.timestamp:return fm(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Fi(t);default:return Fi(t)}},Fi=e=>e,lm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},um=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dm=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,o=e[n];if(e[0]==="{"&&o==="}"){let s;const i=e.slice(1,n);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Fd(t,a))}return e},fm=e=>typeof e=="string"?e.replace(" ","T"):e,Vd=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ai{constructor(t,n,o={},r=Bi){this.channel=t,this.event=n,this.payload=o,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var o;return this._hasReceived(t)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var au;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(au||(au={}));class Ko{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},r=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ko.syncState(this.state,r,s,i),this.pendingDiffs.forEach(l=>{this.state=Ko.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(o.diff,{},r=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ko.syncDiff(this.state,r,s,i),a())}),this.onJoin((r,s,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:i})}),this.onLeave((r,s,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,o,r){const s=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{i[u]||(l[u]=c)}),this.map(i,(u,c)=>{const d=s[u];if(d){const f=c.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),y=c.filter(w=>h.indexOf(w.presence_ref)<0),b=d.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},o,r)}static syncDiff(t,n,o,r){const{joins:s,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),r||(r=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}o(a,c,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(o=>n(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,o)=>{const r=t[o];return"metas"in r?n[o]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[o]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lu||(lu={}));var Yo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yo||(Yo={}));var Kt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class ja{constructor(t,n={config:{}},o){this.topic=t,this.params=n,this.socket=o,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ai(this,wt.join,this.params,this.timeout),this.rejoinTimer=new Ud(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wt.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new Ko(this),this.broadcastEndpointURL=Vd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var o,r;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:s,presence:i,private:a}}=this.params,l=(r=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(f=>f.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Yo.PRESENCE]&&this.bindings[Yo.PRESENCE].length>0,c={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Kt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Kt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t?.(Kt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(h=y?.length)!==null&&h!==void 0?h:0,w=[];for(let k=0;k<b;k++){const T=y[k],{filter:{event:S,schema:C,table:L,filter:U}}=T,V=f&&f[k];if(V&&V.event===S&&V.schema===C&&V.table===L&&V.filter===U)w.push(Object.assign(Object.assign({},T),{id:V.id}));else{this.unsubscribe(),this.state=He.errored,t?.(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Kt.SUBSCRIBED);return}}).receive("error",f=>{this.state=He.errored,t?.(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,o){return this.state===He.joined&&t===Yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,o)}async send(t,n={}){var o,r;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(r=>{o=new ai(this,wt.leave,{},t),o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(t,n,o){const r=new AbortController,s=setTimeout(()=>r.abort(),o),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),i}_push(t,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ai(this,t,n,o);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,o){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,o){var r,s;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=wt;if(o&&[a,l,u,c].indexOf(i)>=0&&o!==this._joinRef())return;let f=this._onMessage(i,n,o);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var y,b,w;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(b=h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(h=>h.callback(f,o)):(s=this.bindings[i])===null||s===void 0||s.filter(h=>{var y,b,w,k,T,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const C=h.id,L=(y=h.filter)===null||y===void 0?void 0:y.event;return C&&((b=n.ids)===null||b===void 0?void 0:b.includes(C))&&(L==="*"||L?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const C=(T=(k=h?.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return C==="*"||C===((S=n?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:b,table:w,commit_timestamp:k,type:T,errors:S}=y;f=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:k,eventType:T,new:{},old:{},errors:S}),this._getPayloadRecords(y))}h.callback(f,o)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,o){const r=t.toLocaleLowerCase(),s={type:r,filter:n,callback:o};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(t,n){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===o&&ja.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(t[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wt.close,{},t)}_onError(t){this._on(wt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=iu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=iu(t.columns,t.old_record)),n}}const uu=()=>{},Or={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hm=[1e3,2e3,5e3,1e4],pm=1e4,gm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vm{constructor(t,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bi,this.transport=null,this.heartbeatIntervalMs=Or.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uu,this.ref=0,this.reconnectTimer=null,this.logger=uu,this.conn=null,this.sendBuffer=[],this.serializer=new im,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...i)=>wr(async()=>{const{default:a}=await Promise.resolve().then(()=>To);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ui.websocket}`,this.httpEndpoint=Vd(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=em.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:om}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,o){this.logger(t,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return On.Connecting;case qo.open:return On.Open;case qo.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const o=`realtime:${t}`,r=this.getChannels().find(s=>s.topic===o);if(r)return r;{const s=new ja(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:o,payload:r,ref:s}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${o} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Or.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:r,payload:s,ref:i}=n,a=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${o} ${r} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(o)).forEach(u=>u._trigger(r,s,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const o=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${o}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const o=new Blob([gm],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const r={access_token:n,version:nm};n&&o.updateJoinPayload(r),o.joinedOnce&&o._isJoined()&&o._push(wt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Ud(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Or.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,o,r,s,i,a,l,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:Bi,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:Or.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t?.accessToken)!==null&&i!==void 0?i:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t?.reconnectAfterMs)!==null&&a!==void 0?a:(c=>hm[c-1]||pm),this.encode=(l=t?.encode)!==null&&l!==void 0?l:((c,d)=>d(JSON.stringify(c))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class La extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function We(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mm extends La{constructor(t,n,o){super(t),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vi extends La{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ym=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};const Hd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...n)):t=fetch,(...n)=>t(...n)},_m=()=>ym(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wr(()=>Promise.resolve().then(()=>To),void 0)).Response:Response}),Hi=e=>{if(Array.isArray(e))return e.map(n=>Hi(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,o])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[r]=Hi(o)}),t},wm=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fn=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};const li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bm=(e,t,n)=>Fn(void 0,void 0,void 0,function*(){const o=yield _m();e instanceof o&&!n?.noResolveJson?e.json().then(r=>{const s=e.status||500,i=r?.statusCode||s+"";t(new mm(li(r),s,i))}).catch(r=>{t(new Vi(li(r),r))}):t(new Vi(li(e),e))}),Sm=(e,t,n,o)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"||!o?r:(wm(o)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(o)):r.body=o,t?.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n))};function br(e,t,n,o,r,s){return Fn(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,Sm(t,o,r,s)).then(l=>{if(!l.ok)throw l;return o?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>bm(l,a,o))})})}function ss(e,t,n,o){return Fn(this,void 0,void 0,function*(){return br(e,"GET",t,n,o)})}function It(e,t,n,o,r){return Fn(this,void 0,void 0,function*(){return br(e,"POST",t,o,r,n)})}function Wi(e,t,n,o,r){return Fn(this,void 0,void 0,function*(){return br(e,"PUT",t,o,r,n)})}function Em(e,t,n,o){return Fn(this,void 0,void 0,function*(){return br(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Wd(e,t,n,o,r){return Fn(this,void 0,void 0,function*(){return br(e,"DELETE",t,o,r,n)})}var tt=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};const xm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class km{constructor(t,n={},o,r){this.url=t,this.headers=n,this.bucketId=o,this.fetch=Hd(r)}uploadOrUpdate(t,n,o,r){return tt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},cu),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&o instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",o)):typeof FormData<"u"&&o instanceof FormData?(s=o,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=o,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?Wi:It)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}upload(t,n,o){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,o)})}uploadToSignedUrl(t,n,o,r){return tt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:cu.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.append("cacheControl",u.cacheControl)):(l=o,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Wi(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return tt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield It(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:r}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new La("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}update(t,n,o){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,o)})}move(t,n,o){return tt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}copy(t,n,o){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,o){return tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),s=yield It(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const i=o?.download?`&download=${o.download===!0?"":o.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,o){return tt(this,void 0,void 0,function*(){try{const r=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}download(t,n){return tt(this,void 0,void 0,function*(){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),i=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ss(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}info(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const o=yield ss(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hi(o),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}exists(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Em(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(We(o)&&o instanceof Vi){const r=o.originalError;if([400,404].includes(r?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(t,n){const o=this._getFinalPath(t),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${o}${u}`)}}}remove(t){return tt(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}list(t,n,o){return tt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},xm),n),{prefix:t||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},o),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}listV2(t,n){return tt(this,void 0,void 0,function*(){try{const o=Object.assign({},t);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Cm="2.11.0",Tm={"X-Client-Info":`storage-js/${Cm}`};var Xn=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};class Pm{constructor(t,n={},o,r){const s=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Tm),n),this.fetch=Hd(o)}listBuckets(){return Xn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(We(t))return{data:null,error:t};throw t}})}getBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return Xn(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}emptyBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}}class Om extends Pm{constructor(t,n={},o,r){super(t,n,o,r)}from(t){return new km(this.url,this.headers,t,this.fetch)}}const Am="2.56.0";let Mo="";typeof Deno<"u"?Mo="deno":typeof document<"u"?Mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mo="react-native":Mo="node";const Nm={"X-Client-Info":`supabase-js-${Mo}/${Am}`},$m={headers:Nm},Im={schema:"public"},Rm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mm={};var Dm=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};const jm=e=>{let t;return e?t=e:typeof fetch>"u"?t=Md:t=fetch,(...n)=>t(...n)},Lm=()=>typeof Headers>"u"?Dd:Headers,zm=(e,t,n)=>{const o=jm(n),r=Lm();return(s,i)=>Dm(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(i?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),o(s,Object.assign(Object.assign({},i),{headers:u}))})};var Bm=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};function Um(e){return e.endsWith("/")?e:e+"/"}function Fm(e,t){var n,o;const{db:r,auth:s,realtime:i,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(o=a?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Bm(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Gd="2.71.1",ro=30*1e3,Gi=3,ui=Gi*ro,Vm="http://localhost:9999",Hm="supabase.auth.token",Wm={"X-Client-Info":`gotrue-js/${Gd}`},qi="X-Supabase-Api-Version",qd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qm=600*1e3;class za extends Error{constructor(t,n,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Km extends za{constructor(t,n,o){super(t,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Ym(e){return me(e)&&e.name==="AuthApiError"}class Kd extends za{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bn extends za{constructor(t,n,o,r){super(t,o,r),this.name=n,this.status=o}}class cn extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xm(e){return me(e)&&e.name==="AuthSessionMissingError"}class Ar extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nr extends bn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $r extends bn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jm(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class du extends bn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ki extends bn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ci(e){return me(e)&&e.name==="AuthRetryableFetchError"}class fu extends bn{constructor(t,n,o){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Yi extends bn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hu=` 	
\r=`.split(""),Zm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hu.length;t+=1)e[hu[t].charCodeAt(0)]=-2;for(let t=0;t<is.length;t+=1)e[is[t].charCodeAt(0)]=t;return e})();function pu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(is[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(is[o]),t.queuedBits-=6}}function Yd(e,t,n){const o=Zm[e];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gu(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},o={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=i=>{ty(i,o,n)};for(let i=0;i<e.length;i+=1)Yd(e.charCodeAt(i),r,s);return t.join("")}function Qm(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ey(e,t){for(let n=0;n<e.length;n+=1){let o=e.charCodeAt(n);if(o>55295&&o<=56319){const r=(o-55296)*1024&65535;o=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Qm(o,t)}}function ty(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let o=1;o<6;o+=1)if((e>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ny(e){const t=[],n={queue:0,queuedBits:0},o=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)Yd(e.charCodeAt(r),n,o);return new Uint8Array(t)}function oy(e){const t=[];return ey(e,n=>t.push(n)),new Uint8Array(t)}function ry(e){const t=[],n={queue:0,queuedBits:0},o=r=>{t.push(r)};return e.forEach(r=>pu(r,n,o)),pu(null,n,o),t.join("")}function sy(e){return Math.round(Date.now()/1e3)+e}function iy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",xn={tested:!1,writable:!1},Xd=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function ay(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{t[s]=r})}catch{}return n.searchParams.forEach((o,r)=>{t[r]=o}),t}const Jd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...n)):t=fetch,(...n)=>t(...n)},ly=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",so=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ln=async(e,t)=>{await e.removeItem(t)};class $s{constructor(){this.promise=new $s.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$s.promiseConstructor=Promise;function di(e){const t=e.split(".");if(t.length!==3)throw new Yi("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!Gm.test(t[o]))throw new Yi("JWT not in base64url format");return{header:JSON.parse(gu(t[0])),payload:JSON.parse(gu(t[1])),signature:ny(t[2]),raw:{header:t[0],payload:t[1]}}}async function uy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cy(e,t){return new Promise((o,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){o(i);return}}catch(i){if(!t(s,i)){r(i);return}}})()})}function dy(e){return("0"+e.toString(16)).substr(-2)}function fy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*o));return r}return crypto.getRandomValues(t),Array.from(t,dy).join("")}async function hy(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(o);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function py(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(e,t,n=!1){const o=fy();let r=o;n&&(r+="/PASSWORD_RECOVERY"),await so(e,`${t}-code-verifier`,r);const s=await py(o);return[s,o===s?"plain":"s256"]}const gy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vy(e){const t=e.headers.get(qi);if(!t||!t.match(gy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function my(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zn(e){if(!_y.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fi(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vu(e){return JSON.parse(JSON.stringify(e))}var wy=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),by=[502,503,504];async function mu(e){var t;if(!ly(e))throw new Ki(Tn(e),0);if(by.includes(e.status))throw new Ki(Tn(e),e.status);let n;try{n=await e.json()}catch(s){throw new Kd(Tn(s),s)}let o;const r=vy(e);if(r&&r.getTime()>=qd["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new fu(Tn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new fu(Tn(n),e.status,n.weak_password.reasons);throw new Km(Tn(n),e.status||500,o)}const Sy=(e,t,n,o)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(o),Object.assign(Object.assign({},r),n))};async function _e(e,t,n,o){var r;const s=Object.assign({},o?.headers);s[qi]||(s[qi]=qd["2024-01-01"].name),o?.jwt&&(s.Authorization=`Bearer ${o.jwt}`);const i=(r=o?.query)!==null&&r!==void 0?r:{};o?.redirectTo&&(i.redirect_to=o.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Ey(e,t,n+a,{headers:s,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(l):{data:Object.assign({},l),error:null}}async function Ey(e,t,n,o,r,s){const i=Sy(t,o,r,s);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Ki(Tn(l),0)}if(a.ok||await mu(a),o?.noResolveJson)return a;try{return await a.json()}catch(l){await mu(l)}}function Gt(e){var t;let n=null;Ty(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sy(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:o},error:null}}function yu(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xy(e){return{data:e,error:null}}function ky(e){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:r,verification_type:s}=e,i=wy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:o,redirect_to:r,verification_type:s},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Cy(e){return e}function Ty(e){return e.access_token&&e.refresh_token&&e.expires_in}const hi=["global","local","others"];var Py=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};class Oy{constructor({url:t="",headers:n={},fetch:o}){this.url=t,this.headers=n,this.fetch=Jd(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=hi[0]){if(hi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hi.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(o){if(me(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:n}=t,o=Py(t,["options"]),r=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(r.new_email=o?.newEmail,delete r.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ky,redirectTo:n?.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vn})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,o,r,s,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(s=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Cy});if(c.error)throw c.error;const d=await c.json(),f=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zn(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vn})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zn(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vn})}catch(o){if(me(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,n=!1){Zn(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(o){if(me(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Zn(t.userId);try{const{data:n,error:o}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:o}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zn(t.userId),Zn(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}function _u(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ay(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qn={debug:!!(globalThis&&Xd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zd extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ny extends Zd{}async function $y(e,t,n){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async r=>{if(r){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ny(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ay();const Iy={url:Vm,storageKey:Hm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wu(e,t,n){return await n()}const eo={};class ar{constructor(t){var n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ar.nextInstanceID,ar.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Iy),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Oy({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Jd(r.fetch),this.lock=r.lock||wu,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:_t()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=$y:this.lock=wu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Xd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_u(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=_u(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gd}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ay(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),_t()&&this.detectSessionInUrl&&o!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Jm(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?{error:n}:{error:new Kd("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,o,r;try{const s=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(r=t?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Gt}),{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,o,r;try{let s;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Jn(this.storage,this.storageKey)),s=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:c,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:y},xform:Gt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(r=f?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gt})}else throw new Nr("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:i,options:a}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:yu})}else if("phone"in t){const{phone:s,password:i,options:a}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:yu})}else throw new Nr("You must provide either an email or phone number and a password");const{data:o,error:r}=n;return r?{data:{user:null,session:null},error:r}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ar}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:r})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,o,r,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,o,r,s,i,a,l,u,c,d,f,h;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:w,wallet:k,statement:T,options:S}=t;let C;if(_t())if(typeof k=="object")C=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))C=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const L=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const U=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),T?{statement:T}:null));let V;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")V=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)V=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)y=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),b=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${L.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(r=(o=S?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((i=S?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(c=S?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const U=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=U}}try{const{data:w,error:k}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ry(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gt});if(k)throw k;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ar}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:k})}catch(w){if(me(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await kn(this.storage,`${this.storageKey}-code-verifier`),[o,r]=(n??"").split("/");try{const{data:s,error:i}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Gt});if(await ln(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ar}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:i})}catch(s){if(me(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:o,token:r,access_token:s,nonce:i}=t,a=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ar}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,o,r,s,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Jn(this.storage,this.storageKey));const{error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new Nr("You must provide either an email or phone number.")}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,o;try{let r,s;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:i,error:a}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Gt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,o,r;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Jn(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((r=t?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:xy})}catch(s){if(me(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;if(o)throw o;if(!n)throw new cn;const{error:r}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:o,type:r,options:s}=t,{error:i}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:o,type:r,options:s}=t,{data:i,error:a}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:a}}throw new Nr("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<ui:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const i=await kn(this.userStorage,this.storageKey+"-user");i?.user?t.user=i.user:t.user=fi()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vn}):await this._useSession(async n=>{var o,r,s;const{data:i,error:a}=n;if(a)throw a;return!(!((o=i.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:vn})})}catch(n){if(me(n))return Xm(n)&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async o=>{const{data:r,error:s}=o;if(s)throw s;if(!r.session)throw new cn;const i=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Jn(this.storage,this.storageKey));const{data:u,error:c}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:vn});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(o){if(me(o))return{data:{user:null},error:o};throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cn;const n=Date.now()/1e3;let o=n,r=!0,s=null;const{payload:i}=di(t.access_token);if(i.exp&&(o=i.exp,r=o<=n),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var o;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(o=i.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new cn;const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!_t())throw new $r("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $r(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $r("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new du("No code detected.");const{data:T,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!i||!u)throw new $r("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=f-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const k={provider_token:o,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(o){if(me(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:r,error:s}=n;if(s)return{error:s};const i=(o=r.session)===null||o===void 0?void 0:o.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(Ym(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=iy(),o={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async n=>{var o,r;try{const{data:{session:s},error:i}=n;if(i)throw i;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let o=null,r=null;this.flowType==="pkce"&&([o,r]=await Jn(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(me(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:o,error:r}=await this._useSession(async s=>{var i,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return _t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(me(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var o,r;const{data:s,error:i}=n;if(i)throw i;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await cy(async r=>(r>0&&await uy(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(r,s)=>{const i=200*Math.pow(2,r);return s&&ci(s)&&Date.now()+i-o<ro})}catch(o){if(this._debug(n,"error",o),me(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",o),_t()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const r=await kn(this.storage,this.storageKey);if(r&&this.userStorage){let i=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await so(this.userStorage,this.storageKey+"-user",i)),r.user=(t=i?.user)!==null&&t!==void 0?t:fi()}else if(r&&!r.user&&!r.user){const i=await kn(this.storage,this.storageKey+"-user");i&&i?.user?(r.user=i.user,await ln(this.storage,this.storageKey+"-user"),await so(this.storage,this.storageKey,r)):r.user=fi()}if(this._debug(o,"session from storage",r),!this._isValidSession(r)){this._debug(o,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ui;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${ui}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ci(i)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(r.access_token);!a&&i?.user?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(o,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(o,"error",r),console.error(r);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var n,o;if(!t)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new $s;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new cn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(r,"error",s),me(s)){const i={session:null,error:s};return ci(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,o=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await so(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=vu(r);await so(this.storage,this.storageKey,s)}else{const r=vu(n);await so(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ln(this.storage,this.storageKey),await ln(this.storage,this.storageKey+"-code-verifier"),await ln(this.storage,this.storageKey+"-user"),this.userStorage&&await ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((o.expires_at*1e3-t)/ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ro}ms, refresh threshold is ${Gi} ticks`),r<=Gi&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zd)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,o){const r=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&r.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[s,i]=await Jn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(o?.queryParams){const s=new URLSearchParams(o.queryParams);r.push(s.toString())}return o?.skipBrowserRedirect&&r.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var o;const{data:r,error:s}=n;return s?{data:null,error:s}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=r?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var o,r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:r,error:s}=n;if(s)return{data:null,error:s};const{data:i,error:a}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=r?.session)===null||o===void 0?void 0:o.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:r,error:s}=n;return s?{data:null,error:s}:await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=r?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const o=t?.factors||[],r=o.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=o.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:o,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,o;const{data:{session:r},error:s}=t;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=di(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((o=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let o=n.keys.find(a=>a.kid===t);if(o)return o;const r=Date.now();if(o=this.jwks.keys.find(a=>a.kid===t),o&&this.jwks_cached_at+qm>r)return o;const{data:s,error:i}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,o=s.keys.find(a=>a.kid===t),!o)?null:o}async getClaims(t,n={}){try{let o=t;if(!o){const{data:h,error:y}=await this.getSession();if(y||!h.session)return{data:null,error:y};o=h.session.access_token}const{header:r,payload:s,signature:i,raw:{header:a,payload:l}}=di(o);n?.allowExpired||my(s.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:h}=await this.getUser(o);if(h)throw h;return{data:{claims:s,header:r,signature:i},error:null}}const c=yy(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,oy(`${a}.${l}`)))throw new Yi("Invalid JWT signature");return{data:{claims:s,header:r,signature:i},error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}}}ar.nextInstanceID=0;const Ry=ar;class My extends Ry{constructor(t){super(t)}}var Dy=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(o.next(c))}catch(d){i(d)}}function l(c){try{u(o.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((o=o.apply(e,t||[])).next())})};class jy{constructor(t,n,o){var r,s,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Um(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Im,realtime:Mm,auth:Object.assign(Object.assign({},Rm),{storageKey:u}),global:$m},d=Fm(o??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=zm(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Qv(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Om(this.storageUrl.href,this.headers,this.fetch,o?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Uv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},o={}){return this.rest.rpc(t,n,o)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Dy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(n=(t=o.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:o,storage:r,storageKey:s,flowType:i,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new My({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:o,storage:r,flowType:i,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vm(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(t,n,o){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ly=(e,t,n)=>new jy(e,t,n);function zy(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const By=Ly("https://api.starthub.so","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtbHRuanJyemttYXp2YnJxYmtxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3ODk1NzcsImV4cCI6MjA1MjM2NTU3N30.2iz-ErTvlZ_o8rvYfFWWhlbo6RRTE0FWFlk7vQQkETg",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{}}}),Uy={class:"container"},Fy={key:0},Vy={key:1,class:"text-red-600 whitespace-pre-line"},Hy={key:2},Wy={class:"text-xl font-semibold"},Gy={class:"text-gray-600 mb-4"},qy={key:0,class:"text-gray-500"},Ky={class:"font-medium"},Yy={class:"text-xs text-gray-500"},Xy=["placeholder","onUpdate:modelValue"],Jy=["placeholder","value","onInput"],Zy={key:2,class:"inline-flex items-center gap-2"},Qy=["onUpdate:modelValue"],e_=["placeholder","onUpdate:modelValue"],t_=["placeholder","onUpdate:modelValue"],n_={key:0,class:"text-gray-500"},o_={key:1,class:"list-disc ml-6"},r_={class:"text-xs text-gray-500"},s_={key:3},i_=Ae({__name:"InputsComponent",setup(e){const t=Mv(),n=ve(null),o=ve(null),r=ve(!1),s=ve(!1);ve("github"),ve(null),jn({});const i=jn({});function a(y){switch(y){case"STRING":return"";case"NUMBER":return null;case"BOOLEAN":return!1;case"JSON":return"{}";default:return""}}async function l(){r.value=!0,o.value=null,n.value=null,Object.keys(i).forEach(S=>delete i[S]);const y=String(t.params.namespace??""),b=String(t.params.slug??""),w=t.params.version??t.query.v??null;console.info({p_namespace:y,p_action_slug:b,p_version_number:w});const{data:k,error:T}=await By.rpc("get_action_version_by_namespace_slug_version",{p_namespace:"tgirotto",p_action_slug:"tom-action-4",p_version_number:"0.1.0"});if(T)o.value=T.message;else{console.info(k);const S=k&&Object.keys(k).length?k:null;if(n.value=S,S?.inputs?.length)for(const C of S.inputs)i[C.name]=a(C.action_port_type)}r.value=!1}const u=ce(()=>n.value?.inputs??[]),c=ce(()=>n.value?.outputs??[]);function d(y){switch(y.action_port_type){case"STRING":return`Enter ${y.name}`;case"NUMBER":return`Enter number for ${y.name}`;case"BOOLEAN":return"";case"JSON":return`Paste JSON for ${y.name}`;default:return`Enter ${y.name}`}}function f(y,b){switch(y.action_port_type){case"NUMBER":if(b===""||b===null||typeof b>"u")return null;const w=Number(b);return Number.isFinite(w)?w:null;case"BOOLEAN":return!!b;case"JSON":return String(b??"");case"STRING":default:return String(b??"")}}async function h(){if(!n.value)return;const y={},b=[];for(const L of u.value){const U=i[L.name],V=f(L,U);if(L.action_port_type==="JSON")try{y[L.name]=JSON.parse(V)}catch{b.push(`"${L.name}" must be valid JSON`)}else y[L.name]=V}if(b.length){o.value=b.join(`
`);return}console.log("Execute action",{action_id:n.value.action_id,action_version_id:n.value.action_version_id,version:n.value.version_number,inputs:y});const w=String(t.params.namespace??""),k=String(t.params.slug??""),T=t.params.version??t.query.v??null,C={action:T?`${w}/${k}@${T}`:`${w}/${k}`,inputs:y};try{s.value=!0,o.value=null;const L=await fetch("/api/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!L.ok){const U=await L.text();throw new Error(`Run failed: ${L.status} ${U}`)}console.info("here")}catch(L){console.info(L),o.value=String(L?.message??L)}finally{s.value=!1}}return ft(l),be(()=>[t.params.namespace,t.params.name,t.params.version,t.query.v],l),(y,b)=>(ue(),he("div",Uy,[r.value?(ue(),he("div",Fy,"Loading")):o.value?(ue(),he("div",Vy,Ue(o.value),1)):n.value?(ue(),he("div",Hy,[we("h2",Wy,Ue(n.value.name??"(unnamed action)")+"@"+Ue(n.value.version_number),1),we("p",Gy,Ue(n.value.description),1),we("form",{class:"space-y-4",onSubmit:bg(h,["prevent"])},[b[1]||(b[1]=we("h3",{class:"font-medium"},"Inputs",-1)),u.value.length?at("",!0):(ue(),he("div",qy,"No inputs.")),(ue(!0),he(Me,null,mo(u.value,w=>(ue(),he("div",{key:w.id,class:"flex flex-col gap-1"},[we("label",Ky,[ns(Ue(w.name)+" ",1),we("span",Yy,"("+Ue(w.action_port_type)+")",1)]),w.action_port_type==="STRING"?Tr((ue(),he("input",{key:0,type:"text",class:"border rounded px-3 py-2",placeholder:d(w),"onUpdate:modelValue":k=>i[w.name]=k},null,8,Xy)),[[ni,i[w.name]]]):w.action_port_type==="NUMBER"?(ue(),he("input",{key:1,type:"number",class:"border rounded px-3 py-2",placeholder:d(w),value:i[w.name],onInput:k=>i[w.name]=k.target.value},null,40,Jy)):w.action_port_type==="BOOLEAN"?(ue(),he("label",Zy,[Tr(we("input",{type:"checkbox",class:"h-4 w-4","onUpdate:modelValue":k=>i[w.name]=k},null,8,Qy),[[mg,i[w.name]]]),b[0]||(b[0]=we("span",null,"True?",-1))])):w.action_port_type==="JSON"?Tr((ue(),he("textarea",{key:3,class:"border rounded px-3 py-2 font-mono",rows:"6",placeholder:d(w),"onUpdate:modelValue":k=>i[w.name]=k},null,8,e_)),[[ni,i[w.name]]]):Tr((ue(),he("input",{key:4,type:"text",class:"border rounded px-3 py-2",placeholder:d(w),"onUpdate:modelValue":k=>i[w.name]=k},null,8,t_)),[[ni,i[w.name]]])]))),128)),b[2]||(b[2]=we("button",{type:"submit",class:"mt-2 rounded px-4 py-2 bg-black text-white"}," Run ",-1))],32),b[3]||(b[3]=we("h3",{class:"font-medium mt-8"},"Outputs",-1)),c.value.length?(ue(),he("ul",o_,[(ue(!0),he(Me,null,mo(c.value,w=>(ue(),he("li",{key:w.id},[ns(Ue(w.name)+" ",1),we("span",r_,"("+Ue(w.action_port_type)+")",1)]))),128))])):(ue(),he("div",n_,"No outputs."))])):(ue(),he("div",s_,"No action/version found."))]))}}),a_=_r(i_,[["__scopeId","data-v-18e70e50"]]);function Is(e){return ma()?(Fr(e),!0):!1}function Jt(e){return typeof e=="function"?e():ne(e)}const l_=typeof window<"u"&&typeof document<"u",u_=e=>typeof e<"u",c_=Object.prototype.toString,d_=e=>c_.call(e)==="[object Object]",f_=()=>{};function h_(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const Qd=e=>e();function p_(e=Qd){const t=ve(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:Sa(t),pause:n,resume:o,eventFilter:r}}function bu(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function g_(e,t,n={}){const{eventFilter:o=Qd,...r}=n;return be(e,h_(o,t),r)}function to(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:i,resume:a,isActive:l}=p_(o);return{stop:g_(e,t,{...r,eventFilter:s}),pause:i,resume:a,isActive:l}}function v_(e,t={}){if(!ze(e))return Bh(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=zh(()=>({get(){return e.value[o]},set(r){var s;if((s=Jt(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const a=[...e.value];a[o]=r,e.value=a}else{const a={...e.value,[o]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function Xi(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:y,throwOnTimeout:b}={}){let w=null;const T=[new Promise(S=>{w=be(e,C=>{d(C)!==t&&(w?.(),S(C))},{flush:f,deep:h,immediate:!0})})];return y!=null&&T.push(bu(y,b).then(()=>Jt(e)).finally(()=>w?.())),Promise.race(T)}function o(d,f){if(!ze(d))return n(C=>C===d,f);const{flush:h="sync",deep:y=!1,timeout:b,throwOnTimeout:w}=f??{};let k=null;const S=[new Promise(C=>{k=be([e,d],([L,U])=>{t!==(L===U)&&(k?.(),C(L))},{flush:h,deep:y,immediate:!0})})];return b!=null&&S.push(bu(b,w).then(()=>Jt(e)).finally(()=>(k?.(),Jt(e)))),Promise.race(S)}function r(d){return n(f=>!!f,d)}function s(d){return o(null,d)}function i(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(h=>{const y=Array.from(h);return y.includes(d)||y.includes(Jt(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(Jt(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return Xi(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:u,changedTimes:c,get not(){return Xi(e,!t)}}}function Ji(e){return Xi(e)}function m_(e){var t;const n=Jt(e);return(t=n?.$el)!=null?t:n}const ef=l_?window:void 0;function tf(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=ef):[t,n,o,r]=e,!t)return f_;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),l=be(()=>[m_(t),Jt(r)],([c,d])=>{if(i(),!c)return;const f=d_(d)?{...d}:d;s.push(...n.flatMap(h=>o.map(y=>a(c,h,y,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return Is(u),u}function y_(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Su(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=ef,eventName:s="keydown",passive:i=!1,dedupe:a=!1}=o,l=y_(t);return tf(r,s,c=>{c.repeat&&Jt(a)||l(c)&&n(c)},i)}function __(e){return JSON.parse(JSON.stringify(e))}function pi(e,t,n,o={}){var r,s,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:f}=o,h=wn(),y=n||h?.emit||((r=h?.$emit)==null?void 0:r.bind(h))||((i=(s=h?.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(h?.proxy));let b=u;t||(t="modelValue"),b=b||`update:${t.toString()}`;const w=S=>a?typeof a=="function"?a(S):__(S):S,k=()=>u_(e[t])?w(e[t]):d,T=S=>{f?f(S)&&y(b,S):y(b,S)};if(l){const S=k(),C=ve(S);let L=!1;return be(()=>e[t],U=>{L||(L=!0,C.value=w(U),st(()=>L=!1))}),be(C,U=>{!L&&(U!==e[t]||c)&&T(U)},{deep:c}),C}else return ce({get(){return k()},set(S){T(S)}})}var w_={value:()=>{}};function Rs(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Wr(n)}function Wr(e){this._=e}function b_(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Wr.prototype=Rs.prototype={constructor:Wr,on:function(e,t){var n=this._,o=b_(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=S_(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=Eu(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Eu(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wr(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function S_(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Eu(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=w_,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Zi="http://www.w3.org/1999/xhtml";const xu={svg:"http://www.w3.org/2000/svg",xhtml:Zi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ms(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),xu.hasOwnProperty(t)?{space:xu[t],local:e}:e}function E_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zi&&t.documentElement.namespaceURI===Zi?t.createElement(e):t.createElementNS(n,e)}}function x_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nf(e){var t=Ms(e);return(t.local?x_:E_)(t)}function k_(){}function Ba(e){return e==null?k_:function(){return this.querySelector(e)}}function C_(e){typeof e!="function"&&(e=Ba(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new vt(o,this._parents)}function T_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function P_(){return[]}function of(e){return e==null?P_:function(){return this.querySelectorAll(e)}}function O_(e){return function(){return T_(e.apply(this,arguments))}}function A_(e){typeof e=="function"?e=O_(e):e=of(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new vt(o,r)}function rf(e){return function(){return this.matches(e)}}function sf(e){return function(t){return t.matches(e)}}var N_=Array.prototype.find;function $_(e){return function(){return N_.call(this.children,e)}}function I_(){return this.firstElementChild}function R_(e){return this.select(e==null?I_:$_(typeof e=="function"?e:sf(e)))}var M_=Array.prototype.filter;function D_(){return Array.from(this.children)}function j_(e){return function(){return M_.call(this.children,e)}}function L_(e){return this.selectAll(e==null?D_:j_(typeof e=="function"?e:sf(e)))}function z_(e){typeof e!="function"&&(e=rf(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new vt(o,this._parents)}function af(e){return new Array(e.length)}function B_(){return new vt(this._enter||this._groups.map(af),this._parents)}function as(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}as.prototype={constructor:as,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function U_(e){return function(){return e}}function F_(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new as(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function V_(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=i.call(l,l.__data__,a,t)+"",u.has(h)?r[a]=l:u.set(h,l));for(a=0;a<d;++a)h=i.call(e,s[a],a,s)+"",(l=u.get(h))?(o[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new as(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function H_(e){return e.__data__}function W_(e,t){if(!arguments.length)return Array.from(this,H_);var n=t?V_:F_,o=this._parents,r=this._groups;typeof e!="function"&&(e=U_(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],f=d.length,h=G_(e.call(c,c&&c.__data__,u,o)),y=h.length,b=a[u]=new Array(y),w=i[u]=new Array(y),k=l[u]=new Array(f);n(c,d,b,w,k,h,t);for(var T=0,S=0,C,L;T<y;++T)if(C=b[T]){for(T>=S&&(S=T+1);!(L=w[S])&&++S<y;);C._next=L||null}}return i=new vt(i,o),i._enter=a,i._exit=l,i}function G_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q_(){return new vt(this._exit||this._groups.map(af),this._parents)}function K_(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function Y_(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,f=a[l]=new Array(d),h,y=0;y<d;++y)(h=u[y]||c[y])&&(f[y]=h);for(;l<r;++l)a[l]=n[l];return new vt(a,this._parents)}function X_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function J_(e){e||(e=Z_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new vt(r,this._parents).order()}function Z_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Q_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function e0(){return Array.from(this)}function t0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function n0(){let e=0;for(const t of this)++e;return e}function o0(){return!this.node()}function r0(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function s0(e){return function(){this.removeAttribute(e)}}function i0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a0(e,t){return function(){this.setAttribute(e,t)}}function l0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function u0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function c0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function d0(e,t){var n=Ms(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?i0:s0:typeof t=="function"?n.local?c0:u0:n.local?l0:a0)(n,t))}function lf(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function f0(e){return function(){this.style.removeProperty(e)}}function h0(e,t,n){return function(){this.style.setProperty(e,t,n)}}function p0(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function g0(e,t,n){return arguments.length>1?this.each((t==null?f0:typeof t=="function"?p0:h0)(e,t,n??"")):Eo(this.node(),e)}function Eo(e,t){return e.style.getPropertyValue(t)||lf(e).getComputedStyle(e,null).getPropertyValue(t)}function v0(e){return function(){delete this[e]}}function m0(e,t){return function(){this[e]=t}}function y0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _0(e,t){return arguments.length>1?this.each((t==null?v0:typeof t=="function"?y0:m0)(e,t)):this.node()[e]}function uf(e){return e.trim().split(/^|\s+/)}function Ua(e){return e.classList||new cf(e)}function cf(e){this._node=e,this._names=uf(e.getAttribute("class")||"")}cf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function df(e,t){for(var n=Ua(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ff(e,t){for(var n=Ua(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function w0(e){return function(){df(this,e)}}function b0(e){return function(){ff(this,e)}}function S0(e,t){return function(){(t.apply(this,arguments)?df:ff)(this,e)}}function E0(e,t){var n=uf(e+"");if(arguments.length<2){for(var o=Ua(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?S0:t?w0:b0)(n,t))}function x0(){this.textContent=""}function k0(e){return function(){this.textContent=e}}function C0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function T0(e){return arguments.length?this.each(e==null?x0:(typeof e=="function"?C0:k0)(e)):this.node().textContent}function P0(){this.innerHTML=""}function O0(e){return function(){this.innerHTML=e}}function A0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function N0(e){return arguments.length?this.each(e==null?P0:(typeof e=="function"?A0:O0)(e)):this.node().innerHTML}function $0(){this.nextSibling&&this.parentNode.appendChild(this)}function I0(){return this.each($0)}function R0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M0(){return this.each(R0)}function D0(e){var t=typeof e=="function"?e:nf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j0(){return null}function L0(e,t){var n=typeof e=="function"?e:nf(e),o=t==null?j0:typeof t=="function"?t:Ba(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function z0(){var e=this.parentNode;e&&e.removeChild(this)}function B0(){return this.each(z0)}function U0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function F0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function V0(e){return this.select(e?F0:U0)}function H0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function W0(e){return function(t){e.call(this,t,this.__data__)}}function G0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function q0(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function K0(e,t,n){return function(){var o=this.__on,r,s=W0(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function Y0(e,t,n){var o=G0(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?K0:q0,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function hf(e,t,n){var o=lf(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function X0(e,t){return function(){return hf(this,e,t)}}function J0(e,t){return function(){return hf(this,e,t.apply(this,arguments))}}function Z0(e,t){return this.each((typeof t=="function"?J0:X0)(e,t))}function*Q0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var pf=[null];function vt(e,t){this._groups=e,this._parents=t}function Sr(){return new vt([[document.documentElement]],pf)}function ew(){return this}vt.prototype=Sr.prototype={constructor:vt,select:C_,selectAll:A_,selectChild:R_,selectChildren:L_,filter:z_,data:W_,enter:B_,exit:q_,join:K_,merge:Y_,selection:ew,order:X_,sort:J_,call:Q_,nodes:e0,node:t0,size:n0,empty:o0,each:r0,attr:d0,style:g0,property:_0,classed:E0,text:T0,html:N0,raise:I0,lower:M0,append:D0,insert:L0,remove:B0,clone:V0,datum:H0,on:Y0,dispatch:Z0,[Symbol.iterator]:Q0};function bt(e){return typeof e=="string"?new vt([[document.querySelector(e)]],[document.documentElement]):new vt([[e]],pf)}function tw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=tw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const nw={passive:!1},lr={capture:!0,passive:!1};function gi(e){e.stopImmediatePropagation()}function po(e){e.preventDefault(),e.stopImmediatePropagation()}function gf(e){var t=e.document.documentElement,n=bt(e).on("dragstart.drag",po,lr);"onselectstart"in t?n.on("selectstart.drag",po,lr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vf(e,t){var n=e.document.documentElement,o=bt(e).on("dragstart.drag",null);t&&(o.on("click.drag",po,lr),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ir=e=>()=>e;function Qi(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:s,x:i,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Qi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ow(e){return!e.ctrlKey&&!e.button}function rw(){return this.parentNode}function sw(e,t){return t??{x:e.x,y:e.y}}function iw(){return navigator.maxTouchPoints||"ontouchstart"in this}function aw(){var e=ow,t=rw,n=sw,o=iw,r={},s=Rs("start","drag","end"),i=0,a,l,u,c,d=0;function f(C){C.on("mousedown.drag",h).filter(o).on("touchstart.drag",w).on("touchmove.drag",k,nw).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(C,L){if(!(c||!e.call(this,C,L))){var U=S(this,t.call(this,C,L),C,L,"mouse");U&&(bt(C.view).on("mousemove.drag",y,lr).on("mouseup.drag",b,lr),gf(C.view),gi(C),u=!1,a=C.clientX,l=C.clientY,U("start",C))}}function y(C){if(po(C),!u){var L=C.clientX-a,U=C.clientY-l;u=L*L+U*U>d}r.mouse("drag",C)}function b(C){bt(C.view).on("mousemove.drag mouseup.drag",null),vf(C.view,u),po(C),r.mouse("end",C)}function w(C,L){if(e.call(this,C,L)){var U=C.changedTouches,V=t.call(this,C,L),X=U.length,ae,oe;for(ae=0;ae<X;++ae)(oe=S(this,V,C,L,U[ae].identifier,U[ae]))&&(gi(C),oe("start",C,U[ae]))}}function k(C){var L=C.changedTouches,U=L.length,V,X;for(V=0;V<U;++V)(X=r[L[V].identifier])&&(po(C),X("drag",C,L[V]))}function T(C){var L=C.changedTouches,U=L.length,V,X;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),V=0;V<U;++V)(X=r[L[V].identifier])&&(gi(C),X("end",C,L[V]))}function S(C,L,U,V,X,ae){var oe=s.copy(),q=Rt(ae||U,L),R,ee,O;if((O=n.call(C,new Qi("beforestart",{sourceEvent:U,target:f,identifier:X,active:i,x:q[0],y:q[1],dx:0,dy:0,dispatch:oe}),V))!=null)return R=O.x-q[0]||0,ee=O.y-q[1]||0,function H($,B,F){var J=q,Y;switch($){case"start":r[X]=H,Y=i++;break;case"end":delete r[X],--i;case"drag":q=Rt(F||B,L),Y=i;break}oe.call($,C,new Qi($,{sourceEvent:B,subject:O,target:f,identifier:X,active:Y,x:q[0]+R,y:q[1]+ee,dx:q[0]-J[0],dy:q[1]-J[1],dispatch:oe}),V)}}return f.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Ir(!!C),f):e},f.container=function(C){return arguments.length?(t=typeof C=="function"?C:Ir(C),f):t},f.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Ir(C),f):n},f.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:Ir(!!C),f):o},f.on=function(){var C=s.on.apply(s,arguments);return C===s?f:C},f.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,f):Math.sqrt(d)},f}function Fa(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mf(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Er(){}var ur=.7,ls=1/ur,go="\\s*([+-]?\\d+)\\s*",cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lw=/^#([0-9a-f]{3,8})$/,uw=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),cw=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),dw=new RegExp(`^rgba\\(${go},${go},${go},${cr}\\)$`),fw=new RegExp(`^rgba\\(${zt},${zt},${zt},${cr}\\)$`),hw=new RegExp(`^hsl\\(${cr},${zt},${zt}\\)$`),pw=new RegExp(`^hsla\\(${cr},${zt},${zt},${cr}\\)$`),ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fa(Er,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cu,formatHex:Cu,formatHex8:gw,formatHsl:vw,formatRgb:Tu,toString:Tu});function Cu(){return this.rgb().formatHex()}function gw(){return this.rgb().formatHex8()}function vw(){return yf(this).formatHsl()}function Tu(){return this.rgb().formatRgb()}function Ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pu(t):n===3?new dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uw.exec(e))?new dt(t[1],t[2],t[3],1):(t=cw.exec(e))?new dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dw.exec(e))?Rr(t[1],t[2],t[3],t[4]):(t=fw.exec(e))?Rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hw.exec(e))?Nu(t[1],t[2]/100,t[3]/100,1):(t=pw.exec(e))?Nu(t[1],t[2]/100,t[3]/100,t[4]):ku.hasOwnProperty(e)?Pu(ku[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function Pu(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function Rr(e,t,n,o){return o<=0&&(e=t=n=NaN),new dt(e,t,n,o)}function mw(e){return e instanceof Er||(e=Ln(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function ea(e,t,n,o){return arguments.length===1?mw(e):new dt(e,t,n,o??1)}function dt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Fa(dt,ea,mf(Er,{brighter(e){return e=e==null?ls:Math.pow(ls,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ur:Math.pow(ur,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dt(Mn(this.r),Mn(this.g),Mn(this.b),us(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ou,formatHex:Ou,formatHex8:yw,formatRgb:Au,toString:Au}));function Ou(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function yw(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function Au(){const e=us(this.opacity);return`${e===1?"rgb(":"rgba("}${Mn(this.r)}, ${Mn(this.g)}, ${Mn(this.b)}${e===1?")":`, ${e})`}`}function us(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $n(e){return e=Mn(e),(e<16?"0":"")+e.toString(16)}function Nu(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,o)}function yf(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof Er||(e=Ln(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new St(i,a,l,e.opacity)}function _w(e,t,n,o){return arguments.length===1?yf(e):new St(e,t,n,o??1)}function St(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Fa(St,_w,mf(Er,{brighter(e){return e=e==null?ls:Math.pow(ls,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ur:Math.pow(ur,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new dt(vi(e>=240?e-240:e+120,r,o),vi(e,r,o),vi(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new St($u(this.h),Mr(this.s),Mr(this.l),us(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=us(this.opacity);return`${e===1?"hsl(":"hsla("}${$u(this.h)}, ${Mr(this.s)*100}%, ${Mr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $u(e){return e=(e||0)%360,e<0?e+360:e}function Mr(e){return Math.max(0,Math.min(1,e||0))}function vi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Va=e=>()=>e;function ww(e,t){return function(n){return e+n*t}}function bw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Sw(e){return(e=+e)==1?_f:function(t,n){return n-t?bw(t,n,e):Va(isNaN(t)?n:t)}}function _f(e,t){var n=t-e;return n?ww(e,n):Va(isNaN(e)?t:e)}const cs=(function e(t){var n=Sw(t);function o(r,s){var i=n((r=ea(r)).r,(s=ea(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=_f(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function Ew(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(s){for(r=0;r<n;++r)o[r]=e[r]*(1-s)+t[r]*s;return o}}function xw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kw(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),s=new Array(n),i;for(i=0;i<o;++i)r[i]=Xo(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<o;++i)s[i]=r[i](a);return s}}function Cw(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tw(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Xo(e[r],t[r]):o[r]=t[r];return function(s){for(r in n)o[r]=n[r](s);return o}}var ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(ta.source,"g");function Pw(e){return function(){return e}}function Ow(e){return function(t){return e(t)+""}}function wf(e,t){var n=ta.lastIndex=mi.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=ta.exec(e))&&(r=mi.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Dt(o,r)})),n=mi.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?Ow(l[0].x):Pw(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Xo(e,t){var n=typeof t,o;return t==null||n==="boolean"?Va(t):(n==="number"?Dt:n==="string"?(o=Ln(t))?(t=o,cs):wf:t instanceof Ln?cs:t instanceof Date?Cw:xw(t)?Ew:Array.isArray(t)?kw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tw:Dt)(e,t)}var Iu=180/Math.PI,na={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bf(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Iu,skewX:Math.atan(l)*Iu,scaleX:i,scaleY:a}}var Dr;function Aw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?na:bf(t.a,t.b,t.c,t.d,t.e,t.f)}function Nw(e){return e==null||(Dr||(Dr=document.createElementNS("http://www.w3.org/2000/svg","g")),Dr.setAttribute("transform",e),!(e=Dr.transform.baseVal.consolidate()))?na:(e=e.matrix,bf(e.a,e.b,e.c,e.d,e.e,e.f))}function Sf(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,y){if(u!==d||c!==f){var b=h.push("translate(",null,t,null,n);y.push({i:b-4,x:Dt(u,d)},{i:b-2,x:Dt(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Dt(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,f){u!==c?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Dt(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,f,h,y){if(u!==d||c!==f){var b=h.push(r(h)+"scale(",null,",",null,")");y.push({i:b-4,x:Dt(u,d)},{i:b-2,x:Dt(c,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var y=-1,b=f.length,w;++y<b;)d[(w=f[y]).i]=w.x(h);return d.join("")}}}var $w=Sf(Aw,"px, ","px)","deg)"),Iw=Sf(Nw,", ",")",")"),Rw=1e-12;function Ru(e){return((e=Math.exp(e))+1/e)/2}function Mw(e){return((e=Math.exp(e))-1/e)/2}function Dw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Gr=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],f=i[2],h=c-a,y=d-l,b=h*h+y*y,w,k;if(b<Rw)k=Math.log(f/u)/t,w=function(V){return[a+V*h,l+V*y,u*Math.exp(t*V*k)]};else{var T=Math.sqrt(b),S=(f*f-u*u+o*b)/(2*u*n*T),C=(f*f-u*u-o*b)/(2*f*n*T),L=Math.log(Math.sqrt(S*S+1)-S),U=Math.log(Math.sqrt(C*C+1)-C);k=(U-L)/t,w=function(V){var X=V*k,ae=Ru(L),oe=u/(n*T)*(ae*Dw(t*X+L)-Mw(L));return[a+oe*h,l+oe*y,u*ae/Ru(t*X+L)]}}return w.duration=k*1e3*t/Math.SQRT2,w}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var xo=0,Do=0,$o=0,Ef=1e3,ds,jo,fs=0,zn=0,Ds=0,dr=typeof performance=="object"&&performance.now?performance:Date,xf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ha(){return zn||(xf(jw),zn=dr.now()+Ds)}function jw(){zn=0}function hs(){this._call=this._time=this._next=null}hs.prototype=kf.prototype={constructor:hs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ha():+n)+(t==null?0:+t),!this._next&&jo!==this&&(jo?jo._next=this:ds=this,jo=this),this._call=e,this._time=n,oa()},stop:function(){this._call&&(this._call=null,this._time=1/0,oa())}};function kf(e,t,n){var o=new hs;return o.restart(e,t,n),o}function Lw(){Ha(),++xo;for(var e=ds,t;e;)(t=zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xo}function Mu(){zn=(fs=dr.now())+Ds,xo=Do=0;try{Lw()}finally{xo=0,Bw(),zn=0}}function zw(){var e=dr.now(),t=e-fs;t>Ef&&(Ds-=t,fs=e)}function Bw(){for(var e,t=ds,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ds=n);jo=e,oa(o)}function oa(e){if(!xo){Do&&(Do=clearTimeout(Do));var t=e-zn;t>24?(e<1/0&&(Do=setTimeout(Mu,e-dr.now()-Ds)),$o&&($o=clearInterval($o))):($o||(fs=dr.now(),$o=setInterval(zw,Ef)),xo=1,xf(Mu))}}function Du(e,t,n){var o=new hs;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Uw=Rs("start","end","cancel","interrupt"),Fw=[],Cf=0,ju=1,ra=2,qr=3,Lu=4,sa=5,Kr=6;function js(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Vw(e,n,{name:t,index:o,group:r,on:Uw,tween:Fw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cf})}function Wa(e,t){var n=Tt(e,t);if(n.state>Cf)throw new Error("too late; already scheduled");return n}function Ft(e,t){var n=Tt(e,t);if(n.state>qr)throw new Error("too late; already running");return n}function Tt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Vw(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=kf(s,0,n.time);function s(u){n.state=ju,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,h;if(n.state!==ju)return l();for(c in o)if(h=o[c],h.name===n.name){if(h.state===qr)return Du(i);h.state===Lu?(h.state=Kr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=Kr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(Du(function(){n.state===qr&&(n.state=Lu,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=ra,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ra){for(n.state=qr,r=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=sa,1),d=-1,f=r.length;++d<f;)r[d].call(e,c);n.state===sa&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Kr,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Yr(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>ra&&o.state<sa,o.state=Kr,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function Hw(e){return this.each(function(){Yr(this,e)})}function Ww(e,t){var n,o;return function(){var r=Ft(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function Gw(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=Ft(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function qw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Tt(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?Ww:Gw)(n,e,t))}function Ga(e,t,n){var o=e._id;return e.each(function(){var r=Ft(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Tt(r,o).value[t]}}function Tf(e,t){var n;return(typeof t=="number"?Dt:t instanceof Ln?cs:(n=Ln(t))?(t=n,cs):wf)(e,t)}function Kw(e){return function(){this.removeAttribute(e)}}function Yw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xw(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function Jw(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function Zw(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function Qw(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function eb(e,t){var n=Ms(e),o=n==="transform"?Iw:Tf;return this.attrTween(e,typeof t=="function"?(n.local?Qw:Zw)(n,o,Ga(this,"attr."+e,t)):t==null?(n.local?Yw:Kw)(n):(n.local?Jw:Xw)(n,o,t))}function tb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function nb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ob(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&nb(e,s)),n}return r._value=t,r}function rb(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&tb(e,s)),n}return r._value=t,r}function sb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Ms(e);return this.tween(n,(o.local?ob:rb)(o,t))}function ib(e,t){return function(){Wa(this,e).delay=+t.apply(this,arguments)}}function ab(e,t){return t=+t,function(){Wa(this,e).delay=t}}function lb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ib:ab)(t,e)):Tt(this.node(),t).delay}function ub(e,t){return function(){Ft(this,e).duration=+t.apply(this,arguments)}}function cb(e,t){return t=+t,function(){Ft(this,e).duration=t}}function db(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ub:cb)(t,e)):Tt(this.node(),t).duration}function fb(e,t){if(typeof t!="function")throw new Error;return function(){Ft(this,e).ease=t}}function hb(e){var t=this._id;return arguments.length?this.each(fb(t,e)):Tt(this.node(),t).ease}function pb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,e).ease=n}}function gb(e){if(typeof e!="function")throw new Error;return this.each(pb(this._id,e))}function vb(e){typeof e!="function"&&(e=rf(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new rn(o,this._parents,this._name,this._id)}function mb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<o;++a)i[a]=t[a];return new rn(i,this._parents,this._name,this._id)}function yb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _b(e,t,n){var o,r,s=yb(t)?Wa:Ft;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function wb(e,t){var n=this._id;return arguments.length<2?Tt(this.node(),n).on.on(e):this.each(_b(n,e,t))}function bb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sb(){return this.on("end.remove",bb(this._id))}function Eb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ba(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,js(u[f],t,n,f,u,Tt(c,n)));return new rn(s,this._parents,t,n)}function xb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=of(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,y=Tt(c,n),b=0,w=f.length;b<w;++b)(h=f[b])&&js(h,t,n,b,f,y);s.push(f),i.push(c)}return new rn(s,i,t,n)}var kb=Sr.prototype.constructor;function Cb(){return new kb(this._groups,this._parents)}function Tb(e,t){var n,o,r;return function(){var s=Eo(this,e),i=(this.style.removeProperty(e),Eo(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Pf(e){return function(){this.style.removeProperty(e)}}function Pb(e,t,n){var o,r=n+"",s;return function(){var i=Eo(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function Ob(e,t,n){var o,r,s;return function(){var i=Eo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Eo(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function Ab(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=Ft(this,e),u=l.on,c=l.value[s]==null?a||(a=Pf(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function Nb(e,t,n){var o=(e+="")=="transform"?$w:Tf;return t==null?this.styleTween(e,Tb(e,o)).on("end.style."+e,Pf(e)):typeof t=="function"?this.styleTween(e,Ob(e,o,Ga(this,"style."+e,t))).each(Ab(this._id,e)):this.styleTween(e,Pb(e,o,t),n).on("end.style."+e,null)}function $b(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Ib(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&$b(e,i,n)),o}return s._value=t,s}function Rb(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Ib(e,t,n??""))}function Mb(e){return function(){this.textContent=e}}function Db(e){return function(){var t=e(this);this.textContent=t??""}}function jb(e){return this.tween("text",typeof e=="function"?Db(Ga(this,"text",e)):Mb(e==null?"":e+""))}function Lb(e){return function(t){this.textContent=e.call(this,t)}}function zb(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Lb(r)),t}return o._value=e,o}function Bb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zb(e))}function Ub(){for(var e=this._name,t=this._id,n=Of(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=Tt(l,t);js(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rn(o,this._parents,e,n)}function Fb(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=Ft(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var Vb=0;function rn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Of(){return++Vb}var Wt=Sr.prototype;rn.prototype={constructor:rn,select:Eb,selectAll:xb,selectChild:Wt.selectChild,selectChildren:Wt.selectChildren,filter:vb,merge:mb,selection:Cb,transition:Ub,call:Wt.call,nodes:Wt.nodes,node:Wt.node,size:Wt.size,empty:Wt.empty,each:Wt.each,on:wb,attr:eb,attrTween:sb,style:Nb,styleTween:Rb,text:jb,textTween:Bb,remove:Sb,tween:qw,delay:lb,duration:db,ease:hb,easeVarying:gb,end:Fb,[Symbol.iterator]:Wt[Symbol.iterator]};function Hb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wb={time:null,delay:0,duration:250,ease:Hb};function Gb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qb(e){var t,n;e instanceof rn?(t=e._id,e=e._name):(t=Of(),(n=Wb).time=Ha(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&js(l,e,t,u,i,n||Gb(l,t));return new rn(o,this._parents,e,t)}Sr.prototype.interrupt=Hw;Sr.prototype.transition=qb;const jr=e=>()=>e;function Kb(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Zt(e,t,n){this.k=e,this.x=t,this.y=n}Zt.prototype={constructor:Zt,scale:function(e){return e===1?this:new Zt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ko=new Zt(1,0,0);Zt.prototype;function yi(e){e.stopImmediatePropagation()}function Io(e){e.preventDefault(),e.stopImmediatePropagation()}function Yb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Xb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function zu(){return this.__zoom||ko}function Jb(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qb(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function eS(){var e=Yb,t=Xb,n=Qb,o=Jb,r=Zb,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Gr,u=Rs("start","zoom","end"),c,d,f,h=500,y=150,b=0,w=10;function k(O){O.property("__zoom",zu).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",ae).on("dblclick.zoom",oe).filter(r).on("touchstart.zoom",q).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(O,H,$,B){var F=O.selection?O.selection():O;F.property("__zoom",zu),O!==F?L(O,H,$,B):F.interrupt().each(function(){U(this,arguments).event(B).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},k.scaleBy=function(O,H,$,B){k.scaleTo(O,function(){var F=this.__zoom.k,J=typeof H=="function"?H.apply(this,arguments):H;return F*J},$,B)},k.scaleTo=function(O,H,$,B){k.transform(O,function(){var F=t.apply(this,arguments),J=this.__zoom,Y=$==null?C(F):typeof $=="function"?$.apply(this,arguments):$,te=J.invert(Y),le=typeof H=="function"?H.apply(this,arguments):H;return n(S(T(J,le),Y,te),F,i)},$,B)},k.translateBy=function(O,H,$,B){k.transform(O,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),i)},null,B)},k.translateTo=function(O,H,$,B,F){k.transform(O,function(){var J=t.apply(this,arguments),Y=this.__zoom,te=B==null?C(J):typeof B=="function"?B.apply(this,arguments):B;return n(ko.translate(te[0],te[1]).scale(Y.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof $=="function"?-$.apply(this,arguments):-$),J,i)},B,F)};function T(O,H){return H=Math.max(s[0],Math.min(s[1],H)),H===O.k?O:new Zt(H,O.x,O.y)}function S(O,H,$){var B=H[0]-$[0]*O.k,F=H[1]-$[1]*O.k;return B===O.x&&F===O.y?O:new Zt(O.k,B,F)}function C(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function L(O,H,$,B){O.on("start.zoom",function(){U(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(B).end()}).tween("zoom",function(){var F=this,J=arguments,Y=U(F,J).event(B),te=t.apply(F,J),le=$==null?C(te):typeof $=="function"?$.apply(F,J):$,fe=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),Z=F.__zoom,re=typeof H=="function"?H.apply(F,J):H,Q=l(Z.invert(le).concat(fe/Z.k),re.invert(le).concat(fe/re.k));return function(E){if(E===1)E=re;else{var P=Q(E),A=fe/P[2];E=new Zt(A,le[0]-P[0]*A,le[1]-P[1]*A)}Y.zoom(null,E)}})}function U(O,H,$){return!$&&O.__zooming||new V(O,H)}function V(O,H){this.that=O,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,H),this.taps=0}V.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,H){return this.mouse&&O!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var H=bt(this.that).datum();u.call(O,this.that,new Kb(O,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:u}),H)}};function X(O,...H){if(!e.apply(this,arguments))return;var $=U(this,H).event(O),B=this.__zoom,F=Math.max(s[0],Math.min(s[1],B.k*Math.pow(2,o.apply(this,arguments)))),J=Rt(O);if($.wheel)($.mouse[0][0]!==J[0]||$.mouse[0][1]!==J[1])&&($.mouse[1]=B.invert($.mouse[0]=J)),clearTimeout($.wheel);else{if(B.k===F)return;$.mouse=[J,B.invert(J)],Yr(this),$.start()}Io(O),$.wheel=setTimeout(Y,y),$.zoom("mouse",n(S(T(B,F),$.mouse[0],$.mouse[1]),$.extent,i));function Y(){$.wheel=null,$.end()}}function ae(O,...H){if(f||!e.apply(this,arguments))return;var $=O.currentTarget,B=U(this,H,!0).event(O),F=bt(O.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",fe,!0),J=Rt(O,$),Y=O.clientX,te=O.clientY;gf(O.view),yi(O),B.mouse=[J,this.__zoom.invert(J)],Yr(this),B.start();function le(Z){if(Io(Z),!B.moved){var re=Z.clientX-Y,Q=Z.clientY-te;B.moved=re*re+Q*Q>b}B.event(Z).zoom("mouse",n(S(B.that.__zoom,B.mouse[0]=Rt(Z,$),B.mouse[1]),B.extent,i))}function fe(Z){F.on("mousemove.zoom mouseup.zoom",null),vf(Z.view,B.moved),Io(Z),B.event(Z).end()}}function oe(O,...H){if(e.apply(this,arguments)){var $=this.__zoom,B=Rt(O.changedTouches?O.changedTouches[0]:O,this),F=$.invert(B),J=$.k*(O.shiftKey?.5:2),Y=n(S(T($,J),B,F),t.apply(this,H),i);Io(O),a>0?bt(this).transition().duration(a).call(L,Y,B,O):bt(this).call(k.transform,Y,B,O)}}function q(O,...H){if(e.apply(this,arguments)){var $=O.touches,B=$.length,F=U(this,H,O.changedTouches.length===B).event(O),J,Y,te,le;for(yi(O),Y=0;Y<B;++Y)te=$[Y],le=Rt(te,this),le=[le,this.__zoom.invert(le),te.identifier],F.touch0?!F.touch1&&F.touch0[2]!==le[2]&&(F.touch1=le,F.taps=0):(F.touch0=le,J=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(F.taps<2&&(d=le[0],c=setTimeout(function(){c=null},h)),Yr(this),F.start())}}function R(O,...H){if(this.__zooming){var $=U(this,H).event(O),B=O.changedTouches,F=B.length,J,Y,te,le;for(Io(O),J=0;J<F;++J)Y=B[J],te=Rt(Y,this),$.touch0&&$.touch0[2]===Y.identifier?$.touch0[0]=te:$.touch1&&$.touch1[2]===Y.identifier&&($.touch1[0]=te);if(Y=$.that.__zoom,$.touch1){var fe=$.touch0[0],Z=$.touch0[1],re=$.touch1[0],Q=$.touch1[1],E=(E=re[0]-fe[0])*E+(E=re[1]-fe[1])*E,P=(P=Q[0]-Z[0])*P+(P=Q[1]-Z[1])*P;Y=T(Y,Math.sqrt(E/P)),te=[(fe[0]+re[0])/2,(fe[1]+re[1])/2],le=[(Z[0]+Q[0])/2,(Z[1]+Q[1])/2]}else if($.touch0)te=$.touch0[0],le=$.touch0[1];else return;$.zoom("touch",n(S(Y,te,le),$.extent,i))}}function ee(O,...H){if(this.__zooming){var $=U(this,H).event(O),B=O.changedTouches,F=B.length,J,Y;for(yi(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),J=0;J<F;++J)Y=B[J],$.touch0&&$.touch0[2]===Y.identifier?delete $.touch0:$.touch1&&$.touch1[2]===Y.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(Y=Rt(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<w)){var te=bt(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return k.wheelDelta=function(O){return arguments.length?(o=typeof O=="function"?O:jr(+O),k):o},k.filter=function(O){return arguments.length?(e=typeof O=="function"?O:jr(!!O),k):e},k.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:jr(!!O),k):r},k.extent=function(O){return arguments.length?(t=typeof O=="function"?O:jr([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),k):t},k.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],k):[s[0],s[1]]},k.translateExtent=function(O){return arguments.length?(i[0][0]=+O[0][0],i[1][0]=+O[1][0],i[0][1]=+O[0][1],i[1][1]=+O[1][1],k):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},k.constrain=function(O){return arguments.length?(n=O,k):n},k.duration=function(O){return arguments.length?(a=+O,k):a},k.interpolate=function(O){return arguments.length?(l=O,k):l},k.on=function(){var O=u.on.apply(u,arguments);return O===u?k:O},k.clickDistance=function(O){return arguments.length?(b=(O=+O)*O,k):Math.sqrt(b)},k.tapDistance=function(O){return arguments.length?(w=+O,k):w},k}var de=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(de||{}),qa=(e=>(e.Partial="partial",e.Full="full",e))(qa||{}),An=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(An||{}),yn=(e=>(e.Strict="strict",e.Loose="loose",e))(yn||{}),ia=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(ia||{}),Jo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Jo||{});const tS=["INPUT","SELECT","TEXTAREA"],nS=typeof document<"u"?document:null;function aa(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,s=typeof o?.closest=="function"?o.closest(".nokey"):null;return tS.includes(o?.nodeName)||r||!!s}function oS(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Bu(e,t,n,o){const r=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const s=r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]);return o&&n.delete(e.toLowerCase()),s}function rS(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=sS(n.code,e);return Array.isArray(e)?e.some(r=>Bu(n[o],r,t,n.type==="keyup")):Bu(n[o],e,t,n.type==="keyup")}}function sS(e,t){return t.includes(e)?"code":"key"}function Zo(e,t){const n=ce(()=>Se(t?.target)??nS),o=tr(Se(e)===!0);let r=!1;const s=new Set;let i=l(Se(e));be(()=>Se(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&a(),i=l(u)},{immediate:!0}),tf(["blur","contextmenu"],a),Su((...u)=>i(...u),u=>{var c,d;const f=Se(t?.actInsideInputWithModifier)??!0,h=Se(t?.preventDefault)??!1;if(r=oS(u),(!r||r&&!f)&&aa(u))return;const b=((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])||u.target,w=b?.nodeName==="BUTTON"||b?.nodeName==="A";!h&&(r||!w)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),Su((...u)=>i(...u),u=>{const c=Se(t?.actInsideInputWithModifier)??!0;if(o.value){if((!r||r&&!c)&&aa(u))return;r=!1,o.value=!1}},{eventName:"keyup",target:n});function a(){r=!1,s.clear(),o.value=Se(e)===!0}function l(u){return u===null?(a(),()=>!1):typeof u=="boolean"?(a(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?rS(u,s):u}return o}const Af="vue-flow__node-desc",Nf="vue-flow__edge-desc",iS="vue-flow__aria-live",$f=["Enter"," ","Escape"],vo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function ps(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function gs(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Ls(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Bn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function If(e,t){return{x:Bn(e.x,t[0][0],t[1][0]),y:Bn(e.y,t[0][1],t[1][1])}}function Uu(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function _n(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Dn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!_n(e)}function Lo(e){return Dn(e)&&"computedPosition"in e}function Lr(e){return!Number.isNaN(e)&&Number.isFinite(e)}function aS(e){return Lr(e.width)&&Lr(e.height)&&Lr(e.x)&&Lr(e.y)}function lS(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:Rn({width:0,height:0}),computedPosition:Rn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Fe(e.data)?e.data:{},events:Rn(Fe(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Rf(e,t,n){var o,r;const s={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Fe(e.data)?e.data:{},events:Rn(Fe(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function Mf(e,t,n,o){const r=typeof e=="string"?e:e.id,s=new Set,i=o==="source"?"target":"source";for(const a of n)a[i]===r&&s.add(a[o]);return t.filter(a=>s.has(a.id))}function uS(...e){if(e.length===3){const[s,i,a]=e;return Mf(s,i,a,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>_n(s)&&s.source===o).map(s=>n.find(i=>Dn(i)&&i.id===s.target))}function cS(...e){if(e.length===3){const[s,i,a]=e;return Mf(s,i,a,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>_n(s)&&s.target===o).map(s=>n.find(i=>Dn(i)&&i.id===s.source))}function Df({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function dS(e,t){return t.some(n=>_n(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function la({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function fr({x:e,y:t},{x:n,y:o,zoom:r},s=!1,i=[1,1]){const a={x:(e-n)/r,y:(t-o)/r};return s?zs(a,i):a}function fS(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function jf({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function hS({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Lf(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=fS(t,jf({...o.computedPosition,...o.dimensions}))}return hS(t)}function zf(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){const s={...fr(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const a of e){const{dimensions:l,selectable:u=!0,hidden:c=!1}=a,d=l.width??a.width??null,f=l.height??a.height??null;if(r&&!u||c)continue;const h=gs(s,ps(a)),y=d===null||f===null,b=o&&h>0,w=(d??0)*(f??0);(y||b||h>=w||a.dragging)&&i.push(a)}return i}function Bf(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Fu(e,t,n,o,r,s=.1,i={x:0,y:0}){const a=t/(e.width*(1+s)),l=n/(e.height*(1+s)),u=Math.min(a,l),c=Bn(u,o,r),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c+(i.x??0),y=n/2-f*c+(i.y??0);return{x:h,y,zoom:c}}function pS(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Uf(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Uf(n,t):!1}function hr(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Vu(e){const t=e.ctrlKey&&vs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Hu(e,t,n){return e<t?Bn(Math.abs(e-t),1,t)/t:e>n?-Bn(Math.abs(e-n),1,t)/t:0}function Ff(e,t,n=15,o=40){const r=Hu(e.x,o,t.width-o)*n,s=Hu(e.y,o,t.height-o)*n;return[r,s]}function _i(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(typeof t.style=="function"?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(typeof r.width=="string"){const s=Number(r.width.replace("px",""));r.width=`${s+n}px`}else r.width+=n;if(o>0)if(typeof r.height=="string"){const s=Number(r.height.replace("px",""));r.height=`${s+o}px`}else r.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof r.width=="string"){const i=Number(r.width.replace("px",""));r.width=`${i+s}px`}else r.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof r.height=="string"){const i=Number(r.height.replace("px",""));r.height=`${i+s}px`}else r.height+=s;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const i=t.style;return{...i(s),...r}}:t.style={...t.style,...r}}}}function Wu(e,t){var n,o;const r=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of r)if(i.type==="add")t.findIndex(l=>l.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const a=t.findIndex(l=>l.id===i.id);a!==-1&&t.splice(a,1)}const s=t.map(i=>i.id);for(const i of t)for(const a of e)if(a.id===i.id)switch(a.type){case"select":i.selected=a.selected;break;case"position":if(Lo(i)&&(typeof a.position<"u"&&(i.position=a.position),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&Lo(l)&&_i(i,l)}break;case"dimensions":if(Lo(i)&&(typeof a.dimensions<"u"&&(i.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(i.style={...i.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(o=a.dimensions)==null?void 0:o.height}px`}),typeof a.resizing<"u"&&(i.resizing=a.resizing),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&Lo(l)&&(!!l.dimensions.width&&!!l.dimensions.height?_i(i,l):st(()=>{_i(i,l)}))}break}return t}function dn(e,t){return{id:e,type:"select",selected:t}}function Gu(e){return{item:e,type:"add"}}function qu(e){return{id:e,type:"remove"}}function Ku(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function gn(e,t=new Set,n=!1){const o=[];for(const[r,s]of e){const i=t.has(r);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),o.push(dn(s.id,i)))}return o}function ie(e){const t=new Set;let n=!1;const o=()=>t.size>0;e&&(n=!0,t.add(e));const r=a=>{t.delete(a)};return{on:a=>{e&&n&&t.delete(e),t.add(a);const l=()=>{r(a),e&&n&&t.add(e)};return Is(l),{off:l}},off:r,trigger:a=>Promise.all(Array.from(t).map(l=>l(a))),hasListeners:o,fns:t}}function Yu(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function gS(e,t,n,o,r){var s,i;const a=[];for(const l of e)(l.selected||l.id===r)&&(!l.parentNode||!Uf(l,o))&&(l.draggable||t&&typeof l.draggable>"u")&&a.push(Rn({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((s=l.computedPosition)==null?void 0:s.x)||0,y:n.y-((i=l.computedPosition)==null?void 0:i.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return a}function wi({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const s=n(r.id);s&&o.push(s)}return[e?o.find(r=>r.id===e):o[0],o]}function Vf(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function vS(e,t,n){const[o,r,s,i]=typeof e!="string"?Vf(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-s]]:!1}function mS(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&r?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=vS(r,e,o);s&&(r=s)}else t(new Ge(Ve.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const s=o?.computedPosition.x||0,i=o?.computedPosition.y||0;r=[[r[0][0]+s,r[0][1]+i],[r[1][0]+s,r[1][1]+i]]}else if(r!=="parent"&&r?.range&&Array.isArray(r.range)){const[s,i,a,l]=Vf(r.padding),u=o?.computedPosition.x||0,c=o?.computedPosition.y||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+s],[r.range[1][0]+u-i,r.range[1][1]+c-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function yS({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ka(e,t,n,o,r){const s=yS(e.dimensions,mS(e,n,o,r)),i=If(t,s);return{position:{x:i.x-(r?.computedPosition.x||0),y:i.y-(r?.computedPosition.y||0)},computedPosition:i}}function Co(e,t,n=de.Left,o=!1){const r=(t?.x??0)+e.computedPosition.x,s=(t?.y??0)+e.computedPosition.y,{width:i,height:a}=t??SS(e);if(o)return{x:r+i/2,y:s+a/2};switch(t?.position??n){case de.Top:return{x:r+i/2,y:s};case de.Right:return{x:r+i,y:s+a/2};case de.Bottom:return{x:r+i/2,y:s+a};case de.Left:return{x:r,y:s+a/2}}}function Xu(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function _S({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:s,width:i,height:a,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=jf({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:i/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function wS(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const s=t(e.source),i=t(e.target);return!s||!i?0:(n&&(r=o?e.zIndex:Math.max(s.computedPosition.z||0,i.computedPosition.z||0)),r)}var Ve=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ve||{});const Ju={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ge extends Error{constructor(t,...n){var o;super((o=Ju[t])==null?void 0:o.call(Ju,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Ya(e){return"clientX"in e}function bS(e){return"sourceEvent"in e}function jt(e,t){const n=Ya(e);let o,r;return n?(o=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(o=0,r=0),{x:o-(t?.left??0),y:r-(t?.top??0)}}const vs=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function SS(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function zs(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const ES=()=>!0;function bi(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function xS(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())gs(r,ps(s))>0&&o.push(s);return o}const kS=250;function CS(e,t,n,o){var r,s;let i=[],a=Number.POSITIVE_INFINITY;const l=xS(e,n,t+kS);for(const u of l){const c=[...((r=u.handleBounds)==null?void 0:r.source)??[],...((s=u.handleBounds)==null?void 0:s.target)??[]];for(const d of c){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:f,y:h}=Co(u,d,d.position,!0),y=Math.sqrt((f-e.x)**2+(h-e.y)**2);y>t||(y<a?(i=[{...d,x:f,y:h}],a=y):y===a&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function Zu(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:s,doc:i,lib:a,flowId:l,isValidConnection:u=ES},c,d,f){const h=s==="target",y=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:b,y:w}=jt(e),k=i.elementFromPoint(b,w),T=k?.classList.contains(`${a}-flow__handle`)?k:y,S={handleDomNode:T,isValid:!1,connection:null,toHandle:null};if(T){const C=Hf(void 0,T),L=T.getAttribute("data-nodeid"),U=T.getAttribute("data-handleid"),V=T.classList.contains("connectable"),X=T.classList.contains("connectableend");if(!L||!C)return S;const ae={source:h?L:o,sourceHandle:h?U:r,target:h?o:L,targetHandle:h?r:U};S.connection=ae;const q=V&&X&&(n===yn.Strict?h&&C==="source"||!h&&C==="target":L!==o||U!==r);S.isValid=q&&u(ae,{nodes:d,edges:c,sourceNode:f(ae.source),targetNode:f(ae.target)}),S.toHandle=t}return S}function Hf(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function TS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function PS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function OS(e,t,n,o,r,s=!1){var i,a,l;const u=o.get(e);if(!u)return null;const c=r===yn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((a=u.handleBounds)==null?void 0:a.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],d=(n?c?.find(f=>f.id===n):c?.[0])??null;return d&&s?{...d,...Co(u,d,d.position,!0)}:d}const ua={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top},AS=["production","prod"];function Bs(e,...t){Wf()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Wf(){return!AS.includes("production")}function Qu(e,t,n,o,r){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s?.length?Array.from(s).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:r,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...Ls(i)}}):null}function ca(e,t,n,o,r,s=!1,i){r.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),st(()=>{i.blur()})):n([e])}function Fe(e){return typeof ne(e)<"u"}function NS(e,t,n,o){if(!e||!e.source||!e.target)return n(new Ge(Ve.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let r;return _n(e)?r=e:r={...e,id:Df(e)},r=Rf(r,void 0,o),dS(r,t)?!1:r}function $S(e,t,n,o,r){if(!t.source||!t.target)return r(new Ge(Ve.EDGE_INVALID,e.id)),!1;if(!n)return r(new Ge(Ve.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...i}=e;return{...i,id:o?Df(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function ec(e,t,n){const o={},r=[];for(let s=0;s<e.length;++s){const i=e[s];if(!Dn(i)){n(new Ge(Ve.NODE_INVALID,i?.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const a=lS(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),r[s]=a}for(const s of r){const i=t(s.parentNode)||r.find(a=>a.id===s.parentNode);s.parentNode&&!i&&n(new Ge(Ve.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||o[s.id])&&(o[s.id]&&(s.isParent=!0),i&&(i.isParent=!0))}return r}function tc(e,t,n,o,r,s){let i=r;const a=o.get(i)||new Map;o.set(i,a.set(n,t)),i=`${r}-${e}`;const l=o.get(i)||new Map;if(o.set(i,l.set(n,t)),s){i=`${r}-${e}-${s}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function Si(e,t,n){e.clear();for(const o of n){const{source:r,target:s,sourceHandle:i=null,targetHandle:a=null}=o,l={edgeId:o.id,source:r,target:s,sourceHandle:i,targetHandle:a},u=`${r}-${i}--${s}-${a}`,c=`${s}-${a}--${r}-${i}`;tc("source",l,c,e,r,i),tc("target",l,u,e,s,a)}}function nc(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ei(e,t,n,o,r,s,i,a){const l=[];for(const u of e){const c=_n(u)?u:NS(u,a,r,s);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){r(new Ge(Ve.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){r(new Ge(Ve.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){r(new Ge(Ve.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:a,nodes:i,sourceNode:d,targetNode:f})){r(new Ge(Ve.EDGE_INVALID,c.id));continue}const h=o(c.id);l.push({...Rf(c,h,s),sourceNode:d,targetNode:f})}return l}const oc=Symbol("vueFlow"),Gf=Symbol("nodeId"),qf=Symbol("nodeRef"),IS=Symbol("edgeId"),RS=Symbol("edgeRef"),Us=Symbol("slots");function Kf(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:s,nodeExtent:i,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:y,nodesSelectionActive:b,selectNodesOnDrag:w,removeSelectedElements:k,addSelectedNodes:T,updateNodePositions:S,emits:C}=je(),{onStart:L,onDrag:U,onStop:V,onClick:X,el:ae,disabled:oe,id:q,selectable:R,dragHandle:ee}=e,O=tr(!1);let H=[],$,B=null,F={x:void 0,y:void 0},J={x:0,y:0},Y=null,te=!1,le=0,fe=!1;const Z=jS(),re=({x:D,y:m})=>{F={x:D,y:m};let _=!1;if(H=H.map(p=>{const v={x:D-p.distance.x,y:m-p.distance.y},{computedPosition:g}=Ka(p,n.value?zs(v,o.value):v,C.error,i.value,p.parentNode?h(p.parentNode):void 0);return _=_||p.position.x!==g.x||p.position.y!==g.y,p.position=g,p}),!!_&&(S(H,!0,!0),O.value=!0,Y)){const[p,v]=wi({id:q,dragItems:H,findNode:h});U({event:Y,node:p,nodes:v})}},Q=()=>{if(!B)return;const[D,m]=Ff(J,B,c.value);if(D!==0||m!==0){const _={x:(F.x??0)-D/l.value.zoom,y:(F.y??0)-m/l.value.zoom};f({x:D,y:m})&&re(_)}le=requestAnimationFrame(Q)},E=(D,m)=>{te=!0;const _=h(q);!w.value&&!y.value&&_&&(_.selected||k()),_&&Se(R)&&w.value&&ca(_,y.value,T,k,b,!1,m);const p=Z(D.sourceEvent);if(F=p,H=gS(s.value,d.value,p,h,q),H.length){const[v,g]=wi({id:q,dragItems:H,findNode:h});L({event:D.sourceEvent,node:v,nodes:g})}},P=(D,m)=>{var _;D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||(a.value===0&&E(D,m),F=Z(D.sourceEvent),B=((_=t.value)==null?void 0:_.getBoundingClientRect())||null,J=jt(D.sourceEvent,B))},A=(D,m)=>{const _=Z(D.sourceEvent);if(!fe&&te&&u.value&&(fe=!0,Q()),!te){const p=_.xSnapped-(F.x??0),v=_.ySnapped-(F.y??0);Math.sqrt(p*p+v*v)>a.value&&E(D,m)}(F.x!==_.xSnapped||F.y!==_.ySnapped)&&H.length&&te&&(Y=D.sourceEvent,J=jt(D.sourceEvent,B),re(_))},I=D=>{let m=!1;if(!te&&!O.value&&!y.value){const _=D.sourceEvent,p=Z(_),v=p.xSnapped-(F.x??0),g=p.ySnapped-(F.y??0),x=Math.sqrt(v*v+g*g);x!==0&&x<=a.value&&(X?.(_),m=!0)}if(H.length&&!m){S(H,!1,!1);const[_,p]=wi({id:q,dragItems:H,findNode:h});V({event:D.sourceEvent,node:_,nodes:p})}H=[],O.value=!1,fe=!1,te=!1,F={x:void 0,y:void 0},cancelAnimationFrame(le)};return be([()=>Se(oe),ae],([D,m],_,p)=>{if(m){const v=bt(m);D||($=aw().on("start",g=>P(g,m)).on("drag",g=>A(g,m)).on("end",g=>I(g)).filter(g=>{const x=g.target,N=Se(ee);return!g.button&&(!r.value||!Yu(x,`.${r.value}`,m)&&(!N||Yu(x,N,m)))}),v.call($)),p(()=>{v.on(".drag",null),$&&($.on("start",null),$.on("drag",null),$.on("end",null))})}}),O}function MS(){return{doubleClick:ie(),click:ie(),mouseEnter:ie(),mouseMove:ie(),mouseLeave:ie(),contextMenu:ie(),updateStart:ie(),update:ie(),updateEnd:ie()}}function DS(e,t){const n=MS();return n.doubleClick.on(o=>{var r,s;t.edgeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.edgeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.edgeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.edgeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.edgeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.edgeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.updateStart.on(o=>{var r,s;t.edgeUpdateStart(o),(s=(r=e.events)==null?void 0:r.updateStart)==null||s.call(r,o)}),n.update.on(o=>{var r,s;t.edgeUpdate(o),(s=(r=e.events)==null?void 0:r.update)==null||s.call(r,o)}),n.updateEnd.on(o=>{var r,s;t.edgeUpdateEnd(o),(s=(r=e.events)==null?void 0:r.updateEnd)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function jS(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=je();return r=>{var s;const i=((s=o.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},a=bS(r)?r.sourceEvent:r,{x:l,y:u}=jt(a,i),c=fr({x:l,y:u},e.value),{x:d,y:f}=n.value?zs(c,t.value):c;return{xSnapped:d,ySnapped:f,...c}}}function zr(){return!0}function Yf({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:i}){const{id:a,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:y,autoPanSpeed:b,findNode:w,panBy:k,startConnection:T,updateConnection:S,endConnection:C,emits:L,viewport:U,edges:V,nodes:X,isValidConnection:ae,nodeLookup:oe}=je();let q=null,R=!1,ee=null;function O($){var B;const F=Se(n)==="target",J=Ya($),Y=Uu($.target),te=$.currentTarget;if(te&&(J&&$.button===0||!J)){let le=function(G){p=jt(G,D),Q=CS(fr(p,U.value,!1,[1,1]),c.value,oe.value,x),v||(g(),v=!0);const W=Zu(G,{handle:Q,connectionMode:u.value,fromNodeId:Se(t),fromHandleId:Se(e),fromType:F?"target":"source",isValidConnection:re,doc:Y,lib:"vue",flowId:a,nodeLookup:oe.value},V.value,X.value,w);ee=W.handleDomNode,q=W.connection,R=PS(!!Q,W.isValid);const K={...j,isValid:R,to:W.toHandle&&R?la({x:W.toHandle.x,y:W.toHandle.y},U.value):p,toHandle:W.toHandle,toPosition:R&&W.toHandle?W.toHandle.position:ua[x.position],toNode:W.toHandle?oe.value.get(W.toHandle.nodeId):null};if(!(R&&Q&&j?.toHandle&&K.toHandle&&j.toHandle.type===K.toHandle.type&&j.toHandle.nodeId===K.toHandle.nodeId&&j.toHandle.id===K.toHandle.id&&j.to.x===K.to.x&&j.to.y===K.to.y)){if(S(Q&&R?la({x:Q.x,y:Q.y},U.value):p,W.toHandle,TS(!!Q,R)),j=K,!Q&&!R&&!ee)return bi(_);q&&q.source!==q.target&&ee&&(bi(_),_=ee,ee.classList.add("connecting","vue-flow__handle-connecting"),ee.classList.toggle("valid",!!R),ee.classList.toggle("vue-flow__handle-valid",!!R))}},fe=function(G){(Q||ee)&&q&&R&&(s?s(G,q):L.connect(q)),L.connectEnd(G),r&&i?.(G),bi(_),cancelAnimationFrame(E),C(G),v=!1,R=!1,q=null,ee=null,Y.removeEventListener("mousemove",le),Y.removeEventListener("mouseup",fe),Y.removeEventListener("touchmove",le),Y.removeEventListener("touchend",fe)};const Z=w(Se(t));let re=Se(o)||ae.value||zr;!re&&Z&&(re=(F?Z.isValidSourcePos:Z.isValidTargetPos)||zr);let Q,E=0;const{x:P,y:A}=jt($),I=Hf(Se(r),te),D=(B=l.value)==null?void 0:B.getBoundingClientRect();if(!D||!I)return;const m=OS(Se(t),I,Se(e),oe.value,u.value);if(!m)return;let _,p=jt($,D),v=!1;const g=()=>{if(!y.value)return;const[G,W]=Ff(p,D,b.value);k({x:G,y:W}),E=requestAnimationFrame(g)},x={...m,nodeId:Se(t),type:I,position:m.position},N=oe.value.get(Se(t)),M={inProgress:!0,isValid:null,from:Co(N,x,de.Left,!0),fromHandle:x,fromPosition:x.position,fromNode:N,to:p,toHandle:null,toPosition:ua[x.position],toNode:null};T({nodeId:Se(t),id:Se(e),type:I,position:te?.getAttribute("data-handlepos")||de.Top,...p},{x:P-D.left,y:A-D.top}),L.connectStart({event:$,nodeId:Se(t),handleId:Se(e),handleType:I});let j=M;Y.addEventListener("mousemove",le),Y.addEventListener("mouseup",fe),Y.addEventListener("touchmove",le),Y.addEventListener("touchend",fe)}}function H($){var B,F;if(!d.value)return;const J=Se(n)==="target";if(!f.value){L.clickConnectStart({event:$,nodeId:Se(t),handleId:Se(e)}),T({nodeId:Se(t),type:Se(n),id:Se(e),position:de.Top,...jt($)},void 0,!0);return}let Y=Se(o)||ae.value||zr;const te=w(Se(t));if(!Y&&te&&(Y=(J?te.isValidSourcePos:te.isValidTargetPos)||zr),te&&(typeof te.connectable>"u"?h.value:te.connectable)===!1)return;const le=Uu($.target),fe=Zu($,{handle:{nodeId:Se(t),id:Se(e),type:Se(n),position:de.Top,...jt($)},connectionMode:u.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:Y,doc:le,lib:"vue",flowId:a,nodeLookup:oe.value},V.value,X.value,w),Z=((B=fe.connection)==null?void 0:B.source)===((F=fe.connection)==null?void 0:F.target);fe.isValid&&fe.connection&&!Z&&L.connect(fe.connection),L.clickConnectEnd($),C($,!0)}return{handlePointerDown:O,handleClick:H}}function LS(){return Le(Gf,"")}function Xf(e){const t=e??LS()??"",n=Le(qf,ve(null)),{findNode:o,edges:r,emits:s}=je(),i=o(t);return i||s.error(new Ge(Ve.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:ce(()=>o(i.parentNode)),connectedEdges:ce(()=>Bf([i],r.value))}}function zS(){return{doubleClick:ie(),click:ie(),mouseEnter:ie(),mouseMove:ie(),mouseLeave:ie(),contextMenu:ie(),dragStart:ie(),drag:ie(),dragStop:ie()}}function BS(e,t){const n=zS();return n.doubleClick.on(o=>{var r,s;t.nodeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.nodeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.nodeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.nodeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.nodeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.nodeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.dragStart.on(o=>{var r,s;t.nodeDragStart(o),(s=(r=e.events)==null?void 0:r.dragStart)==null||s.call(r,o)}),n.drag.on(o=>{var r,s;t.nodeDrag(o),(s=(r=e.events)==null?void 0:r.drag)==null||s.call(r,o)}),n.dragStop.on(o=>{var r,s;t.nodeDragStop(o),(s=(r=e.events)==null?void 0:r.dragStop)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function Jf(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:s,nodesDraggable:i,emits:a}=je();return(l,u=!1)=>{const c=s.value?r.value[0]:5,d=s.value?r.value[1]:5,f=u?4:1,h=l.x*c*f,y=l.y*d*f,b=[];for(const w of e.value)if(w.draggable||i&&typeof w.draggable>"u"){const k={x:w.computedPosition.x+h,y:w.computedPosition.y+y},{computedPosition:T}=Ka(w,k,a.error,t.value,w.parentNode?o(w.parentNode):void 0);b.push({id:w.id,position:T,from:w.position,distance:{x:l.x,y:l.y},dimensions:w.dimensions})}n(b,!0,!1)}}const xi=.1,US=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function un(){return Bs("Viewport not initialized yet."),Promise.resolve(!1)}const FS={zoomIn:un,zoomOut:un,zoomTo:un,fitView:un,setCenter:un,fitBounds:un,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:un,setTransform:un,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function VS(e){function t(o,r){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?Xo:Gr).scaleBy(ki(e.d3Selection,r?.duration,r?.ease,()=>{s(!0)}),o):s(!1)})}function n(o,r,s,i){return new Promise(a=>{var l;const{x:u,y:c}=If({x:-o,y:-r},e.translateExtent),d=ko.translate(-u,-c).scale(s);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate(i?.interpolate==="linear"?Xo:Gr).transform(ki(e.d3Selection,i?.duration,i?.ease,()=>{a(!0)}),d):a(!1)})}return ce(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,s)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(s?.interpolate==="linear"?Xo:Gr).scaleTo(ki(e.d3Selection,s?.duration,s?.ease,()=>{i(!0)}),r):i(!1)}),setViewport:(r,s)=>n(r.x,r.y,r.zoom,s),setTransform:(r,s)=>n(r.x,r.y,r.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:xi,includeHiddenNodes:!1,duration:0})=>{var s,i;const a=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&(r?.includeHiddenNodes||!f.hidden)&&(!((s=r.nodes)!=null&&s.length)||(i=r.nodes)!=null&&i.length&&r.nodes.includes(f.id))&&a.push(f);if(!a.length)return Promise.resolve(!1);const l=Lf(a),{x:u,y:c,zoom:d}=Fu(l,e.dimensions.width,e.dimensions.height,r.minZoom??e.minZoom,r.maxZoom??e.maxZoom,r.padding??xi,r.offset);return n(u,c,d,r)},setCenter:(r,s,i)=>{const a=typeof i?.zoom<"u"?i.zoom:e.maxZoom,l=e.dimensions.width/2-r*a,u=e.dimensions.height/2-s*a;return n(l,u,a,i)},fitBounds:(r,s={padding:xi})=>{const{x:i,y:a,zoom:l}=Fu(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding);return n(i,a,l,s)},project:r=>fr(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-s,y:r.y-i};return fr(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+s,y:r.y+i};return la(a,e.viewport)}return{x:0,y:0}}}:FS)}function ki(e,t=0,n=US,o=()=>{}){const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function HS(e,t,n){const o=va(!0);return o.run(()=>{const r=()=>{o.run(()=>{let b,w,k=!!(n.nodes.value.length||n.edges.value.length);b=to([e.modelValue,()=>{var T,S;return(S=(T=e.modelValue)==null?void 0:T.value)==null?void 0:S.length}],([T])=>{T&&Array.isArray(T)&&(w?.pause(),n.setElements(T),!w&&!k&&T.length?k=!0:w?.resume())}),w=to([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([T,S])=>{var C;(C=e.modelValue)!=null&&C.value&&Array.isArray(e.modelValue.value)&&(b?.pause(),e.modelValue.value=[...T,...S],st(()=>{b?.resume()}))},{immediate:k}),Fr(()=>{b?.stop(),w?.stop()})})},s=()=>{o.run(()=>{let b,w,k=!!n.nodes.value.length;b=to([e.nodes,()=>{var T,S;return(S=(T=e.nodes)==null?void 0:T.value)==null?void 0:S.length}],([T])=>{T&&Array.isArray(T)&&(w?.pause(),n.setNodes(T),!w&&!k&&T.length?k=!0:w?.resume())}),w=to([n.nodes,()=>n.nodes.value.length],([T])=>{var S;(S=e.nodes)!=null&&S.value&&Array.isArray(e.nodes.value)&&(b?.pause(),e.nodes.value=[...T],st(()=>{b?.resume()}))},{immediate:k}),Fr(()=>{b?.stop(),w?.stop()})})},i=()=>{o.run(()=>{let b,w,k=!!n.edges.value.length;b=to([e.edges,()=>{var T,S;return(S=(T=e.edges)==null?void 0:T.value)==null?void 0:S.length}],([T])=>{T&&Array.isArray(T)&&(w?.pause(),n.setEdges(T),!w&&!k&&T.length?k=!0:w?.resume())}),w=to([n.edges,()=>n.edges.value.length],([T])=>{var S;(S=e.edges)!=null&&S.value&&Array.isArray(e.edges.value)&&(b?.pause(),e.edges.value=[...T],st(()=>{b?.resume()}))},{immediate:k}),Fr(()=>{b?.stop(),w?.stop()})})},a=()=>{o.run(()=>{be(()=>t.maxZoom,()=>{t.maxZoom&&Fe(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{be(()=>t.minZoom,()=>{t.minZoom&&Fe(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{be(()=>t.translateExtent,()=>{t.translateExtent&&Fe(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{be(()=>t.nodeExtent,()=>{t.nodeExtent&&Fe(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{be(()=>t.applyDefault,()=>{Fe(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{o.run(()=>{const b=async w=>{let k=w;typeof t.autoConnect=="function"&&(k=await t.autoConnect(w)),k!==!1&&n.addEdges([k])};be(()=>t.autoConnect,()=>{Fe(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),be(n.autoConnect,(w,k,T)=>{w?n.onConnect(b):n.hooks.value.connect.off(b),T(()=>{n.hooks.value.connect.off(b)})},{immediate:!0})})},h=()=>{const b=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const w of Object.keys(t)){const k=w;if(!b.includes(k)){const T=De(()=>t[k]),S=n[k];ze(S)&&o.run(()=>{be(T,C=>{Fe(C)&&(S.value=C)},{immediate:!0})})}}};(()=>{r(),s(),i(),l(),a(),u(),c(),d(),f(),h()})()}),()=>o.stop()}function WS(){return{edgesChange:ie(),nodesChange:ie(),nodeDoubleClick:ie(),nodeClick:ie(),nodeMouseEnter:ie(),nodeMouseMove:ie(),nodeMouseLeave:ie(),nodeContextMenu:ie(),nodeDragStart:ie(),nodeDrag:ie(),nodeDragStop:ie(),nodesInitialized:ie(),miniMapNodeClick:ie(),miniMapNodeDoubleClick:ie(),miniMapNodeMouseEnter:ie(),miniMapNodeMouseMove:ie(),miniMapNodeMouseLeave:ie(),connect:ie(),connectStart:ie(),connectEnd:ie(),clickConnectStart:ie(),clickConnectEnd:ie(),paneReady:ie(),init:ie(),move:ie(),moveStart:ie(),moveEnd:ie(),selectionDragStart:ie(),selectionDrag:ie(),selectionDragStop:ie(),selectionContextMenu:ie(),selectionStart:ie(),selectionEnd:ie(),viewportChangeStart:ie(),viewportChange:ie(),viewportChangeEnd:ie(),paneScroll:ie(),paneClick:ie(),paneContextMenu:ie(),paneMouseEnter:ie(),paneMouseMove:ie(),paneMouseLeave:ie(),edgeContextMenu:ie(),edgeMouseEnter:ie(),edgeMouseMove:ie(),edgeMouseLeave:ie(),edgeDoubleClick:ie(),edgeClick:ie(),edgeUpdateStart:ie(),edgeUpdate:ie(),edgeUpdateEnd:ie(),updateNodeInternals:ie(),error:ie(e=>Bs(e.message))}}function GS(e,t){Wc(()=>{for(const[n,o]of Object.entries(t.value)){const r=s=>{e(n,s)};o.fns.add(r),Is(()=>{o.off(r)})}})}function Zf(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:qa.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Jo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:An.Bezier,style:{}},connectionMode:yn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:vs()?"Meta":"Control",zoomActivationKeyCode:vs()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:WS(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const qS=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function KS(e,t,n){const o=VS(e),r=p=>{const v=p??[];e.hooks.updateNodeInternals.trigger(v)},s=p=>cS(p,e.nodes,e.edges),i=p=>uS(p,e.nodes,e.edges),a=p=>Bf(p,e.edges),l=({id:p,type:v,nodeId:g})=>{var x;const N=p?`-${v}-${p}`:`-${v}`;return Array.from(((x=e.connectionLookup.get(`${g}${N}`))==null?void 0:x.values())??[])},u=p=>{if(p)return t.value.get(p)},c=p=>{if(p)return n.value.get(p)},d=(p,v,g)=>{var x,N;const z=[];for(const M of p){const j={id:M.id,type:"position",dragging:g,from:M.from};if(v&&(j.position=M.position,M.parentNode)){const G=u(M.parentNode);j.position={x:j.position.x-(((x=G?.computedPosition)==null?void 0:x.x)??0),y:j.position.y-(((N=G?.computedPosition)==null?void 0:N.y)??0)}}z.push(j)}z?.length&&e.hooks.nodesChange.trigger(z)},f=p=>{if(!e.vueFlowRef)return;const v=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!v)return;const g=window.getComputedStyle(v),{m22:x}=new window.DOMMatrixReadOnly(g.transform),N=[];for(const z of p){const M=z,j=u(M.id);if(j){const G=Ls(M.nodeElement);if(!!(G.width&&G.height&&(j.dimensions.width!==G.width||j.dimensions.height!==G.height||M.forceUpdate))){const K=M.nodeElement.getBoundingClientRect();j.dimensions=G,j.handleBounds.source=Qu("source",M.nodeElement,K,x,j.id),j.handleBounds.target=Qu("target",M.nodeElement,K,x,j.id),N.push({id:j.id,type:"dimensions",dimensions:G})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),N.length&&e.hooks.nodesChange.trigger(N)},h=(p,v)=>{const g=new Set,x=new Set;for(const M of p)Dn(M)?g.add(M.id):_n(M)&&x.add(M.id);const N=gn(t.value,g,!0),z=gn(n.value,x);if(e.multiSelectionActive){for(const M of g)N.push(dn(M,v));for(const M of x)z.push(dn(M,v))}N.length&&e.hooks.nodesChange.trigger(N),z.length&&e.hooks.edgesChange.trigger(z)},y=p=>{if(e.multiSelectionActive){const v=p.map(g=>dn(g.id,!0));e.hooks.nodesChange.trigger(v);return}e.hooks.nodesChange.trigger(gn(t.value,new Set(p.map(v=>v.id)),!0)),e.hooks.edgesChange.trigger(gn(n.value))},b=p=>{if(e.multiSelectionActive){const v=p.map(g=>dn(g.id,!0));e.hooks.edgesChange.trigger(v);return}e.hooks.edgesChange.trigger(gn(n.value,new Set(p.map(v=>v.id)))),e.hooks.nodesChange.trigger(gn(t.value,new Set,!0))},w=p=>{h(p,!0)},k=p=>{const g=(p||e.nodes).map(x=>(x.selected=!1,dn(x.id,!1)));e.hooks.nodesChange.trigger(g)},T=p=>{const g=(p||e.edges).map(x=>(x.selected=!1,dn(x.id,!1)));e.hooks.edgesChange.trigger(g)},S=p=>{if(!p||!p.length)return h([],!1);const v=p.reduce((g,x)=>{const N=dn(x.id,!1);return Dn(x)?g.nodes.push(N):g.edges.push(N),g},{nodes:[],edges:[]});v.nodes.length&&e.hooks.nodesChange.trigger(v.nodes),v.edges.length&&e.hooks.edgesChange.trigger(v.edges)},C=p=>{var v;(v=e.d3Zoom)==null||v.scaleExtent([p,e.maxZoom]),e.minZoom=p},L=p=>{var v;(v=e.d3Zoom)==null||v.scaleExtent([e.minZoom,p]),e.maxZoom=p},U=p=>{var v;(v=e.d3Zoom)==null||v.translateExtent(p),e.translateExtent=p},V=p=>{e.nodeExtent=p,r()},X=p=>{var v;(v=e.d3Zoom)==null||v.clickDistance(p)},ae=p=>{e.nodesDraggable=p,e.nodesConnectable=p,e.elementsSelectable=p},oe=p=>{const v=p instanceof Function?p(e.nodes):p;!e.initialized&&!v.length||(e.nodes=ec(v,u,e.hooks.error.trigger))},q=p=>{const v=p instanceof Function?p(e.edges):p;if(!e.initialized&&!v.length)return;const g=Ei(v,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Si(e.connectionLookup,n.value,g),e.edges=g},R=p=>{const v=p instanceof Function?p([...e.nodes,...e.edges]):p;!e.initialized&&!v.length||(oe(v.filter(Dn)),q(v.filter(_n)))},ee=p=>{let v=p instanceof Function?p(e.nodes):p;v=Array.isArray(v)?v:[v];const g=ec(v,u,e.hooks.error.trigger),x=[];for(const N of g)x.push(Gu(N));x.length&&e.hooks.nodesChange.trigger(x)},O=p=>{let v=p instanceof Function?p(e.edges):p;v=Array.isArray(v)?v:[v];const g=Ei(v,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),x=[];for(const N of g)x.push(Gu(N));x.length&&e.hooks.edgesChange.trigger(x)},H=(p,v=!0,g=!1)=>{const x=p instanceof Function?p(e.nodes):p,N=Array.isArray(x)?x:[x],z=[],M=[];function j(W){const K=a(W);for(const se of K)(!Fe(se.deletable)||se.deletable)&&M.push(Ku(se.id,se.source,se.target,se.sourceHandle,se.targetHandle))}function G(W){const K=[];for(const se of e.nodes)se.parentNode===W&&K.push(se);if(K.length){for(const se of K)z.push(qu(se.id));v&&j(K);for(const se of K)G(se.id)}}for(const W of N){const K=typeof W=="string"?u(W):W;K&&(Fe(K.deletable)&&!K.deletable||(z.push(qu(K.id)),v&&j([K]),g&&G(K.id)))}M.length&&e.hooks.edgesChange.trigger(M),z.length&&e.hooks.nodesChange.trigger(z)},$=p=>{const v=p instanceof Function?p(e.edges):p,g=Array.isArray(v)?v:[v],x=[];for(const N of g){const z=typeof N=="string"?c(N):N;z&&(Fe(z.deletable)&&!z.deletable||x.push(Ku(typeof N=="string"?N:N.id,z.source,z.target,z.sourceHandle,z.targetHandle)))}e.hooks.edgesChange.trigger(x)},B=(p,v,g=!0)=>{const x=c(p.id);if(!x)return!1;const N=e.edges.indexOf(x),z=$S(p,v,x,g,e.hooks.error.trigger);if(z){const[M]=Ei([z],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((j,G)=>G===N?M:j),Si(e.connectionLookup,n.value,[M]),M}return!1},F=(p,v,g={replace:!1})=>{const x=c(p);if(!x)return;const N=typeof v=="function"?v(x):v;x.data=g.replace?N:{...x.data,...N}},J=p=>Wu(p,e.nodes),Y=p=>{const v=Wu(p,e.edges);return Si(e.connectionLookup,n.value,v),v},te=(p,v,g={replace:!1})=>{const x=u(p);if(!x)return;const N=typeof v=="function"?v(x):v;g.replace?e.nodes.splice(e.nodes.indexOf(x),1,N):Object.assign(x,N)},le=(p,v,g={replace:!1})=>{const x=u(p);if(!x)return;const N=typeof v=="function"?v(x):v;x.data=g.replace?N:{...x.data,...N}},fe=(p,v,g=!1)=>{g?e.connectionClickStartHandle=p:e.connectionStartHandle=p,e.connectionEndHandle=null,e.connectionStatus=null,v&&(e.connectionPosition=v)},Z=(p,v=null,g=null)=>{e.connectionStartHandle&&(e.connectionPosition=p,e.connectionEndHandle=v,e.connectionStatus=g)},re=(p,v)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,v?e.connectionClickStartHandle=null:e.connectionStartHandle=null},Q=p=>{const v=aS(p),g=v?null:Lo(p)?p:u(p.id);return!v&&!g?[null,null,v]:[v?p:ps(g),g,v]},E=(p,v=!0,g=e.nodes)=>{const[x,N,z]=Q(p);if(!x)return[];const M=[];for(const j of g||e.nodes){if(!z&&(j.id===N.id||!j.computedPosition))continue;const G=ps(j),W=gs(G,x);(v&&W>0||W>=G.width*G.height||W>=Number(x.width)*Number(x.height))&&M.push(j)}return M},P=(p,v,g=!0)=>{const[x]=Q(p);if(!x)return!1;const N=gs(x,v);return g&&N>0||N>=Number(x.width)*Number(x.height)},A=p=>{const{viewport:v,dimensions:g,d3Zoom:x,d3Selection:N,translateExtent:z}=e;if(!x||!N||!p.x&&!p.y)return!1;const M=ko.translate(v.x+p.x,v.y+p.y).scale(v.zoom),j=[[0,0],[g.width,g.height]],G=x.constrain()(M,j,z),W=e.viewport.x!==G.x||e.viewport.y!==G.y||e.viewport.zoom!==G.k;return x.transform(N,G),W},I=p=>{const v=p instanceof Function?p(e):p,g=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Fe(v.defaultEdgeOptions)&&(e.defaultEdgeOptions=v.defaultEdgeOptions);const x=v.modelValue||v.nodes||v.edges?[]:void 0;x&&(v.modelValue&&x.push(...v.modelValue),v.nodes&&x.push(...v.nodes),v.edges&&x.push(...v.edges),R(x));const N=()=>{Fe(v.maxZoom)&&L(v.maxZoom),Fe(v.minZoom)&&C(v.minZoom),Fe(v.translateExtent)&&U(v.translateExtent)};for(const z of Object.keys(v)){const M=z,j=v[M];![...qS,...g].includes(M)&&Fe(j)&&(e[M]=j)}Ji(()=>e.d3Zoom).not.toBeNull().then(N),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:R,setNodes:oe,setEdges:q,addNodes:ee,addEdges:O,removeNodes:H,removeEdges:$,findNode:u,findEdge:c,updateEdge:B,updateEdgeData:F,updateNode:te,updateNodeData:le,applyEdgeChanges:Y,applyNodeChanges:J,addSelectedElements:w,addSelectedNodes:y,addSelectedEdges:b,setMinZoom:C,setMaxZoom:L,setTranslateExtent:U,setNodeExtent:V,setPaneClickDistance:X,removeSelectedElements:S,removeSelectedNodes:k,removeSelectedEdges:T,startConnection:fe,updateConnection:Z,endConnection:re,setInteractive:ae,setState:I,getIntersectingNodes:E,getIncomers:s,getOutgoers:i,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:P,panBy:A,fitView:p=>o.value.fitView(p),zoomIn:p=>o.value.zoomIn(p),zoomOut:p=>o.value.zoomOut(p),zoomTo:(p,v)=>o.value.zoomTo(p,v),setViewport:(p,v)=>o.value.setViewport(p,v),setTransform:(p,v)=>o.value.setTransform(p,v),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(p,v,g)=>o.value.setCenter(p,v,g),fitBounds:(p,v)=>o.value.fitBounds(p,v),project:p=>o.value.project(p),screenToFlowCoordinate:p=>o.value.screenToFlowCoordinate(p),flowToScreenCoordinate:p=>o.value.flowToScreenCoordinate(p),toObject:()=>{const p=[],v=[];for(const g of e.nodes){const{computedPosition:x,handleBounds:N,selected:z,dimensions:M,isParent:j,resizing:G,dragging:W,events:K,...se}=g;p.push(se)}for(const g of e.edges){const{selected:x,sourceNode:N,targetNode:z,events:M,...j}=g;v.push(j)}return JSON.parse(JSON.stringify({nodes:p,edges:v,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:p=>new Promise(v=>{const{nodes:g,edges:x,position:N,zoom:z,viewport:M}=p;if(g&&oe(g),x&&q(x),M?.x&&M?.y||N){const j=M?.x||N[0],G=M?.y||N[1],W=M?.zoom||z||e.viewport.zoom;return Ji(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:j,y:G,zoom:W}).then(()=>{v(!0)})})}else v(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{const p=Zf();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const v=ko.translate(p.defaultViewport.x??0,p.defaultViewport.y??0).scale(Bn(p.defaultViewport.zoom??1,p.minZoom,p.maxZoom)),g=e.viewportRef.getBoundingClientRect(),x=[[0,0],[g.width,g.height]],N=e.d3Zoom.constrain()(v,x,p.translateExtent);e.d3Zoom.transform(e.d3Selection,N)}I(p)},$destroy:()=>{}}}const YS=["data-id","data-handleid","data-nodeid","data-handlepos"],XS={name:"Handle",compatConfig:{MODE:3}},ms=Ae({...XS,props:{id:{default:null},type:{},position:{default:()=>de.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=cp(e,["position","connectable","connectableStart","connectableEnd","id"]),o=De(()=>n.type??"source"),r=De(()=>n.isValidConnection??null),{id:s,connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=je(),{id:h,node:y,nodeEl:b,connectedEdges:w}=Xf(),k=ve(),T=De(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),S=De(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),C=De(()=>{var q,R,ee,O,H,$;return((q=i.value)==null?void 0:q.nodeId)===h&&((R=i.value)==null?void 0:R.id)===e.id&&((ee=i.value)==null?void 0:ee.type)===o.value||((O=l.value)==null?void 0:O.nodeId)===h&&((H=l.value)==null?void 0:H.id)===e.id&&(($=l.value)==null?void 0:$.type)===o.value}),L=De(()=>{var q,R,ee;return((q=a.value)==null?void 0:q.nodeId)===h&&((R=a.value)==null?void 0:R.id)===e.id&&((ee=a.value)==null?void 0:ee.type)===o.value}),{handlePointerDown:U,handleClick:V}=Yf({nodeId:h,handleId:e.id,isValidConnection:r,type:o}),X=ce(()=>typeof e.connectable=="string"&&e.connectable==="single"?!w.value.some(q=>{const R=q[`${o.value}Handle`];return q[o.value]!==h?!1:R?R===e.id:!0}):typeof e.connectable=="number"?w.value.filter(q=>{const R=q[`${o.value}Handle`];return q[o.value]!==h?!1:R?R===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(y,w.value):Fe(e.connectable)?e.connectable:c.value);ft(()=>{var q;if(!y.dimensions.width||!y.dimensions.height)return;const R=(q=y.handleBounds[o.value])==null?void 0:q.find(J=>J.id===e.id);if(!u.value||R)return;const ee=u.value.querySelector(".vue-flow__transformationpane");if(!b.value||!k.value||!ee||!e.id)return;const O=b.value.getBoundingClientRect(),H=k.value.getBoundingClientRect(),$=window.getComputedStyle(ee),{m22:B}=new window.DOMMatrixReadOnly($.transform),F={id:e.id,position:e.position,x:(H.left-O.left)/B,y:(H.top-O.top)/B,type:o.value,nodeId:h,...Ls(k.value)};y.handleBounds[o.value]=[...y.handleBounds[o.value]??[],F]});function ae(q){const R=Ya(q);X.value&&T.value&&(R&&q.button===0||!R)&&U(q)}function oe(q){!h||!a.value&&!T.value||X.value&&V(q)}return t({handleClick:V,handlePointerDown:U,onClick:oe,onPointerDown:ae}),(q,R)=>(ue(),he("div",{ref_key:"handle",ref:k,"data-id":`${ne(s)}-${ne(h)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":ne(h),"data-handlepos":q.position,class:Bt(["vue-flow__handle",[`vue-flow__handle-${q.position}`,`vue-flow__handle-${e.id}`,ne(d),ne(f),o.value,{connectable:X.value,connecting:L.value,connectablestart:T.value,connectableend:S.value,connectionindicator:X.value&&(T.value&&!C.value||S.value&&C.value)}]]),onMousedown:ae,onTouchstartPassive:ae,onClick:oe},[xt(q.$slots,"default",{id:q.id})],42,YS))}}),Fs=function({sourcePosition:e=de.Bottom,targetPosition:t=de.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:s,data:i}){const a=i.label??n;return[xe(ms,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?xe(a):xe(Me,[a]),xe(ms,{type:"source",position:e,connectable:o,isValidConnection:s})]};Fs.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Fs.inheritAttrs=!1;Fs.compatConfig={MODE:3};const JS=Fs,Vs=function({targetPosition:e=de.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const s=r.label??t;return[xe(ms,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof s!="string"&&s?xe(s):xe(Me,[s])]};Vs.props=["targetPosition","label","isValidTargetPos","connectable","data"];Vs.inheritAttrs=!1;Vs.compatConfig={MODE:3};const ZS=Vs,Hs=function({sourcePosition:e=de.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const s=r.label??t;return[typeof s!="string"&&s?xe(s):xe(Me,[s]),xe(ms,{type:"source",position:e,connectable:n,isValidConnection:o})]};Hs.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Hs.inheritAttrs=!1;Hs.compatConfig={MODE:3};const QS=Hs,eE=["transform"],tE=["width","height","x","y","rx","ry"],nE=["y"],oE={name:"EdgeText",compatConfig:{MODE:3}},rE=Ae({...oE,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ve({x:0,y:0,width:0,height:0}),n=ve(null),o=ce(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ft(r),be([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,i)=>(ue(),he("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(ue(),he("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:gt(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,tE)):at("",!0),we("text",Na(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[xt(s.$slots,"default",{},()=>[typeof s.label!="string"?(ue(),it(Kc(s.label),{key:0})):(ue(),he(Me,{key:1},[ns(Ue(s.label),1)],64))])],16,nE)],8,eE))}}),sE=["id","d","marker-end","marker-start"],iE=["d","stroke-width"],aE={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ws=Ae({...aE,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ve(null),o=ve(null),r=ve(null),s=up();return t({pathEl:n,interactionEl:o,labelEl:r}),(i,a)=>(ue(),he(Me,null,[we("path",Na(ne(s),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,sE),i.interactionWidth?(ue(),he("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,iE)):at("",!0),i.label&&i.labelX&&i.labelY?(ue(),it(rE,{key:1,ref_key:"labelEl",ref:r,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):at("",!0)],64))}});function Qf({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,i=Math.abs(o-t)/2,a=o<t?o+i:o-i;return[s,a,r,i]}function eh({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=e*.125+r*.375+i*.375+n*.125,u=t*.125+s*.375+a*.375+o*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function Br(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function rc({pos:e,x1:t,y1:n,x2:o,y2:r,c:s}){let i,a;switch(e){case de.Left:i=t-Br(t-o,s),a=n;break;case de.Right:i=t+Br(o-t,s),a=n;break;case de.Top:i=t,a=n-Br(n-r,s);break;case de.Bottom:i=t,a=n+Br(r-n,s);break}return[i,a]}function th(e){const{sourceX:t,sourceY:n,sourcePosition:o=de.Bottom,targetX:r,targetY:s,targetPosition:i=de.Top,curvature:a=.25}=e,[l,u]=rc({pos:o,x1:t,y1:n,x2:r,y2:s,c:a}),[c,d]=rc({pos:i,x1:r,y1:s,x2:t,y2:n,c:a}),[f,h,y,b]=eh({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${n} C${l},${u} ${c},${d} ${r},${s}`,f,h,y,b]}function sc({pos:e,x1:t,y1:n,x2:o,y2:r}){let s,i;switch(e){case de.Left:case de.Right:s=.5*(t+o),i=n;break;case de.Top:case de.Bottom:s=t,i=.5*(n+r);break}return[s,i]}function nh(e){const{sourceX:t,sourceY:n,sourcePosition:o=de.Bottom,targetX:r,targetY:s,targetPosition:i=de.Top}=e,[a,l]=sc({pos:o,x1:t,y1:n,x2:r,y2:s}),[u,c]=sc({pos:i,x1:r,y1:s,x2:t,y2:n}),[d,f,h,y]=eh({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${n} C${a},${l} ${u},${c} ${r},${s}`,d,f,h,y]}const ic={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}};function lE({source:e,sourcePosition:t=de.Bottom,target:n}){return t===de.Left||t===de.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function ac(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function uE({source:e,sourcePosition:t=de.Bottom,target:n,targetPosition:o=de.Top,center:r,offset:s}){const i=ic[t],a=ic[o],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=lE({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h,y,b;const w={x:0,y:0},k={x:0,y:0},[T,S,C,L]=Qf({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*a[d]===-1){y=r.x??T,b=r.y??S;const V=[{x:y,y:l.y},{x:y,y:u.y}],X=[{x:l.x,y:b},{x:u.x,y:b}];i[d]===f?h=d==="x"?V:X:h=d==="x"?X:V}else{const V=[{x:l.x,y:u.y}],X=[{x:u.x,y:l.y}];if(d==="x"?h=i.x===f?X:V:h=i.y===f?V:X,t===o){const ee=Math.abs(e[d]-n[d]);if(ee<=s){const O=Math.min(s-1,s-ee);i[d]===f?w[d]=(l[d]>e[d]?-1:1)*O:k[d]=(u[d]>n[d]?-1:1)*O}}if(t!==o){const ee=d==="x"?"y":"x",O=i[d]===a[ee],H=l[ee]>u[ee],$=l[ee]<u[ee];(i[d]===1&&(!O&&H||O&&$)||i[d]!==1&&(!O&&$||O&&H))&&(h=d==="x"?V:X)}const ae={x:l.x+w.x,y:l.y+w.y},oe={x:u.x+k.x,y:u.y+k.y},q=Math.max(Math.abs(ae.x-h[0].x),Math.abs(oe.x-h[0].x)),R=Math.max(Math.abs(ae.y-h[0].y),Math.abs(oe.y-h[0].y));q>=R?(y=(ae.x+oe.x)/2,b=h[0].y):(y=h[0].x,b=(ae.y+oe.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:u.x+k.x,y:u.y+k.y},n],y,b,C,L]}function cE(e,t,n,o){const r=Math.min(ac(e,t)/2,ac(t,n)/2,o),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+r*u},${i}Q ${s},${i} ${s},${i+r*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${i+r*l}Q ${s},${i} ${s+r*a},${i}`}function da(e){const{sourceX:t,sourceY:n,sourcePosition:o=de.Bottom,targetX:r,targetY:s,targetPosition:i=de.Top,borderRadius:a=5,centerX:l,centerY:u,offset:c=20}=e,[d,f,h,y,b]=uE({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c});return[d.reduce((k,T,S)=>{let C;return S>0&&S<d.length-1?C=cE(d[S-1],T,d[S+1],a):C=`${S===0?"M":"L"}${T.x} ${T.y}`,k+=C,k},""),f,h,y,b]}function dE(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[s,i,a,l]=Qf({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,s,i,a,l]}const fE=Ae({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=dE(e);return xe(Ws,{path:n,labelX:o,labelY:r,...t,...e})}}}),hE=fE,pE=Ae({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=da({...e,sourcePosition:e.sourcePosition??de.Bottom,targetPosition:e.targetPosition??de.Top});return xe(Ws,{path:n,labelX:o,labelY:r,...t,...e})}}}),oh=pE,gE=Ae({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>xe(oh,{...e,...t,borderRadius:0})}}),vE=gE,mE=Ae({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=th({...e,sourcePosition:e.sourcePosition??de.Bottom,targetPosition:e.targetPosition??de.Top});return xe(Ws,{path:n,labelX:o,labelY:r,...t,...e})}}}),yE=mE,_E=Ae({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=nh({...e,sourcePosition:e.sourcePosition??de.Bottom,targetPosition:e.targetPosition??de.Top});return xe(Ws,{path:n,labelX:o,labelY:r,...t,...e})}}}),wE=_E,bE={input:QS,default:JS,output:ZS},SE={default:yE,straight:hE,step:vE,smoothstep:oh,simplebezier:wE};function EE(e,t,n){const o=ce(()=>b=>t.value.get(b)),r=ce(()=>b=>n.value.get(b)),s=ce(()=>{const b={...SE,...e.edgeTypes},w=Object.keys(b);for(const k of e.edges)k.type&&!w.includes(k.type)&&(b[k.type]=k.type);return b}),i=ce(()=>{const b={...bE,...e.nodeTypes},w=Object.keys(b);for(const k of e.nodes)k.type&&!w.includes(k.type)&&(b[k.type]=k.type);return b}),a=ce(()=>e.onlyRenderVisibleElements?zf(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ce(()=>{if(e.onlyRenderVisibleElements){const b=[];for(const w of e.edges){const k=t.value.get(w.source),T=t.value.get(w.target);_S({sourcePos:k.computedPosition||{x:0,y:0},targetPos:T.computedPosition||{x:0,y:0},sourceWidth:k.dimensions.width,sourceHeight:k.dimensions.height,targetWidth:T.dimensions.width,targetHeight:T.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&b.push(w)}return b}return e.edges}),u=ce(()=>[...a.value,...l.value]),c=ce(()=>{const b=[];for(const w of e.nodes)w.selected&&b.push(w);return b}),d=ce(()=>{const b=[];for(const w of e.edges)w.selected&&b.push(w);return b}),f=ce(()=>[...c.value,...d.value]),h=ce(()=>{const b=[];for(const w of e.nodes)w.dimensions.width&&w.dimensions.height&&w.handleBounds!==void 0&&b.push(w);return b}),y=ce(()=>a.value.length>0&&h.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:i,getEdges:l,getNodes:a,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:y}}class Nn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=wn())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??Nn.instance;return Nn.instance=o??new Nn,n&&(n.config.globalProperties.$vueFlowStorage=Nn.instance),Nn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Zf(),r=jn(o),s={};for(const[f,h]of Object.entries(r.hooks)){const y=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;s[y]=h.on}const i={};for(const[f,h]of Object.entries(r.hooks))i[f]=h.trigger;const a=ce(()=>{const f=new Map;for(const h of r.nodes)f.set(h.id,h);return f}),l=ce(()=>{const f=new Map;for(const h of r.edges)f.set(h.id,h);return f}),u=EE(r,a,l),c=KS(r,a,l);c.setState({...r,...n});const d={...s,...u,...c,...v_(r),nodeLookup:a,edgeLookup:l,emits:i,id:t,vueFlowVersion:"1.46.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function je(e){const t=Nn.getInstance(),n=ma(),o=typeof e=="object",r=o?e:{id:e},s=r.id,i=s??n?.vueFlowId;let a;if(n){const l=Le(oc,null);typeof l<"u"&&l!==null&&(!i||l.id===i)&&(a=l)}if(a||i&&(a=t.get(i)),!a||i&&a.id!==i){const l=s??t.getId(),u=t.create(l,r);a=u,(n??va(!0)).run(()=>{be(u.applyDefault,(d,f,h)=>{const y=w=>{u.applyNodeChanges(w)},b=w=>{u.applyEdgeChanges(w)};d?(u.onNodesChange(y),u.onEdgesChange(b)):(u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)),h(()=>{u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)})},{immediate:!0}),Is(()=>{if(a){const d=t.get(a.id);d?d.$destroy():Bs(`No store instance found for id ${a.id} in storage.`)}})})}else o&&a.setState(r);if(n&&(Ke(oc,a),n.vueFlowId=a.id),o){const l=wn();l?.type.name!=="VueFlow"&&a.emits.error(new Ge(Ve.USEVUEFLOW_OPTIONS))}return a}function xE(e){const{emits:t,dimensions:n}=je();let o;ft(()=>{const r=e.value,s=()=>{if(!r)return;const i=Ls(r);(i.width===0||i.height===0)&&t.error(new Ge(Ve.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:i.width||500,height:i.height||500}};s(),window.addEventListener("resize",s),r&&(o=new ResizeObserver(()=>s()),o.observe(r)),vr(()=>{window.removeEventListener("resize",s),o&&r&&o.unobserve(r)})})}const kE={name:"UserSelection",compatConfig:{MODE:3}},CE=Ae({...kE,props:{userSelectionRect:{}},setup(e){return(t,n)=>(ue(),he("div",{class:"vue-flow__selection vue-flow__container",style:gt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),TE=["tabIndex"],PE={name:"NodesSelection",compatConfig:{MODE:3}},OE=Ae({...PE,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:s,userSelectionActive:i}=je(),a=Jf(),l=ve(null),u=Kf({el:l,onStart(y){t.selectionDragStart(y),t.nodeDragStart(y)},onDrag(y){t.selectionDrag(y),t.nodeDrag(y)},onStop(y){t.selectionDragStop(y),t.nodeDragStop(y)}});ft(()=>{var y;s.value||(y=l.value)==null||y.focus({preventScroll:!0})});const c=ce(()=>Lf(o.value)),d=ce(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(y){t.selectionContextMenu({event:y,nodes:o.value})}function h(y){s||vo[y.key]&&(y.preventDefault(),a({x:vo[y.key].x,y:vo[y.key].y},y.shiftKey))}return(y,b)=>!ne(i)&&c.value.width&&c.value.height?(ue(),he("div",{key:0,class:Bt(["vue-flow__nodesselection vue-flow__container",ne(r)]),style:gt({transform:`translate(${ne(n).x}px,${ne(n).y}px) scale(${ne(n).zoom})`})},[we("div",{ref_key:"el",ref:l,class:Bt([{dragging:ne(u)},"vue-flow__nodesselection-rect"]),style:gt(d.value),tabIndex:ne(s)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,TE)],6)):at("",!0)}});function AE(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const NE={name:"Pane",compatConfig:{MODE:3}},$E=Ae({...NE,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:s,removeSelectedElements:i,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:y,deleteKeyCode:b,multiSelectionKeyCode:w,multiSelectionActive:k,edgeLookup:T,nodeLookup:S,connectionLookup:C,defaultEdgeOptions:L,connectionStartHandle:U}=je(),V=ve(null),X=ve(new Set),ae=ve(new Set),oe=ve(),q=De(()=>l.value&&(e.isSelecting||s.value)),R=De(()=>U.value!==null);let ee=!1,O=!1;const H=Zo(b,{actInsideInputWithModifier:!1}),$=Zo(w);be(H,Z=>{Z&&(f(d.value),h(c.value),u.value=!1)}),be($,Z=>{k.value=Z});function B(Z,re){return Q=>{Q.target===re&&Z?.(Q)}}function F(Z){if(ee||R.value){ee=!1;return}r.paneClick(Z),i(),u.value=!1}function J(Z){Z.preventDefault(),Z.stopPropagation(),r.paneContextMenu(Z)}function Y(Z){r.paneScroll(Z)}function te(Z){var re,Q,E;if(oe.value=(re=t.value)==null?void 0:re.getBoundingClientRect(),!l.value||!e.isSelecting||Z.button!==0||Z.target!==V.value||!oe.value)return;(E=(Q=Z.target)==null?void 0:Q.setPointerCapture)==null||E.call(Q,Z.pointerId);const{x:P,y:A}=AE(Z,oe.value);O=!0,ee=!1,i(),a.value={width:0,height:0,startX:P,startY:A,x:P,y:A},r.selectionStart(Z)}function le(Z){var re;if(!oe.value||!a.value)return;ee=!0;const{x:Q,y:E}=jt(Z,oe.value),{startX:P=0,startY:A=0}=a.value,I={startX:P,startY:A,x:Q<P?Q:P,y:E<A?E:A,width:Math.abs(Q-P),height:Math.abs(E-A)},D=X.value,m=ae.value;X.value=new Set(zf(n.value,I,o.value,y.value===qa.Partial,!0).map(p=>p.id)),ae.value=new Set;const _=((re=L.value)==null?void 0:re.selectable)??!0;for(const p of X.value){const v=C.value.get(p);if(v)for(const{edgeId:g}of v.values()){const x=T.value.get(g);x&&(x.selectable??_)&&ae.value.add(g)}}if(!nc(D,X.value)){const p=gn(S.value,X.value,!0);r.nodesChange(p)}if(!nc(m,ae.value)){const p=gn(T.value,ae.value);r.edgesChange(p)}a.value=I,s.value=!0,u.value=!1}function fe(Z){var re;Z.button!==0||!O||((re=Z.target)==null||re.releasePointerCapture(Z.pointerId),!s.value&&a.value&&Z.target===V.value&&F(Z),s.value=!1,a.value=null,u.value=X.value.size>0,r.selectionEnd(Z),e.selectionKeyPressed&&(ee=!1),O=!1)}return(Z,re)=>(ue(),he("div",{ref_key:"container",ref:V,class:Bt(["vue-flow__pane vue-flow__container",{selection:Z.isSelecting}]),onClick:re[0]||(re[0]=Q=>q.value?void 0:B(F,V.value)(Q)),onContextmenu:re[1]||(re[1]=Q=>B(J,V.value)(Q)),onWheelPassive:re[2]||(re[2]=Q=>B(Y,V.value)(Q)),onPointerenter:re[3]||(re[3]=Q=>q.value?void 0:ne(r).paneMouseEnter(Q)),onPointerdown:re[4]||(re[4]=Q=>q.value?te(Q):ne(r).paneMouseMove(Q)),onPointermove:re[5]||(re[5]=Q=>q.value?le(Q):ne(r).paneMouseMove(Q)),onPointerup:re[6]||(re[6]=Q=>q.value?fe(Q):void 0),onPointerleave:re[7]||(re[7]=Q=>ne(r).paneMouseLeave(Q))},[xt(Z.$slots,"default"),ne(s)&&ne(a)?(ue(),it(CE,{key:0,"user-selection-rect":ne(a)},null,8,["user-selection-rect"])):at("",!0),ne(u)&&ne(d).length?(ue(),it(OE,{key:1})):at("",!0)],34))}}),IE={name:"Transform",compatConfig:{MODE:3}},RE=Ae({...IE,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=je(),r=ce(()=>n.value?!o.value:!1),s=ce(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,a)=>(ue(),he("div",{class:"vue-flow__transformationpane vue-flow__container",style:gt({transform:s.value,opacity:r.value?0:void 0})},[xt(i.$slots,"default")],4))}}),ME={name:"Viewport",compatConfig:{MODE:3}},DE=Ae({...ME,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:s,selectionKeyCode:i,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:y,preventScrolling:b,noWheelClassName:w,noPanClassName:k,emits:T,connectionStartHandle:S,userSelectionActive:C,paneDragging:L,d3Zoom:U,d3Selection:V,d3ZoomHandler:X,viewport:ae,viewportRef:oe,paneClickDistance:q}=je();xE(oe);const R=tr(!1),ee=tr(!1);let O=null,H=!1,$=0,B={x:0,y:0,zoom:0};const F=Zo(a),J=Zo(i),Y=Zo(s),te=De(()=>(!J.value||J.value&&i.value===!0)&&(F.value||d.value)),le=De(()=>F.value||l.value),fe=De(()=>J.value||i.value===!0&&te.value!==!0);ft(()=>{if(!oe.value){Bs("Viewport element is missing");return}const P=oe.value,A=P.getBoundingClientRect(),I=eS().clickDistance(q.value).scaleExtent([t.value,n.value]).translateExtent(r.value),D=bt(P).call(I),m=D.on("wheel.zoom"),_=ko.translate(o.value.x??0,o.value.y??0).scale(Bn(o.value.zoom??1,t.value,n.value)),p=[[0,0],[A.width,A.height]],v=I.constrain()(_,p,r.value);I.transform(D,v),I.wheelDelta(Vu),U.value=I,V.value=D,X.value=m,ae.value={x:v.x,y:v.y,zoom:v.k},I.on("start",g=>{var x;if(!g.sourceEvent)return null;$=g.sourceEvent.button,R.value=!0;const N=Q(g.transform);((x=g.sourceEvent)==null?void 0:x.type)==="mousedown"&&(L.value=!0),B=N,T.viewportChangeStart(N),T.moveStart({event:g,flowTransform:N})}),I.on("end",g=>{if(!g.sourceEvent)return null;if(R.value=!1,L.value=!1,Z(te.value,$??0)&&!H&&T.paneContextMenu(g.sourceEvent),H=!1,re(B,g.transform)){const x=Q(g.transform);B=x,T.viewportChangeEnd(x),T.moveEnd({event:g,flowTransform:x})}}),I.filter(g=>{var x;const N=Y.value||y.value,z=h.value&&g.ctrlKey,M=g.button;if(M===1&&g.type==="mousedown"&&(E(g,"vue-flow__node")||E(g,"vue-flow__edge")))return!0;if(!te.value&&!N&&!le.value&&!f.value&&!h.value||C.value||!f.value&&g.type==="dblclick"||E(g,w.value)&&g.type==="wheel"||E(g,k.value)&&(g.type!=="wheel"||le.value&&g.type==="wheel"&&!Y.value)||!h.value&&g.ctrlKey&&g.type==="wheel"||!N&&!le.value&&!z&&g.type==="wheel")return!1;if(!h&&g.type==="touchstart"&&((x=g.touches)==null?void 0:x.length)>1)return g.preventDefault(),!1;if(!te.value&&(g.type==="mousedown"||g.type==="touchstart")||i.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&M===0||Array.isArray(d.value)&&!d.value.includes(M)&&(g.type==="mousedown"||g.type==="touchstart"))return!1;const j=Array.isArray(d.value)&&d.value.includes(M)||i.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!M||M<=1;return(!g.ctrlKey||F.value||g.type==="wheel")&&j}),be([C,te],()=>{C.value&&!R.value?I.on("zoom",null):C.value||I.on("zoom",g=>{ae.value={x:g.transform.x,y:g.transform.y,zoom:g.transform.k};const x=Q(g.transform);H=Z(te.value,$??0),T.viewportChange(x),T.move({event:g,flowTransform:x})})},{immediate:!0}),be([C,le,u,Y,h,b,w],()=>{le.value&&!Y.value&&!C.value?D.on("wheel.zoom",g=>{if(E(g,w.value))return!1;const x=Y.value||y.value,N=h.value&&g.ctrlKey;if(!(!b.value||le.value||x||N))return!1;g.preventDefault(),g.stopImmediatePropagation();const M=D.property("__zoom").k||1,j=vs();if(!F.value&&g.ctrlKey&&h.value&&j){const ye=Rt(g),ke=Vu(g),Ce=M*2**ke;I.scaleTo(D,Ce,ye,g);return}const G=g.deltaMode===1?20:1;let W=u.value===Jo.Vertical?0:g.deltaX*G,K=u.value===Jo.Horizontal?0:g.deltaY*G;!j&&g.shiftKey&&u.value!==Jo.Vertical&&!W&&K&&(W=K,K=0),I.translateBy(D,-(W/M)*c.value,-(K/M)*c.value);const se=Q(D.property("__zoom"));O&&clearTimeout(O),ee.value?(T.move({event:g,flowTransform:se}),T.viewportChange(se),O=setTimeout(()=>{T.moveEnd({event:g,flowTransform:se}),T.viewportChangeEnd(se),ee.value=!1},150)):(ee.value=!0,T.moveStart({event:g,flowTransform:se}),T.viewportChangeStart(se))},{passive:!1}):typeof m<"u"&&D.on("wheel.zoom",function(g,x){const N=!b.value&&g.type==="wheel"&&!g.ctrlKey,z=Y.value||y.value,M=h.value&&g.ctrlKey;if(!z&&!l.value&&!M&&g.type==="wheel"||N||E(g,w.value))return null;g.preventDefault(),m.call(this,g,x)},{passive:!1})},{immediate:!0})});function Z(P,A){return A===2&&Array.isArray(P)&&P.includes(2)}function re(P,A){return P.x!==A.x&&!Number.isNaN(A.x)||P.y!==A.y&&!Number.isNaN(A.y)||P.zoom!==A.k&&!Number.isNaN(A.k)}function Q(P){return{x:P.x,y:P.y,zoom:P.k}}function E(P,A){return P.target.closest(`.${A}`)}return(P,A)=>(ue(),he("div",{ref_key:"viewportRef",ref:oe,class:"vue-flow__viewport vue-flow__container"},[Ee($E,{"is-selecting":fe.value,"selection-key-pressed":ne(J),class:Bt({connecting:!!ne(S),dragging:ne(L),draggable:ne(d)===!0||Array.isArray(ne(d))&&ne(d).includes(0)})},{default:ct(()=>[Ee(RE,null,{default:ct(()=>[xt(P.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),jE=["id"],LE=["id"],zE=["id"],BE={name:"A11yDescriptions",compatConfig:{MODE:3}},UE=Ae({...BE,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=je();return(r,s)=>(ue(),he(Me,null,[we("div",{id:`${ne(Af)}-${ne(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ue(ne(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,jE),we("div",{id:`${ne(Nf)}-${ne(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,LE),ne(n)?at("",!0):(ue(),he("div",{key:0,id:`${ne(iS)}-${ne(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ue(ne(o)),9,zE))],64))}});function FE(){const e=je();be(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function VE(e,t,n){return n===de.Left?e-t:n===de.Right?e+t:e}function HE(e,t,n){return n===de.Top?e-t:n===de.Bottom?e+t:e}const Xa=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=de.Top,type:r}){return xe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:VE(t,e,o),cy:HE(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Xa.props=["radius","centerX","centerY","position","type"];Xa.compatConfig={MODE:3};const lc=Xa,WE=Ae({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:i,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:y,elementsSelectable:b,edgesUpdatable:w,edgesFocusable:k,hooks:T}=je(),S=ce(()=>c(e.id)),{emit:C,on:L}=DS(S.value,s),U=Le(Us),V=wn(),X=ve(!1),ae=ve(!1),oe=ve(""),q=ve(null),R=ve("source"),ee=ve(null),O=De(()=>typeof S.value.selectable>"u"?b.value:S.value.selectable),H=De(()=>typeof S.value.updatable>"u"?w.value:S.value.updatable),$=De(()=>typeof S.value.focusable>"u"?k.value:S.value.focusable);Ke(IS,e.id),Ke(RS,ee);const B=ce(()=>S.value.class instanceof Function?S.value.class(S.value):S.value.class),F=ce(()=>S.value.style instanceof Function?S.value.style(S.value):S.value.style),J=ce(()=>{const v=S.value.type||"default",g=U?.[`edge-${v}`];if(g)return g;let x=S.value.template??l.value[v];if(typeof x=="string"&&V){const N=Object.keys(V.appContext.components);N&&N.includes(v)&&(x=Ta(v,!1))}return x&&typeof x!="string"?x:(s.error(new Ge(Ve.EDGE_TYPE_MISSING,x)),!1)}),{handlePointerDown:Y}=Yf({nodeId:oe,handleId:q,type:R,isValidConnection:f,edgeUpdaterType:R,onEdgeUpdate:fe,onEdgeUpdateEnd:Z});return()=>{const v=d(S.value.source),g=d(S.value.target),x="pathOptions"in S.value?S.value.pathOptions:{};if(!v&&!g)return s.error(new Ge(Ve.EDGE_SOURCE_TARGET_MISSING,S.value.id,S.value.source,S.value.target)),null;if(!v)return s.error(new Ge(Ve.EDGE_SOURCE_MISSING,S.value.id,S.value.source)),null;if(!g)return s.error(new Ge(Ve.EDGE_TARGET_MISSING,S.value.id,S.value.target)),null;if(!S.value||S.value.hidden||v.hidden||g.hidden)return null;let N;o.value===yn.Strict?N=v.handleBounds.source:N=[...v.handleBounds.source||[],...v.handleBounds.target||[]];const z=Xu(N,S.value.sourceHandle);let M;o.value===yn.Strict?M=g.handleBounds.target:M=[...g.handleBounds.target||[],...g.handleBounds.source||[]];const j=Xu(M,S.value.targetHandle),G=z?.position||de.Bottom,W=j?.position||de.Top,{x:K,y:se}=Co(v,z,G),{x:ye,y:ke}=Co(g,j,W);return S.value.sourceX=K,S.value.sourceY=se,S.value.targetX=ye,S.value.targetY=ke,xe("g",{ref:ee,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${J.value===!1?"default":S.value.type||"default"}`,a.value,B.value,{updating:X.value,selected:S.value.selected,animated:S.value.animated,inactive:!O.value&&!T.value.edgeClick.hasListeners()}],tabIndex:$.value?0:void 0,"aria-label":S.value.ariaLabel===null?void 0:S.value.ariaLabel??`Edge from ${S.value.source} to ${S.value.target}`,"aria-describedby":$.value?`${Nf}-${t}`:void 0,"aria-roledescription":"edge",role:$.value?"group":"img",...S.value.domAttributes,onClick:Q,onContextmenu:E,onDblclick:P,onMouseenter:A,onMousemove:I,onMouseleave:D,onKeyDown:$.value?p:void 0},[ae.value?null:xe(J.value===!1?l.value.default:J.value,{id:e.id,sourceNode:v,targetNode:g,source:S.value.source,target:S.value.target,type:S.value.type,updatable:H.value,selected:S.value.selected,animated:S.value.animated,label:S.value.label,labelStyle:S.value.labelStyle,labelShowBg:S.value.labelShowBg,labelBgStyle:S.value.labelBgStyle,labelBgPadding:S.value.labelBgPadding,labelBgBorderRadius:S.value.labelBgBorderRadius,data:S.value.data,events:{...S.value.events,...L},style:F.value,markerStart:`url('#${hr(S.value.markerStart,t)}')`,markerEnd:`url('#${hr(S.value.markerEnd,t)}')`,sourcePosition:G,targetPosition:W,sourceX:K,sourceY:se,targetX:ye,targetY:ke,sourceHandleId:S.value.sourceHandle,targetHandleId:S.value.targetHandle,interactionWidth:S.value.interactionWidth,...x}),[H.value==="source"||H.value===!0?[xe("g",{onMousedown:m,onMouseenter:te,onMouseout:le},xe(lc,{position:G,centerX:K,centerY:se,radius:r.value,type:"source","data-type":"source"}))]:null,H.value==="target"||H.value===!0?[xe("g",{onMousedown:_,onMouseenter:te,onMouseout:le},xe(lc,{position:W,centerX:ye,centerY:ke,radius:r.value,type:"target","data-type":"target"}))]:null]])};function te(){X.value=!0}function le(){X.value=!1}function fe(v,g){C.update({event:v,edge:S.value,connection:g})}function Z(v){C.updateEnd({event:v,edge:S.value}),ae.value=!1}function re(v,g){v.button===0&&(ae.value=!0,oe.value=g?S.value.target:S.value.source,q.value=(g?S.value.targetHandle:S.value.sourceHandle)??null,R.value=g?"target":"source",C.updateStart({event:v,edge:S.value}),Y(v))}function Q(v){var g;const x={event:v,edge:S.value};O.value&&(i.value=!1,S.value.selected&&h.value?(u([S.value]),(g=ee.value)==null||g.blur()):n([S.value])),C.click(x)}function E(v){C.contextMenu({event:v,edge:S.value})}function P(v){C.doubleClick({event:v,edge:S.value})}function A(v){C.mouseEnter({event:v,edge:S.value})}function I(v){C.mouseMove({event:v,edge:S.value})}function D(v){C.mouseLeave({event:v,edge:S.value})}function m(v){re(v,!0)}function _(v){re(v,!1)}function p(v){var g;!y.value&&$f.includes(v.key)&&O.value&&(v.key==="Escape"?((g=ee.value)==null||g.blur(),u([c(e.id)])):n([c(e.id)]))}}}),GE=WE,qE=Ae({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:s,connectionLineType:i,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:d}=je(),f=(e=Le(Us))==null?void 0:e["connection-line"],h=ce(()=>{var T;return d((T=o.value)==null?void 0:T.nodeId)}),y=ce(()=>{var T;return d((T=r.value)==null?void 0:T.nodeId)??null}),b=ce(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),w=ce(()=>l.value.markerStart?`url(#${hr(l.value.markerStart,t)})`:""),k=ce(()=>l.value.markerEnd?`url(#${hr(l.value.markerEnd,t)})`:"");return()=>{var T,S,C;if(!h.value||!o.value)return null;const L=o.value.id,U=o.value.type,V=h.value.handleBounds;let X=V?.[U]??[];if(n.value===yn.Loose){const F=V?.[U==="source"?"target":"source"]??[];X=[...X,...F]}if(!X)return null;const ae=(L?X.find(F=>F.id===L):X[0])??null,oe=ae?.position??de.Top,{x:q,y:R}=Co(h.value,ae,oe);let ee=null;y.value&&(n.value===yn.Strict?ee=((T=y.value.handleBounds[U==="source"?"target":"source"])==null?void 0:T.find(F=>{var J;return F.id===((J=r.value)==null?void 0:J.id)}))||null:ee=((S=[...y.value.handleBounds.source??[],...y.value.handleBounds.target??[]])==null?void 0:S.find(F=>{var J;return F.id===((J=r.value)==null?void 0:J.id)}))||null);const O=((C=r.value)==null?void 0:C.position)??(oe?ua[oe]:null);if(!oe||!O)return null;const H=i.value??l.value.type??An.Bezier;let $="";const B={sourceX:q,sourceY:R,sourcePosition:oe,targetX:b.value.x,targetY:b.value.y,targetPosition:O};return H===An.Bezier?[$]=th(B):H===An.Step?[$]=da({...B,borderRadius:0}):H===An.SmoothStep?[$]=da(B):H===An.SimpleBezier?[$]=nh(B):$=`M${q},${R} ${b.value.x},${b.value.y}`,xe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},xe("g",{class:"vue-flow__connection"},f?xe(f,{sourceX:q,sourceY:R,sourcePosition:oe,targetX:b.value.x,targetY:b.value.y,targetPosition:O,sourceNode:h.value,sourceHandle:ae,targetNode:y.value,targetHandle:ee,markerEnd:k.value,markerStart:w.value,connectionStatus:u.value}):xe("path",{d:$,class:[l.value.class,u,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":k.value,"marker-start":w.value})))}}}),KE=qE,YE=["id","markerWidth","markerHeight","markerUnits","orient"],XE={name:"MarkerType",compatConfig:{MODE:3}},JE=Ae({...XE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(ue(),he("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ne(ia).ArrowClosed?(ue(),he("polyline",{key:0,style:gt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):at("",!0),t.type===ne(ia).Arrow?(ue(),he("polyline",{key:1,style:gt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):at("",!0)],8,YE))}}),ZE={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},QE={name:"MarkerDefinitions",compatConfig:{MODE:3}},ex=Ae({...QE,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=je(),s=ce(()=>{const i=new Set,a=[],l=u=>{if(u){const c=hr(u,t);i.has(c)||(typeof u=="object"?a.push({...u,id:c,color:u.color||r.value}):a.push({id:c,color:r.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return a.sort((u,c)=>u.id.localeCompare(c.id))});return(i,a)=>(ue(),he("svg",ZE,[we("defs",null,[(ue(!0),he(Me,null,mo(s.value,l=>(ue(),it(JE,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),tx={name:"Edges",compatConfig:{MODE:3}},nx=Ae({...tx,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=je();return(r,s)=>(ue(),he(Me,null,[Ee(ex),(ue(!0),he(Me,null,mo(ne(n),i=>(ue(),he("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:gt({zIndex:ne(wS)(i,ne(t),ne(o))})},[Ee(ne(GE),{id:i.id},null,8,["id"])],4))),128)),Ee(ne(KE))],64))}}),ox=Ae({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:s,emits:i,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:y,ariaLiveMessage:b,snapToGrid:w,snapGrid:k,nodeDragThreshold:T,nodesDraggable:S,elementsSelectable:C,nodesConnectable:L,nodesFocusable:U,hooks:V}=je(),X=ve(null);Ke(qf,X),Ke(Gf,e.id);const ae=Le(Us),oe=wn(),q=Jf(),{node:R,parentNode:ee}=Xf(e.id),{emit:O,on:H}=BS(R,i),$=De(()=>typeof R.draggable>"u"?S.value:R.draggable),B=De(()=>typeof R.selectable>"u"?C.value:R.selectable),F=De(()=>typeof R.connectable>"u"?L.value:R.connectable),J=De(()=>typeof R.focusable>"u"?U.value:R.focusable),Y=ce(()=>B.value||$.value||V.value.nodeClick.hasListeners()||V.value.nodeDoubleClick.hasListeners()||V.value.nodeMouseEnter.hasListeners()||V.value.nodeMouseMove.hasListeners()||V.value.nodeMouseLeave.hasListeners()),te=De(()=>!!R.dimensions.width&&!!R.dimensions.height),le=ce(()=>{const g=R.type||"default",x=ae?.[`node-${g}`];if(x)return x;let N=R.template||d.value[g];if(typeof N=="string"&&oe){const z=Object.keys(oe.appContext.components);z&&z.includes(g)&&(N=Ta(g,!1))}return N&&typeof N!="string"?N:(i.error(new Ge(Ve.NODE_TYPE_MISSING,N)),!1)}),fe=Kf({id:e.id,el:X,disabled:()=>!$.value,selectable:B,dragHandle:()=>R.dragHandle,onStart(g){O.dragStart(g)},onDrag(g){O.drag(g)},onStop(g){O.dragStop(g)},onClick(g){p(g)}}),Z=ce(()=>R.class instanceof Function?R.class(R):R.class),re=ce(()=>{const g=(R.style instanceof Function?R.style(R):R.style)||{},x=R.width instanceof Function?R.width(R):R.width,N=R.height instanceof Function?R.height(R):R.height;return!g.width&&x&&(g.width=typeof x=="string"?x:`${x}px`),!g.height&&N&&(g.height=typeof N=="string"?N:`${N}px`),g}),Q=De(()=>Number(R.zIndex??re.value.zIndex??0));return c(g=>{(g.includes(e.id)||!g.length)&&P()}),ft(()=>{be(()=>R.hidden,(g=!1,x,N)=>{!g&&X.value&&(e.resizeObserver.observe(X.value),N(()=>{X.value&&e.resizeObserver.unobserve(X.value)}))},{immediate:!0,flush:"post"})}),be([()=>R.type,()=>R.sourcePosition,()=>R.targetPosition],()=>{st(()=>{u([{id:e.id,nodeElement:X.value,forceUpdate:!0}])})}),be([()=>R.position.x,()=>R.position.y,()=>{var g;return(g=ee.value)==null?void 0:g.computedPosition.x},()=>{var g;return(g=ee.value)==null?void 0:g.computedPosition.y},()=>{var g;return(g=ee.value)==null?void 0:g.computedPosition.z},Q,()=>R.selected,()=>R.dimensions.height,()=>R.dimensions.width,()=>{var g;return(g=ee.value)==null?void 0:g.dimensions.height},()=>{var g;return(g=ee.value)==null?void 0:g.dimensions.width}],([g,x,N,z,M,j])=>{const G={x:g,y:x,z:j+(h.value&&R.selected?1e3:0)};typeof N<"u"&&typeof z<"u"?R.computedPosition=pS({x:N,y:z,z:M},G):R.computedPosition=G},{flush:"post",immediate:!0}),be([()=>R.extent,f],([g,x],[N,z])=>{(g!==N||x!==z)&&E()}),R.extent==="parent"||typeof R.extent=="object"&&"range"in R.extent&&R.extent.range==="parent"?Ji(()=>te).toBe(!0).then(E):E(),()=>R.hidden?null:xe("div",{ref:X,"data-id":R.id,class:["vue-flow__node",`vue-flow__node-${le.value===!1?"default":R.type||"default"}`,{[n.value]:$.value,dragging:fe?.value,draggable:$.value,selected:R.selected,selectable:B.value,parent:R.isParent},Z.value],style:{visibility:te.value?"visible":"hidden",zIndex:R.computedPosition.z??Q.value,transform:`translate(${R.computedPosition.x}px,${R.computedPosition.y}px)`,pointerEvents:Y.value?"all":"none",...re.value},tabIndex:J.value?0:void 0,role:J.value?"group":void 0,"aria-describedby":y.value?void 0:`${Af}-${t}`,"aria-label":R.ariaLabel,"aria-roledescription":"node",...R.domAttributes,onMouseenter:A,onMousemove:I,onMouseleave:D,onContextmenu:m,onClick:p,onDblclick:_,onKeydown:v},[xe(le.value===!1?d.value.default:le.value,{id:R.id,type:R.type,data:R.data,events:{...R.events,...H},selected:R.selected,resizing:R.resizing,dragging:fe.value,connectable:F.value,position:R.computedPosition,dimensions:R.dimensions,isValidTargetPos:R.isValidTargetPos,isValidSourcePos:R.isValidSourcePos,parent:R.parentNode,parentNodeId:R.parentNode,zIndex:R.computedPosition.z??Q.value,targetPosition:R.targetPosition,sourcePosition:R.sourcePosition,label:R.label,dragHandle:R.dragHandle,onUpdateNodeInternals:P})]);function E(){const g=R.computedPosition,{computedPosition:x,position:N}=Ka(R,w.value?zs(g,k.value):g,i.error,f.value,ee.value);(R.computedPosition.x!==x.x||R.computedPosition.y!==x.y)&&(R.computedPosition={...R.computedPosition,...x}),(R.position.x!==N.x||R.position.y!==N.y)&&(R.position=N)}function P(){X.value&&u([{id:e.id,nodeElement:X.value,forceUpdate:!0}])}function A(g){fe?.value||O.mouseEnter({event:g,node:R})}function I(g){fe?.value||O.mouseMove({event:g,node:R})}function D(g){fe?.value||O.mouseLeave({event:g,node:R})}function m(g){return O.contextMenu({event:g,node:R})}function _(g){return O.doubleClick({event:g,node:R})}function p(g){B.value&&(!o.value||!$.value||T.value>0)&&ca(R,s.value,l,a,r,!1,X.value),O.click({event:g,node:R})}function v(g){if(!(aa(g)||y.value))if($f.includes(g.key)&&B.value){const x=g.key==="Escape";ca(R,s.value,l,a,r,x,X.value)}else $.value&&R.selected&&vo[g.key]&&(g.preventDefault(),b.value=`Moved selected node ${g.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~R.position.x}, y: ${~~R.position.y}`,q({x:vo[g.key].x,y:vo[g.key].y},g.shiftKey))}}}),rx=ox;function sx(e={includeHiddenNodes:!1}){const{nodes:t}=je();return ce(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const ix={class:"vue-flow__nodes vue-flow__container"},ax={name:"Nodes",compatConfig:{MODE:3}},lx=Ae({...ax,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=je(),r=sx(),s=ve();return be(r,i=>{i&&st(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),ft(()=>{s.value=new ResizeObserver(i=>{const a=i.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));st(()=>n(a))})}),vr(()=>{var i;return(i=s.value)==null?void 0:i.disconnect()}),(i,a)=>(ue(),he("div",ix,[s.value?(ue(!0),he(Me,{key:0},mo(ne(t),(l,u,c,d)=>{const f=[l.id];if(d&&d.key===l.id&&Yp(d,f))return d;const h=(ue(),it(ne(rx),{id:l.id,key:l.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return h.memo=f,h},a,0),128)):at("",!0)]))}});function ux(){const{emits:e}=je();ft(()=>{if(Wf()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ge(Ve.MISSING_STYLES))}})}const cx=we("div",{class:"vue-flow__edge-labels"},null,-1),dx={name:"VueFlow",compatConfig:{MODE:3}},fx=Ae({...dx,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=Jc(),s=pi(o,"modelValue",n),i=pi(o,"nodes",n),a=pi(o,"edges",n),l=je(o),u=HS({modelValue:s,nodes:i,edges:a},o,l);return GS(n,l.hooks),FE(),ux(),Ke(Us,r),mr(()=>{u()}),t(l),(c,d)=>(ue(),he("div",{ref:ne(l).vueFlowRef,class:"vue-flow"},[Ee(DE,null,{default:ct(()=>[Ee(nx),cx,Ee(lx),xt(c.$slots,"zoom-pane")]),_:3}),xt(c.$slots,"default"),Ee(UE)],512))}});var Qt=(e=>(e.Lines="lines",e.Dots="dots",e))(Qt||{});const rh=function({dimensions:e,size:t,color:n}){return xe("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},sh=function({radius:e,color:t}){return xe("circle",{cx:e,cy:e,r:e,fill:t})};Qt.Lines+"",Qt.Dots+"";const hx={[Qt.Dots]:"#81818a",[Qt.Lines]:"#eee"},px=["id","x","y","width","height","patternTransform"],gx={key:2,height:"100",width:"100"},vx=["fill"],mx=["x","y","fill"],yx={name:"Background",compatConfig:{MODE:3}},_x=Ae({...yx,props:{id:{},variant:{default:()=>Qt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=je(),o=ce(()=>{const i=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[a*i||1,l*i||1],c=e.size*i,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*i||1+u[0]/2,f*i||1+u[1]/2];return{scaledGap:u,offset:h,size:c}}),r=De(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=De(()=>e.color||e.patternColor||hx[e.variant||Qt.Dots]);return(i,a)=>(ue(),he("svg",{class:"vue-flow__background vue-flow__container",style:gt({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[xt(i.$slots,"pattern-container",{id:r.value},()=>[we("pattern",{id:r.value,x:ne(n).x%o.value.scaledGap[0],y:ne(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[xt(i.$slots,"pattern",{},()=>[i.variant===ne(Qt).Lines?(ue(),it(ne(rh),{key:0,size:i.lineWidth,color:s.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===ne(Qt).Dots?(ue(),it(ne(sh),{key:1,color:s.value,radius:o.value.size/2},null,8,["color","radius"])):at("",!0),i.bgColor?(ue(),he("svg",gx,[we("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,vx)])):at("",!0)])],8,px)]),we("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,mx),xt(i.$slots,"default",{id:r.value})],4))}}),wx={class:"diagram-container"},bx={key:0,class:"no-data"},Sx={key:1,class:"execution-info"},Ex={class:"connection-status"},xx=Ae({__name:"DiagramComponent",setup(e){const t=ve([]),n=ve(null),o=ve(!1);let r=null;const s=u=>{const c=[],d=[];u.steps.forEach((f,h)=>{const y=250+(h-u.steps.length/2)*200,b=100+h*100;c.push({id:f.id,type:"default",position:{x:y,y:b},data:{label:`${f.id}
(${f.kind})`,step:f}})}),u.steps.length>0&&(c.push({id:"inputs",type:"input",position:{x:50,y:200},data:{label:"Inputs"}}),c.push({id:"outputs",type:"output",position:{x:450+u.steps.length*100,y:200},data:{label:"Outputs"}})),u.wires.forEach((f,h)=>{f.from.step&&f.to.step?d.push({id:`edge-${h}`,source:f.from.step,target:f.to.step,type:"smoothstep"}):f.from.source==="inputs"&&f.to.step&&d.push({id:`input-${h}`,source:"inputs",target:f.to.step,type:"smoothstep"})});for(let f=0;f<u.manifest.execution_order.length-1;f++){const h=u.manifest.execution_order[f],y=u.manifest.execution_order[f+1];d.some(b=>b.source===h&&b.target===y)||d.push({id:`exec-${f}`,source:h,target:y,type:"smoothstep"})}t.value=[...c,...d]},i=()=>{const c=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;r=new WebSocket(c),r.onopen=()=>{console.log("WebSocket connected"),o.value=!0},r.onmessage=d=>{try{const f=JSON.parse(d.data);console.log("WebSocket message received:",f),f.type==="execution_plan"&&(n.value=f,s(f))}catch(f){console.error("Error parsing WebSocket message:",f)}},r.onclose=()=>{console.log("WebSocket disconnected"),o.value=!1,setTimeout(i,3e3)},r.onerror=d=>{console.error("WebSocket error:",d),o.value=!1}},a=u=>{console.log("Node clicked:",u.node),u.node.data.step&&console.log("Step details:",u.node.data.step)},l=u=>{console.log("Edge clicked:",u.edge)};return ft(()=>{i()}),mr(()=>{r&&r.close()}),(u,c)=>(ue(),he("div",wx,[n.value?(ue(),he("div",Sx,[we("h3",null,Ue(n.value.manifest.name)+" (v"+Ue(n.value.manifest.version)+")",1),we("p",null,"Steps: "+Ue(n.value.manifest.steps)+" | Execution Order: "+Ue(n.value.manifest.execution_order.join("  ")),1)])):(ue(),he("div",bx,[...c[1]||(c[1]=[we("p",null,"No execution plan available. Run a composite action to see the diagram.",-1)])])),n.value?(ue(),it(ne(fx),{key:2,modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=d=>t.value=d),"default-viewport":{zoom:1.5},"min-zoom":.2,"max-zoom":4,class:"vue-flow-diagram",onNodeClick:a,onEdgeClick:l},{default:ct(()=>[Ee(ne(_x),{"pattern-color":"#aaa",gap:8})]),_:1},8,["modelValue"])):at("",!0),we("div",Ex,[we("span",{class:Bt(["status-indicator",{connected:o.value}])},Ue(o.value?" Connected":" Disconnected"),3)])]))}}),kx=_r(xx,[["__scopeId","data-v-96853189"]]),Cx={class:"logs-container"},Tx={class:"logs-content"},Px={class:"log-timestamp"},Ox={class:"log-type"},Ax={class:"log-message"},Nx={key:0,class:"no-logs"},$x=Ae({__name:"LogsComponent",setup(e){const t=ve(!1),n=ve([]),o=ve(""),r=ve(null),s=ve();ce(()=>t.value?"Connected":"Disconnected");const i=ce(()=>o.value?n.value.filter(d=>d.message.toLowerCase().includes(o.value.toLowerCase())||d.type.toLowerCase().includes(o.value.toLowerCase())):n.value),a=()=>{try{r.value=new WebSocket("ws://localhost:3000"),r.value.onopen=()=>{t.value=!0,u("info","Connected to WebSocket server")},r.value.onmessage=d=>{try{const f=JSON.parse(d.data);u(f.type||"info",f.message||"Unknown message")}catch{u("error",`Failed to parse message: ${d.data}`)}},r.value.onclose=()=>{t.value=!1,u("warning","WebSocket connection closed")},r.value.onerror=d=>{t.value=!1,u("error",`WebSocket error: ${d}`)}}catch(d){u("error",`Failed to connect: ${d}`)}},l=()=>{r.value&&(r.value.close(),r.value=null,t.value=!1)},u=(d,f)=>{const h={type:d,message:f,timestamp:new Date().toISOString()};n.value.push(h),n.value.length>1e3&&(n.value=n.value.slice(-1e3)),st(()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)})},c=d=>new Date(d).toLocaleTimeString();return ft(()=>{a()}),mr(()=>{l()}),(d,f)=>(ue(),he("div",Cx,[we("div",Tx,[we("div",{class:"logs-display",ref_key:"logsDisplay",ref:s},[(ue(!0),he(Me,null,mo(i.value,(h,y)=>(ue(),he("div",{key:y,class:Bt(["log-entry",`log-${h.type}`])},[we("span",Px,Ue(c(h.timestamp)),1),we("span",Ox,Ue(h.type.toUpperCase()),1),we("span",Ax,Ue(h.message),1)],2))),128)),i.value.length===0?(ue(),he("div",Nx," No logs to display ")):at("",!0)],512)])]))}}),Ix=_r($x,[["__scopeId","data-v-fe2d1890"]]),Rx={class:"panel inputs"},Mx={class:"panel"},Dx={class:"panel logs"},jx=Ae({__name:"HomeView",setup(e){return(t,n)=>(ue(),it(ne(ii),{class:"main-body",horizontal:""},{default:ct(()=>[Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[Ee(ne(ii),null,{default:ct(()=>[Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[we("div",Rx,[Ee(a_)])]),_:1}),Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[we("div",Mx,[Ee(kx)])]),_:1})]),_:1})]),_:1}),Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[Ee(ne(ii),null,{default:ct(()=>[Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[we("div",Dx,[Ee(Ix)])]),_:1}),Ee(ne(Hn),{"min-size":"20"},{default:ct(()=>[...n[0]||(n[0]=[we("div",{class:"panel"}," Coming soon ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Lx=_r(jx,[["__scopeId","data-v-42d47803"]]),zx=Iv({history:lv("/"),routes:[{path:"/:namespace/:slug/:version",name:"home",component:Lx}]}),Ja=xg(Ng);Ja.use(Pg());Ja.use(zx);Ja.mount("#app");
