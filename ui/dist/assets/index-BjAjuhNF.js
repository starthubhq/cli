const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-3hTqe__U.js","assets/AboutView-CSIvawM9.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Re={},br=[],Ht=()=>{},Fg=()=>!1,Bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Nl=e=>e.startsWith("onUpdate:"),at=Object.assign,Ol=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ug=Object.prototype.hasOwnProperty,Ie=(e,t)=>Ug.call(e,t),me=Array.isArray,Er=e=>Mi(e)==="[object Map]",Br=e=>Mi(e)==="[object Set]",yu=e=>Mi(e)==="[object Date]",_e=e=>typeof e=="function",Fe=e=>typeof e=="string",Ot=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",Of=e=>(Me(e)||_e(e))&&_e(e.then)&&_e(e.catch),If=Object.prototype.toString,Mi=e=>If.call(e),Vg=e=>Mi(e).slice(8,-1),Af=e=>Mi(e)==="[object Object]",Il=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ii=Tl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Hg=/-(\w)/g,St=zo(e=>e.replace(Hg,(t,n)=>n?n.toUpperCase():"")),qg=/\B([A-Z])/g,er=zo(e=>e.replace(qg,"-$1").toLowerCase()),Fo=zo(e=>e.charAt(0).toUpperCase()+e.slice(1)),gs=zo(e=>e?`on${Fo(e)}`:""),ln=(e,t)=>!Object.is(e,t),so=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ua=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},vo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _u;const Uo=()=>_u||(_u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lt(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Fe(r)?Yg(r):lt(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(Fe(e)||Me(e))return e}const Gg=/;(?![^(]*\))/g,Wg=/:([^]+)/,Kg=/\/\*[^]*?\*\//g;function Yg(e){const t={};return e.replace(Kg,"").split(Gg).forEach(n=>{if(n){const r=n.split(Wg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function It(e){let t="";if(Fe(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const r=It(e[n]);r&&(t+=r+" ")}else if(Me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function qr(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Fe(t)&&(e.class=It(t)),n&&(e.style=lt(n)),e}const Xg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jg=Tl(Xg);function $f(e){return!!e||e===""}function Zg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Xn(e[r],t[r]);return n}function Xn(e,t){if(e===t)return!0;let n=yu(e),r=yu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ot(e),r=Ot(t),n||r)return e===t;if(n=me(e),r=me(t),n||r)return n&&r?Zg(e,t):!1;if(n=Me(e),r=Me(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Xn(e[s],t[s]))return!1}}return String(e)===String(t)}function Al(e,t){return e.findIndex(n=>Xn(n,t))}const Rf=e=>!!(e&&e.__v_isRef===!0),Ge=e=>Fe(e)?e:e==null?"":me(e)||Me(e)&&(e.toString===If||!_e(e.toString))?Rf(e)?Ge(e.value):JSON.stringify(e,Mf,2):String(e),Mf=(e,t)=>Rf(t)?Mf(e,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[vs(r,o)+" =>"]=i,n),{})}:Br(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>vs(n))}:Ot(t)?vs(t):Me(t)&&!me(t)&&!Af(t)?String(t):t,vs=(e,t="")=>{var n;return Ot(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class Df{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ot;try{return ot=this,t()}finally{ot=n}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Vo(e){return new Df(e)}function Ho(){return ot}function oi(e,t=!1){ot&&ot.cleanups.push(e)}let je;const ms=new WeakSet;class jf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ms.has(this)&&(ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wu(this),zf(this);const t=je,n=Nt;je=this,Nt=!0;try{return this.fn()}finally{Ff(this),je=t,Nt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ml(t);this.deps=this.depsTail=void 0,wu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Va(this)&&this.run()}get dirty(){return Va(this)}}let Lf=0,si,ai;function Bf(e,t=!1){if(e.flags|=8,t){e.next=ai,ai=e;return}e.next=si,si=e}function $l(){Lf++}function Rl(){if(--Lf>0)return;if(ai){let t=ai;for(ai=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;si;){let t=si;for(si=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function zf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ff(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Ml(r),Qg(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Va(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Uf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Uf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===wi)||(e.globalVersion=wi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Va(e))))return;e.flags|=2;const t=e.dep,n=je,r=Nt;je=e,Nt=!0;try{zf(e);const i=e.fn(e._value);(t.version===0||ln(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{je=n,Nt=r,Ff(e),e.flags&=-3}}function Ml(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ml(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Qg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Nt=!0;const Vf=[];function un(){Vf.push(Nt),Nt=!1}function cn(){const e=Vf.pop();Nt=e===void 0?!0:e}function wu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=je;je=void 0;try{t()}finally{je=n}}}let wi=0;class ev{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!je||!Nt||je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==je)n=this.activeLink=new ev(je,this),je.deps?(n.prevDep=je.depsTail,je.depsTail.nextDep=n,je.depsTail=n):je.deps=je.depsTail=n,Hf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=je.depsTail,n.nextDep=void 0,je.depsTail.nextDep=n,je.depsTail=n,je.deps===n&&(je.deps=r)}return n}trigger(t){this.version++,wi++,this.notify(t)}notify(t){$l();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Rl()}}}function Hf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Hf(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const mo=new WeakMap,Gn=Symbol(""),Ha=Symbol(""),bi=Symbol("");function st(e,t,n){if(Nt&&je){let r=mo.get(e);r||mo.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new qo),i.map=r,i.key=n),i.track()}}function tn(e,t,n,r,i,o){const s=mo.get(e);if(!s){wi++;return}const a=l=>{l&&l.trigger()};if($l(),t==="clear")s.forEach(a);else{const l=me(e),c=l&&Il(n);if(l&&n==="length"){const u=Number(r);s.forEach((d,f)=>{(f==="length"||f===bi||!Ot(f)&&f>=u)&&a(d)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(bi)),t){case"add":l?c&&a(s.get("length")):(a(s.get(Gn)),Er(e)&&a(s.get(Ha)));break;case"delete":l||(a(s.get(Gn)),Er(e)&&a(s.get(Ha)));break;case"set":Er(e)&&a(s.get(Gn));break}}Rl()}function tv(e,t){const n=mo.get(e);return n&&n.get(t)}function rr(e){const t=Pe(e);return t===e?t:(st(t,"iterate",bi),wt(e)?t:t.map(nt))}function Go(e){return st(e=Pe(e),"iterate",bi),e}const nv={__proto__:null,[Symbol.iterator](){return ys(this,Symbol.iterator,nt)},concat(...e){return rr(this).concat(...e.map(t=>me(t)?rr(t):t))},entries(){return ys(this,"entries",e=>(e[1]=nt(e[1]),e))},every(e,t){return Yt(this,"every",e,t,void 0,arguments)},filter(e,t){return Yt(this,"filter",e,t,n=>n.map(nt),arguments)},find(e,t){return Yt(this,"find",e,t,nt,arguments)},findIndex(e,t){return Yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yt(this,"findLast",e,t,nt,arguments)},findLastIndex(e,t){return Yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return _s(this,"includes",e)},indexOf(...e){return _s(this,"indexOf",e)},join(e){return rr(this).join(e)},lastIndexOf(...e){return _s(this,"lastIndexOf",e)},map(e,t){return Yt(this,"map",e,t,void 0,arguments)},pop(){return Gr(this,"pop")},push(...e){return Gr(this,"push",e)},reduce(e,...t){return bu(this,"reduce",e,t)},reduceRight(e,...t){return bu(this,"reduceRight",e,t)},shift(){return Gr(this,"shift")},some(e,t){return Yt(this,"some",e,t,void 0,arguments)},splice(...e){return Gr(this,"splice",e)},toReversed(){return rr(this).toReversed()},toSorted(e){return rr(this).toSorted(e)},toSpliced(...e){return rr(this).toSpliced(...e)},unshift(...e){return Gr(this,"unshift",e)},values(){return ys(this,"values",nt)}};function ys(e,t,n){const r=Go(e),i=r[t]();return r!==e&&!wt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const rv=Array.prototype;function Yt(e,t,n,r,i,o){const s=Go(e),a=s!==e&&!wt(e),l=s[t];if(l!==rv[t]){const d=l.apply(e,o);return a?nt(d):d}let c=n;s!==e&&(a?c=function(d,f){return n.call(this,nt(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(s,c,r);return a&&i?i(u):u}function bu(e,t,n,r){const i=Go(e);let o=n;return i!==e&&(wt(e)?n.length>3&&(o=function(s,a,l){return n.call(this,s,a,l,e)}):o=function(s,a,l){return n.call(this,s,nt(a),l,e)}),i[t](o,...r)}function _s(e,t,n){const r=Pe(e);st(r,"iterate",bi);const i=r[t](...n);return(i===-1||i===!1)&&Bl(n[0])?(n[0]=Pe(n[0]),r[t](...n)):i}function Gr(e,t,n=[]){un(),$l();const r=Pe(e)[t].apply(e,n);return Rl(),cn(),r}const iv=Tl("__proto__,__v_isRef,__isVue"),qf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ot));function ov(e){Ot(e)||(e=String(e));const t=Pe(this);return st(t,"has",e),t.hasOwnProperty(e)}class Gf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?gv:Xf:o?Yf:Kf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=me(t);if(!i){let l;if(s&&(l=nv[n]))return l;if(n==="hasOwnProperty")return ov}const a=Reflect.get(t,n,Le(t)?t:r);return(Ot(n)?qf.has(n):iv(n))||(i||st(t,"get",n),o)?a:Le(a)?s&&Il(n)?a:a.value:Me(a)?i?jl(a):zr(a):a}}class Wf extends Gf{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const l=On(o);if(!wt(r)&&!On(r)&&(o=Pe(o),r=Pe(r)),!me(t)&&Le(o)&&!Le(r))return l?!1:(o.value=r,!0)}const s=me(t)&&Il(n)?Number(n)<t.length:Ie(t,n),a=Reflect.set(t,n,r,Le(t)?t:i);return t===Pe(i)&&(s?ln(r,o)&&tn(t,"set",n,r):tn(t,"add",n,r)),a}deleteProperty(t,n){const r=Ie(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&tn(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Ot(n)||!qf.has(n))&&st(t,"has",n),r}ownKeys(t){return st(t,"iterate",me(t)?"length":Gn),Reflect.ownKeys(t)}}class sv extends Gf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const av=new Wf,lv=new sv,uv=new Wf(!0);const qa=e=>e,Vi=e=>Reflect.getPrototypeOf(e);function cv(e,t,n){return function(...r){const i=this.__v_raw,o=Pe(i),s=Er(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=i[e](...r),u=n?qa:t?yo:nt;return!t&&st(o,"iterate",l?Ha:Gn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Hi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function dv(e,t){const n={get(i){const o=this.__v_raw,s=Pe(o),a=Pe(i);e||(ln(i,a)&&st(s,"get",i),st(s,"get",a));const{has:l}=Vi(s),c=t?qa:e?yo:nt;if(l.call(s,i))return c(o.get(i));if(l.call(s,a))return c(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&st(Pe(i),"iterate",Gn),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=Pe(o),a=Pe(i);return e||(ln(i,a)&&st(s,"has",i),st(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,l=Pe(a),c=t?qa:e?yo:nt;return!e&&st(l,"iterate",Gn),a.forEach((u,d)=>i.call(o,c(u),c(d),s))}};return at(n,e?{add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear")}:{add(i){!t&&!wt(i)&&!On(i)&&(i=Pe(i));const o=Pe(this);return Vi(o).has.call(o,i)||(o.add(i),tn(o,"add",i,i)),this},set(i,o){!t&&!wt(o)&&!On(o)&&(o=Pe(o));const s=Pe(this),{has:a,get:l}=Vi(s);let c=a.call(s,i);c||(i=Pe(i),c=a.call(s,i));const u=l.call(s,i);return s.set(i,o),c?ln(o,u)&&tn(s,"set",i,o):tn(s,"add",i,o),this},delete(i){const o=Pe(this),{has:s,get:a}=Vi(o);let l=s.call(o,i);l||(i=Pe(i),l=s.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&tn(o,"delete",i,void 0),c},clear(){const i=Pe(this),o=i.size!==0,s=i.clear();return o&&tn(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=cv(i,e,t)}),n}function Dl(e,t){const n=dv(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ie(n,i)&&i in r?n:r,i,o)}const fv={get:Dl(!1,!1)},hv={get:Dl(!1,!0)},pv={get:Dl(!0,!1)};const Kf=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,gv=new WeakMap;function vv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mv(e){return e.__v_skip||!Object.isExtensible(e)?0:vv(Vg(e))}function zr(e){return On(e)?e:Ll(e,!1,av,fv,Kf)}function Jf(e){return Ll(e,!1,uv,hv,Yf)}function jl(e){return Ll(e,!0,lv,pv,Xf)}function Ll(e,t,n,r,i){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=mv(e);if(o===0)return e;const s=i.get(e);if(s)return s;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Tn(e){return On(e)?Tn(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function wt(e){return!!(e&&e.__v_isShallow)}function Bl(e){return e?!!e.__v_raw:!1}function Pe(e){const t=e&&e.__v_raw;return t?Pe(t):e}function Nn(e){return!Ie(e,"__v_skip")&&Object.isExtensible(e)&&Ua(e,"__v_skip",!0),e}const nt=e=>Me(e)?zr(e):e,yo=e=>Me(e)?jl(e):e;function Le(e){return e?e.__v_isRef===!0:!1}function he(e){return Zf(e,!1)}function Ei(e){return Zf(e,!0)}function Zf(e,t){return Le(e)?e:new yv(e,t)}class yv{constructor(t,n){this.dep=new qo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Pe(t),this._value=n?t:nt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||wt(t)||On(t);t=r?t:Pe(t),ln(t,n)&&(this._rawValue=t,this._value=r?t:nt(t),this.dep.trigger())}}function ee(e){return Le(e)?e.value:e}function Ee(e){return _e(e)?e():ee(e)}const _v={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Le(i)&&!Le(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Qf(e){return Tn(e)?e:new Proxy(e,_v)}class wv{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new qo,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function bv(e){return new wv(e)}function eh(e){const t=me(e)?new Array(e.length):{};for(const n in e)t[n]=th(e,n);return t}class Ev{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tv(Pe(this._object),this._key)}}class Sv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ne(e,t,n){return Le(e)?e:_e(e)?new Sv(e):Me(e)&&arguments.length>1?th(e,t,n):he(e)}function th(e,t,n){const r=e[t];return Le(r)?r:new Ev(e,t,n)}class xv{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new qo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return Bf(this,!0),!0}get value(){const t=this.dep.track();return Uf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kv(e,t,n=!1){let r,i;return _e(e)?r=e:(r=e.get,i=e.set),new xv(r,i,n)}const qi={},_o=new WeakMap;let zn;function Cv(e,t=!1,n=zn){if(n){let r=_o.get(n);r||_o.set(n,r=[]),r.push(e)}}function Pv(e,t,n=Re){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=n,c=S=>i?S:wt(S)||i===!1||i===0?nn(S,1):nn(S);let u,d,f,h,g=!1,y=!1;if(Le(e)?(d=()=>e.value,g=wt(e)):Tn(e)?(d=()=>c(e),g=!0):me(e)?(y=!0,g=e.some(S=>Tn(S)||wt(S)),d=()=>e.map(S=>{if(Le(S))return S.value;if(Tn(S))return c(S);if(_e(S))return l?l(S,2):S()})):_e(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){un();try{f()}finally{cn()}}const S=zn;zn=u;try{return l?l(e,3,[h]):e(h)}finally{zn=S}}:d=Ht,t&&i){const S=d,A=i===!0?1/0:i;d=()=>nn(S(),A)}const p=Ho(),b=()=>{u.stop(),p&&p.active&&Ol(p.effects,u)};if(o&&t){const S=t;t=(...A)=>{S(...A),b()}}let _=y?new Array(e.length).fill(qi):qi;const v=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const A=u.run();if(i||g||(y?A.some((j,U)=>ln(j,_[U])):ln(A,_))){f&&f();const j=zn;zn=u;try{const U=[A,_===qi?void 0:y&&_[0]===qi?[]:_,h];_=A,l?l(t,3,U):t(...U)}finally{zn=j}}}else u.run()};return a&&a(v),u=new jf(d),u.scheduler=s?()=>s(v,!1):v,h=S=>Cv(S,!1,u),f=u.onStop=()=>{const S=_o.get(u);if(S){if(l)l(S,4);else for(const A of S)A();_o.delete(u)}},t?r?v(!0):_=u.run():s?s(v.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function nn(e,t=1/0,n){if(t<=0||!Me(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Le(e))nn(e.value,t,n);else if(me(e))for(let r=0;r<e.length;r++)nn(e[r],t,n);else if(Br(e)||Er(e))e.forEach(r=>{nn(r,t,n)});else if(Af(e)){for(const r in e)nn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Di(e,t,n,r){try{return r?e(...r):e()}catch(i){Wo(i,t,n)}}function Gt(e,t,n,r){if(_e(e)){const i=Di(e,t,n,r);return i&&Of(i)&&i.catch(o=>{Wo(o,t,n)}),i}if(me(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Gt(e[o],t,n,r));return i}}function Wo(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Re;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(o){un(),Di(o,null,10,[e,l,c]),cn();return}}Tv(e,n,i,r,s)}function Tv(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const dt=[];let Bt=-1;const Sr=[];let bn=null,vr=0;const nh=Promise.resolve();let wo=null;function Ve(e){const t=wo||nh;return e?t.then(this?e.bind(this):e):t}function Nv(e){let t=Bt+1,n=dt.length;for(;t<n;){const r=t+n>>>1,i=dt[r],o=Si(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function zl(e){if(!(e.flags&1)){const t=Si(e),n=dt[dt.length-1];!n||!(e.flags&2)&&t>=Si(n)?dt.push(e):dt.splice(Nv(t),0,e),e.flags|=1,rh()}}function rh(){wo||(wo=nh.then(oh))}function Ov(e){me(e)?Sr.push(...e):bn&&e.id===-1?bn.splice(vr+1,0,e):e.flags&1||(Sr.push(e),e.flags|=1),rh()}function Eu(e,t,n=Bt+1){for(;n<dt.length;n++){const r=dt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;dt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ih(e){if(Sr.length){const t=[...new Set(Sr)].sort((n,r)=>Si(n)-Si(r));if(Sr.length=0,bn){bn.push(...t);return}for(bn=t,vr=0;vr<bn.length;vr++){const n=bn[vr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bn=null,vr=0}}const Si=e=>e.id==null?e.flags&2?-1:1/0:e.id;function oh(e){try{for(Bt=0;Bt<dt.length;Bt++){const t=dt[Bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Di(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Bt<dt.length;Bt++){const t=dt[Bt];t&&(t.flags&=-2)}Bt=-1,dt.length=0,ih(),wo=null,(dt.length||Sr.length)&&oh()}}let Ke=null,sh=null;function bo(e){const t=Ke;return Ke=e,sh=e&&e.type.__scopeId||null,t}function Be(e,t=Ke,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Du(-1);const o=bo(t);let s;try{s=e(...i)}finally{bo(o),r._d&&Du(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Su(e,t){if(Ke===null)return e;const n=Qo(Ke),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,a,l=Re]=t[i];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&nn(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Dn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(un(),Gt(l,n,8,[e.el,a,e,t]),cn())}}const ah=Symbol("_vte"),Iv=e=>e.__isTeleport,li=e=>e&&(e.disabled||e.disabled===""),xu=e=>e&&(e.defer||e.defer===""),ku=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Cu=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ga=(e,t)=>{const n=e&&e.to;return Fe(n)?t?t(n):null:n},lh={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:g,createText:y,createComment:p}}=c,b=li(t.props);let{shapeFlag:_,children:v,dynamicChildren:S}=t;if(e==null){const A=t.el=y(""),j=t.anchor=y("");h(A,n,r),h(j,n,r);const U=(T,M)=>{_&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),u(v,T,M,i,o,s,a,l))},N=()=>{const T=t.target=Ga(t.props,g),M=uh(T,t,y,h);T&&(s!=="svg"&&ku(T)?s="svg":s!=="mathml"&&Cu(T)&&(s="mathml"),b||(U(T,M),ao(t,!1)))};b&&(U(n,j),ao(t,!0)),xu(t.props)?(t.el.__isMounted=!1,ct(()=>{N(),delete t.el.__isMounted},o)):N()}else{if(xu(t.props)&&e.el.__isMounted===!1){ct(()=>{lh.process(e,t,n,r,i,o,s,a,l,c)},o);return}t.el=e.el,t.targetStart=e.targetStart;const A=t.anchor=e.anchor,j=t.target=e.target,U=t.targetAnchor=e.targetAnchor,N=li(e.props),T=N?n:j,M=N?A:U;if(s==="svg"||ku(j)?s="svg":(s==="mathml"||Cu(j))&&(s="mathml"),S?(f(e.dynamicChildren,S,T,i,o,s,a),ql(e,t,!0)):l||d(e,t,T,M,i,o,s,a,!1),b)N?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Gi(t,n,A,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=Ga(t.props,g);D&&Gi(t,D,null,c,0)}else N&&Gi(t,j,U,c,1);ao(t,b)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(i(c),i(u)),o&&i(l),s&16){const h=o||!li(f);for(let g=0;g<a.length;g++){const y=a[g];r(y,t,n,h,!!y.dynamicChildren)}}},move:Gi,hydrate:Av};function Gi(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=o===2;if(d&&r(s,t,n),(!d||li(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,n,2);d&&r(a,t,n)}function Av(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=t.target=Ga(t.props,l);if(f){const h=li(t.props),g=f._lpa||f.firstChild;if(t.shapeFlag&16)if(h)t.anchor=d(s(e),t,a(e),n,r,i,o),t.targetStart=g,t.targetAnchor=g&&s(g);else{t.anchor=s(e);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}}y=s(y)}t.targetAnchor||uh(f,t,u,c),d(g&&s(g),t,f,n,r,i,o)}ao(t,h)}return t.anchor&&s(t.anchor)}const $v=lh;function ao(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function uh(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[ah]=o,e&&(r(i,e),r(o,e)),o}function Fl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Se(e,t){return _e(e)?at({name:e.name},t,{setup:e}):e}function ch(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ui(e,t,n,r,i=!1){if(me(e)){e.forEach((g,y)=>ui(g,t&&(me(t)?t[y]:t),n,r,i));return}if(xr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ui(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?Qo(r.component):r.el,s=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Re?a.refs={}:a.refs,d=a.setupState,f=Pe(d),h=d===Re?()=>!1:g=>Ie(f,g);if(c!=null&&c!==l&&(Fe(c)?(u[c]=null,h(c)&&(d[c]=null)):Le(c)&&(c.value=null)),_e(l))Di(l,a,12,[s,u]);else{const g=Fe(l),y=Le(l);if(g||y){const p=()=>{if(e.f){const b=g?h(l)?d[l]:u[l]:l.value;i?me(b)&&Ol(b,o):me(b)?b.includes(o)||b.push(o):g?(u[l]=[o],h(l)&&(d[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else g?(u[l]=s,h(l)&&(d[l]=s)):y&&(l.value=s,e.k&&(u[e.k]=s))};s?(p.id=-1,ct(p,n)):p()}}}Uo().requestIdleCallback;Uo().cancelIdleCallback;const xr=e=>!!e.type.__asyncLoader,dh=e=>e.type.__isKeepAlive;function Rv(e,t){fh(e,"a",t)}function Mv(e,t){fh(e,"da",t)}function fh(e,t,n=et){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ko(t,r,n),n){let i=n.parent;for(;i&&i.parent;)dh(i.parent.vnode)&&Dv(r,t,n,i),i=i.parent}}function Dv(e,t,n,r){const i=Ko(t,e,r,!0);Yo(()=>{Ol(r[t],i)},n)}function Ko(e,t,n=et,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{un();const a=ji(n),l=Gt(t,n,e,s);return a(),cn(),l});return r?i.unshift(o):i.push(o),o}}const pn=e=>(t,n=et)=>{(!ki||e==="sp")&&Ko(e,(...r)=>t(...r),n)},hh=pn("bm"),Je=pn("m"),jv=pn("bu"),Lv=pn("u"),Rn=pn("bum"),Yo=pn("um"),Bv=pn("sp"),zv=pn("rtg"),Fv=pn("rtc");function Uv(e,t=et){Ko("ec",e,t)}const ph="components";function Ul(e,t){return mh(ph,e,!0,t)||e}const gh=Symbol.for("v-ndc");function vh(e){return Fe(e)?mh(ph,e,!1)||e:e||gh}function mh(e,t,n=!0,r=!1){const i=Ke||et;if(i){const o=i.type;{const a=Nm(o,!1);if(a&&(a===t||a===St(t)||a===Fo(St(t))))return o}const s=Pu(i[e]||o[e],t)||Pu(i.appContext[e],t);return!s&&r?o:s}}function Pu(e,t){return e&&(e[t]||e[St(t)]||e[Fo(St(t))])}function dn(e,t,n,r){let i;const o=n&&n[r],s=me(e);if(s||Fe(e)){const a=s&&Tn(e);let l=!1,c=!1;a&&(l=!wt(e),c=On(e),e=Go(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?yo(nt(e[u])):nt(e[u]):e[u],u,void 0,o&&o[u])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(Me(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function bt(e,t,n={},r,i){if(Ke.ce||Ke.parent&&xr(Ke.parent)&&Ke.parent.ce)return t!=="default"&&(n.name=t),se(),Xe(Ae,null,[ve("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),se();const s=o&&yh(o(n)),a=n.key||s&&s.key,l=Xe(Ae,{key:(a&&!Ot(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function yh(e){return e.some(t=>xi(t)?!(t.type===fn||t.type===Ae&&!yh(t.children)):!0)?e:null}const Wa=e=>e?Lh(e)?Qo(e):Wa(e.parent):null,ci=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wa(e.parent),$root:e=>Wa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Eh(e),$forceUpdate:e=>e.f||(e.f=()=>{zl(e.update)}),$nextTick:e=>e.n||(e.n=Ve.bind(e.proxy)),$watch:e=>hm.bind(e)}),ws=(e,t)=>e!==Re&&!e.__isScriptSetup&&Ie(e,t),Vv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(ws(r,t))return s[t]=1,r[t];if(i!==Re&&Ie(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Ie(c,t))return s[t]=3,o[t];if(n!==Re&&Ie(n,t))return s[t]=4,n[t];Ka&&(s[t]=0)}}const u=ci[t];let d,f;if(u)return t==="$attrs"&&st(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Re&&Ie(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,Ie(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return ws(i,t)?(i[t]=n,!0):r!==Re&&Ie(r,t)?(r[t]=n,!0):Ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Re&&Ie(e,s)||ws(t,s)||(a=o[0])&&Ie(a,s)||Ie(r,s)||Ie(ci,s)||Ie(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _h(){return wh().slots}function Hv(){return wh().attrs}function wh(){const e=tr();return e.setupContext||(e.setupContext=zh(e))}function Tu(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function qv(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}let Ka=!0;function Gv(e){const t=Eh(e),n=e.proxy,r=e.ctx;Ka=!1,t.beforeCreate&&Nu(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:y,deactivated:p,beforeDestroy:b,beforeUnmount:_,destroyed:v,unmounted:S,render:A,renderTracked:j,renderTriggered:U,errorCaptured:N,serverPrefetch:T,expose:M,inheritAttrs:D,components:O,directives:Z,filters:I}=t;if(c&&Wv(c,r,null),s)for(const W in s){const Q=s[W];_e(Q)&&(r[W]=Q.bind(n))}if(i){const W=i.call(n,n);Me(W)&&(e.data=zr(W))}if(Ka=!0,o)for(const W in o){const Q=o[W],oe=_e(Q)?Q.bind(n,n):_e(Q.get)?Q.get.bind(n,n):Ht,ie=!_e(Q)&&_e(Q.set)?Q.set.bind(n):Ht,ae=le({get:oe,set:ie});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>ae.value,set:fe=>ae.value=fe})}if(a)for(const W in a)bh(a[W],r,n,W);if(l){const W=_e(l)?l.call(n):l;Reflect.ownKeys(W).forEach(Q=>{tt(Q,W[Q])})}u&&Nu(u,e,"c");function L(W,Q){me(Q)?Q.forEach(oe=>W(oe.bind(n))):Q&&W(Q.bind(n))}if(L(hh,d),L(Je,f),L(jv,h),L(Lv,g),L(Rv,y),L(Mv,p),L(Uv,N),L(Fv,j),L(zv,U),L(Rn,_),L(Yo,S),L(Bv,T),me(M))if(M.length){const W=e.exposed||(e.exposed={});M.forEach(Q=>{Object.defineProperty(W,Q,{get:()=>n[Q],set:oe=>n[Q]=oe})})}else e.exposed||(e.exposed={});A&&e.render===Ht&&(e.render=A),D!=null&&(e.inheritAttrs=D),O&&(e.components=O),Z&&(e.directives=Z),T&&ch(e)}function Wv(e,t,n=Ht){me(e)&&(e=Ya(e));for(const r in e){const i=e[r];let o;Me(i)?"default"in i?o=ze(i.from||r,i.default,!0):o=ze(i.from||r):o=ze(i),Le(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function Nu(e,t,n){Gt(me(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function bh(e,t,n,r){let i=r.includes(".")?$h(n,r):()=>n[r];if(Fe(e)){const o=t[e];_e(o)&&we(i,o)}else if(_e(e))we(i,e.bind(n));else if(Me(e))if(me(e))e.forEach(o=>bh(o,t,n,r));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&we(i,o,e)}}function Eh(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>Eo(l,c,s,!0)),Eo(l,t,s)),Me(t)&&o.set(t,l),l}function Eo(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Eo(e,o,n,!0),i&&i.forEach(s=>Eo(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=Kv[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Kv={data:Ou,props:Iu,emits:Iu,methods:Qr,computed:Qr,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:Qr,directives:Qr,watch:Xv,provide:Ou,inject:Yv};function Ou(e,t){return t?e?function(){return at(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function Yv(e,t){return Qr(Ya(e),Ya(t))}function Ya(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ut(e,t){return e?[...new Set([].concat(e,t))]:t}function Qr(e,t){return e?at(Object.create(null),e,t):t}function Iu(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:at(Object.create(null),Tu(e),Tu(t??{})):t}function Xv(e,t){if(!e)return t;if(!t)return e;const n=at(Object.create(null),e);for(const r in t)n[r]=ut(e[r],t[r]);return n}function Sh(){return{app:null,config:{isNativeTag:Fg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jv=0;function Zv(e,t){return function(r,i=null){_e(r)||(r=at({},r)),i!=null&&!Me(i)&&(i=null);const o=Sh(),s=new WeakSet,a=[];let l=!1;const c=o.app={_uid:Jv++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Am,get config(){return o.config},set config(u){},use(u,...d){return s.has(u)||(u&&_e(u.install)?(s.add(u),u.install(c,...d)):_e(u)&&(s.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||ve(r,i);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Qo(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Gt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Wn;Wn=c;try{return u()}finally{Wn=d}}};return c}}let Wn=null;function tt(e,t){if(et){let n=et.provides;const r=et.parent&&et.parent.provides;r===n&&(n=et.provides=Object.create(r)),n[e]=t}}function ze(e,t,n=!1){const r=et||Ke;if(r||Wn){let i=Wn?Wn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&_e(t)?t.call(r&&r.proxy):t}}function Qv(){return!!(et||Ke||Wn)}const xh={},kh=()=>Object.create(xh),Ch=e=>Object.getPrototypeOf(e)===xh;function em(e,t,n,r=!1){const i={},o=kh();e.propsDefaults=Object.create(null),Ph(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Jf(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function tm(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Pe(i),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Xo(e.emitsOptions,f))continue;const h=t[f];if(l)if(Ie(o,f))h!==o[f]&&(o[f]=h,c=!0);else{const g=St(f);i[g]=Xa(l,a,g,h,e,!1)}else h!==o[f]&&(o[f]=h,c=!0)}}}else{Ph(e,t,i,o)&&(c=!0);let u;for(const d in a)(!t||!Ie(t,d)&&((u=er(d))===d||!Ie(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Xa(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!Ie(t,d))&&(delete o[d],c=!0)}c&&tn(e.attrs,"set","")}function Ph(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(ii(l))continue;const c=t[l];let u;i&&Ie(i,u=St(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Xo(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(o){const l=Pe(n),c=a||Re;for(let u=0;u<o.length;u++){const d=o[u];n[d]=Xa(i,l,d,c[d],e,!Ie(c,d))}}return s}function Xa(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=Ie(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&_e(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=ji(i);r=c[n]=l.call(null,t),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===er(n))&&(r=!0))}return r}const nm=new WeakMap;function Th(e,t,n=!1){const r=n?nm:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!_e(e)){const u=d=>{l=!0;const[f,h]=Th(d,t,!0);at(s,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Me(e)&&r.set(e,br),br;if(me(o))for(let u=0;u<o.length;u++){const d=St(o[u]);Au(d)&&(s[d]=Re)}else if(o)for(const u in o){const d=St(u);if(Au(d)){const f=o[u],h=s[d]=me(f)||_e(f)?{type:f}:at({},f),g=h.type;let y=!1,p=!0;if(me(g))for(let b=0;b<g.length;++b){const _=g[b],v=_e(_)&&_.name;if(v==="Boolean"){y=!0;break}else v==="String"&&(p=!1)}else y=_e(g)&&g.name==="Boolean";h[0]=y,h[1]=p,(y||Ie(h,"default"))&&a.push(d)}}const c=[s,a];return Me(e)&&r.set(e,c),c}function Au(e){return e[0]!=="$"&&!ii(e)}const Vl=e=>e[0]==="_"||e==="$stable",Hl=e=>me(e)?e.map(Ft):[Ft(e)],rm=(e,t,n)=>{if(t._n)return t;const r=Be((...i)=>Hl(t(...i)),n);return r._c=!1,r},Nh=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Vl(i))continue;const o=e[i];if(_e(o))t[i]=rm(i,o,r);else if(o!=null){const s=Hl(o);t[i]=()=>s}}},Oh=(e,t)=>{const n=Hl(t);e.slots.default=()=>n},Ih=(e,t,n)=>{for(const r in t)(n||!Vl(r))&&(e[r]=t[r])},im=(e,t,n)=>{const r=e.slots=kh();if(e.vnode.shapeFlag&32){const i=t.__;i&&Ua(r,"__",i,!0);const o=t._;o?(Ih(r,t,n),n&&Ua(r,"_",o,!0)):Nh(t,r)}else t&&Oh(e,t)},om=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Re;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:Ih(i,t,n):(o=!t.$stable,Nh(t,i)),s=t}else t&&(Oh(e,t),s={default:1});if(o)for(const a in i)!Vl(a)&&s[a]==null&&delete i[a]},ct=wm;function sm(e){return am(e)}function am(e,t){const n=Uo();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Ht,insertStaticContent:g}=e,y=(w,x,m,E=null,C=null,k=null,z=void 0,X=null,K=!!x.dynamicChildren)=>{if(w===x)return;w&&!Wr(w,x)&&(E=P(w),fe(w,C,k,!0),w=null),x.patchFlag===-2&&(K=!1,x.dynamicChildren=null);const{type:G,ref:ne,shapeFlag:te}=x;switch(G){case Jo:p(w,x,m,E);break;case fn:b(w,x,m,E);break;case Es:w==null&&_(x,m,E,z);break;case Ae:O(w,x,m,E,C,k,z,X,K);break;default:te&1?A(w,x,m,E,C,k,z,X,K):te&6?Z(w,x,m,E,C,k,z,X,K):(te&64||te&128)&&G.process(w,x,m,E,C,k,z,X,K,B)}ne!=null&&C?ui(ne,w&&w.ref,k,x||w,!x):ne==null&&w&&w.ref!=null&&ui(w.ref,null,k,w,!0)},p=(w,x,m,E)=>{if(w==null)r(x.el=a(x.children),m,E);else{const C=x.el=w.el;x.children!==w.children&&c(C,x.children)}},b=(w,x,m,E)=>{w==null?r(x.el=l(x.children||""),m,E):x.el=w.el},_=(w,x,m,E)=>{[w.el,w.anchor]=g(w.children,x,m,E,w.el,w.anchor)},v=({el:w,anchor:x},m,E)=>{let C;for(;w&&w!==x;)C=f(w),r(w,m,E),w=C;r(x,m,E)},S=({el:w,anchor:x})=>{let m;for(;w&&w!==x;)m=f(w),i(w),w=m;i(x)},A=(w,x,m,E,C,k,z,X,K)=>{x.type==="svg"?z="svg":x.type==="math"&&(z="mathml"),w==null?j(x,m,E,C,k,z,X,K):T(w,x,C,k,z,X,K)},j=(w,x,m,E,C,k,z,X)=>{let K,G;const{props:ne,shapeFlag:te,transition:re,dirs:ce}=w;if(K=w.el=s(w.type,k,ne&&ne.is,ne),te&8?u(K,w.children):te&16&&N(w.children,K,null,E,C,bs(w,k),z,X),ce&&Dn(w,null,E,"created"),U(K,w,w.scopeId,z,E),ne){for(const Ce in ne)Ce!=="value"&&!ii(Ce)&&o(K,Ce,null,ne[Ce],k,E);"value"in ne&&o(K,"value",null,ne.value,k),(G=ne.onVnodeBeforeMount)&&Lt(G,E,w)}ce&&Dn(w,null,E,"beforeMount");const ye=lm(C,re);ye&&re.beforeEnter(K),r(K,x,m),((G=ne&&ne.onVnodeMounted)||ye||ce)&&ct(()=>{G&&Lt(G,E,w),ye&&re.enter(K),ce&&Dn(w,null,E,"mounted")},C)},U=(w,x,m,E,C)=>{if(m&&h(w,m),E)for(let k=0;k<E.length;k++)h(w,E[k]);if(C){let k=C.subTree;if(x===k||Mh(k.type)&&(k.ssContent===x||k.ssFallback===x)){const z=C.vnode;U(w,z,z.scopeId,z.slotScopeIds,C.parent)}}},N=(w,x,m,E,C,k,z,X,K=0)=>{for(let G=K;G<w.length;G++){const ne=w[G]=X?En(w[G]):Ft(w[G]);y(null,ne,x,m,E,C,k,z,X)}},T=(w,x,m,E,C,k,z)=>{const X=x.el=w.el;let{patchFlag:K,dynamicChildren:G,dirs:ne}=x;K|=w.patchFlag&16;const te=w.props||Re,re=x.props||Re;let ce;if(m&&jn(m,!1),(ce=re.onVnodeBeforeUpdate)&&Lt(ce,m,x,w),ne&&Dn(x,w,m,"beforeUpdate"),m&&jn(m,!0),(te.innerHTML&&re.innerHTML==null||te.textContent&&re.textContent==null)&&u(X,""),G?M(w.dynamicChildren,G,X,m,E,bs(x,C),k):z||Q(w,x,X,null,m,E,bs(x,C),k,!1),K>0){if(K&16)D(X,te,re,m,C);else if(K&2&&te.class!==re.class&&o(X,"class",null,re.class,C),K&4&&o(X,"style",te.style,re.style,C),K&8){const ye=x.dynamicProps;for(let Ce=0;Ce<ye.length;Ce++){const Te=ye[Ce],rt=te[Te],ht=re[Te];(ht!==rt||Te==="value")&&o(X,Te,rt,ht,C,m)}}K&1&&w.children!==x.children&&u(X,x.children)}else!z&&G==null&&D(X,te,re,m,C);((ce=re.onVnodeUpdated)||ne)&&ct(()=>{ce&&Lt(ce,m,x,w),ne&&Dn(x,w,m,"updated")},E)},M=(w,x,m,E,C,k,z)=>{for(let X=0;X<x.length;X++){const K=w[X],G=x[X],ne=K.el&&(K.type===Ae||!Wr(K,G)||K.shapeFlag&198)?d(K.el):m;y(K,G,ne,null,E,C,k,z,!0)}},D=(w,x,m,E,C)=>{if(x!==m){if(x!==Re)for(const k in x)!ii(k)&&!(k in m)&&o(w,k,x[k],null,C,E);for(const k in m){if(ii(k))continue;const z=m[k],X=x[k];z!==X&&k!=="value"&&o(w,k,X,z,C,E)}"value"in m&&o(w,"value",x.value,m.value,C)}},O=(w,x,m,E,C,k,z,X,K)=>{const G=x.el=w?w.el:a(""),ne=x.anchor=w?w.anchor:a("");let{patchFlag:te,dynamicChildren:re,slotScopeIds:ce}=x;ce&&(X=X?X.concat(ce):ce),w==null?(r(G,m,E),r(ne,m,E),N(x.children||[],m,ne,C,k,z,X,K)):te>0&&te&64&&re&&w.dynamicChildren?(M(w.dynamicChildren,re,m,C,k,z,X),(x.key!=null||C&&x===C.subTree)&&ql(w,x,!0)):Q(w,x,m,ne,C,k,z,X,K)},Z=(w,x,m,E,C,k,z,X,K)=>{x.slotScopeIds=X,w==null?x.shapeFlag&512?C.ctx.activate(x,m,E,z,K):I(x,m,E,C,k,z,K):Y(w,x,K)},I=(w,x,m,E,C,k,z)=>{const X=w.component=km(w,E,C);if(dh(w)&&(X.ctx.renderer=B),Cm(X,!1,z),X.asyncDep){if(C&&C.registerDep(X,L,z),!w.el){const K=X.subTree=ve(fn);b(null,K,x,m)}}else L(X,w,x,m,C,k,z)},Y=(w,x,m)=>{const E=x.component=w.component;if(ym(w,x,m))if(E.asyncDep&&!E.asyncResolved){W(E,x,m);return}else E.next=x,E.update();else x.el=w.el,E.vnode=x},L=(w,x,m,E,C,k,z)=>{const X=()=>{if(w.isMounted){let{next:te,bu:re,u:ce,parent:ye,vnode:Ce}=w;{const Dt=Ah(w);if(Dt){te&&(te.el=Ce.el,W(w,te,z)),Dt.asyncDep.then(()=>{w.isUnmounted||X()});return}}let Te=te,rt;jn(w,!1),te?(te.el=Ce.el,W(w,te,z)):te=Ce,re&&so(re),(rt=te.props&&te.props.onVnodeBeforeUpdate)&&Lt(rt,ye,te,Ce),jn(w,!0);const ht=Ru(w),Mt=w.subTree;w.subTree=ht,y(Mt,ht,d(Mt.el),P(Mt),w,C,k),te.el=ht.el,Te===null&&_m(w,ht.el),ce&&ct(ce,C),(rt=te.props&&te.props.onVnodeUpdated)&&ct(()=>Lt(rt,ye,te,Ce),C)}else{let te;const{el:re,props:ce}=x,{bm:ye,m:Ce,parent:Te,root:rt,type:ht}=w,Mt=xr(x);jn(w,!1),ye&&so(ye),!Mt&&(te=ce&&ce.onVnodeBeforeMount)&&Lt(te,Te,x),jn(w,!0);{rt.ce&&rt.ce._def.shadowRoot!==!1&&rt.ce._injectChildStyle(ht);const Dt=w.subTree=Ru(w);y(null,Dt,m,E,w,C,k),x.el=Dt.el}if(Ce&&ct(Ce,C),!Mt&&(te=ce&&ce.onVnodeMounted)){const Dt=x;ct(()=>Lt(te,Te,Dt),C)}(x.shapeFlag&256||Te&&xr(Te.vnode)&&Te.vnode.shapeFlag&256)&&w.a&&ct(w.a,C),w.isMounted=!0,x=m=E=null}};w.scope.on();const K=w.effect=new jf(X);w.scope.off();const G=w.update=K.run.bind(K),ne=w.job=K.runIfDirty.bind(K);ne.i=w,ne.id=w.uid,K.scheduler=()=>zl(ne),jn(w,!0),G()},W=(w,x,m)=>{x.component=w;const E=w.vnode.props;w.vnode=x,w.next=null,tm(w,x.props,E,m),om(w,x.children,m),un(),Eu(w),cn()},Q=(w,x,m,E,C,k,z,X,K=!1)=>{const G=w&&w.children,ne=w?w.shapeFlag:0,te=x.children,{patchFlag:re,shapeFlag:ce}=x;if(re>0){if(re&128){ie(G,te,m,E,C,k,z,X,K);return}else if(re&256){oe(G,te,m,E,C,k,z,X,K);return}}ce&8?(ne&16&&J(G,C,k),te!==G&&u(m,te)):ne&16?ce&16?ie(G,te,m,E,C,k,z,X,K):J(G,C,k,!0):(ne&8&&u(m,""),ce&16&&N(te,m,E,C,k,z,X,K))},oe=(w,x,m,E,C,k,z,X,K)=>{w=w||br,x=x||br;const G=w.length,ne=x.length,te=Math.min(G,ne);let re;for(re=0;re<te;re++){const ce=x[re]=K?En(x[re]):Ft(x[re]);y(w[re],ce,m,null,C,k,z,X,K)}G>ne?J(w,C,k,!0,!1,te):N(x,m,E,C,k,z,X,K,te)},ie=(w,x,m,E,C,k,z,X,K)=>{let G=0;const ne=x.length;let te=w.length-1,re=ne-1;for(;G<=te&&G<=re;){const ce=w[G],ye=x[G]=K?En(x[G]):Ft(x[G]);if(Wr(ce,ye))y(ce,ye,m,null,C,k,z,X,K);else break;G++}for(;G<=te&&G<=re;){const ce=w[te],ye=x[re]=K?En(x[re]):Ft(x[re]);if(Wr(ce,ye))y(ce,ye,m,null,C,k,z,X,K);else break;te--,re--}if(G>te){if(G<=re){const ce=re+1,ye=ce<ne?x[ce].el:E;for(;G<=re;)y(null,x[G]=K?En(x[G]):Ft(x[G]),m,ye,C,k,z,X,K),G++}}else if(G>re)for(;G<=te;)fe(w[G],C,k,!0),G++;else{const ce=G,ye=G,Ce=new Map;for(G=ye;G<=re;G++){const vt=x[G]=K?En(x[G]):Ft(x[G]);vt.key!=null&&Ce.set(vt.key,G)}let Te,rt=0;const ht=re-ye+1;let Mt=!1,Dt=0;const Hr=new Array(ht);for(G=0;G<ht;G++)Hr[G]=0;for(G=ce;G<=te;G++){const vt=w[G];if(rt>=ht){fe(vt,C,k,!0);continue}let jt;if(vt.key!=null)jt=Ce.get(vt.key);else for(Te=ye;Te<=re;Te++)if(Hr[Te-ye]===0&&Wr(vt,x[Te])){jt=Te;break}jt===void 0?fe(vt,C,k,!0):(Hr[jt-ye]=G+1,jt>=Dt?Dt=jt:Mt=!0,y(vt,x[jt],m,null,C,k,z,X,K),rt++)}const vu=Mt?um(Hr):br;for(Te=vu.length-1,G=ht-1;G>=0;G--){const vt=ye+G,jt=x[vt],mu=vt+1<ne?x[vt+1].el:E;Hr[G]===0?y(null,jt,m,mu,C,k,z,X,K):Mt&&(Te<0||G!==vu[Te]?ae(jt,m,mu,2):Te--)}}},ae=(w,x,m,E,C=null)=>{const{el:k,type:z,transition:X,children:K,shapeFlag:G}=w;if(G&6){ae(w.component.subTree,x,m,E);return}if(G&128){w.suspense.move(x,m,E);return}if(G&64){z.move(w,x,m,B);return}if(z===Ae){r(k,x,m);for(let te=0;te<K.length;te++)ae(K[te],x,m,E);r(w.anchor,x,m);return}if(z===Es){v(w,x,m);return}if(E!==2&&G&1&&X)if(E===0)X.beforeEnter(k),r(k,x,m),ct(()=>X.enter(k),C);else{const{leave:te,delayLeave:re,afterLeave:ce}=X,ye=()=>{w.ctx.isUnmounted?i(k):r(k,x,m)},Ce=()=>{te(k,()=>{ye(),ce&&ce()})};re?re(k,ye,Ce):Ce()}else r(k,x,m)},fe=(w,x,m,E=!1,C=!1)=>{const{type:k,props:z,ref:X,children:K,dynamicChildren:G,shapeFlag:ne,patchFlag:te,dirs:re,cacheIndex:ce}=w;if(te===-2&&(C=!1),X!=null&&(un(),ui(X,null,m,w,!0),cn()),ce!=null&&(x.renderCache[ce]=void 0),ne&256){x.ctx.deactivate(w);return}const ye=ne&1&&re,Ce=!xr(w);let Te;if(Ce&&(Te=z&&z.onVnodeBeforeUnmount)&&Lt(Te,x,w),ne&6)V(w.component,m,E);else{if(ne&128){w.suspense.unmount(m,E);return}ye&&Dn(w,null,x,"beforeUnmount"),ne&64?w.type.remove(w,x,m,B,E):G&&!G.hasOnce&&(k!==Ae||te>0&&te&64)?J(G,x,m,!1,!0):(k===Ae&&te&384||!C&&ne&16)&&J(K,x,m),E&&H(w)}(Ce&&(Te=z&&z.onVnodeUnmounted)||ye)&&ct(()=>{Te&&Lt(Te,x,w),ye&&Dn(w,null,x,"unmounted")},m)},H=w=>{const{type:x,el:m,anchor:E,transition:C}=w;if(x===Ae){F(m,E);return}if(x===Es){S(w);return}const k=()=>{i(m),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(w.shapeFlag&1&&C&&!C.persisted){const{leave:z,delayLeave:X}=C,K=()=>z(m,k);X?X(w.el,k,K):K()}else k()},F=(w,x)=>{let m;for(;w!==x;)m=f(w),i(w),w=m;i(x)},V=(w,x,m)=>{const{bum:E,scope:C,job:k,subTree:z,um:X,m:K,a:G,parent:ne,slots:{__:te}}=w;$u(K),$u(G),E&&so(E),ne&&me(te)&&te.forEach(re=>{ne.renderCache[re]=void 0}),C.stop(),k&&(k.flags|=8,fe(z,w,x,m)),X&&ct(X,x),ct(()=>{w.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},J=(w,x,m,E=!1,C=!1,k=0)=>{for(let z=k;z<w.length;z++)fe(w[z],x,m,E,C)},P=w=>{if(w.shapeFlag&6)return P(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const x=f(w.anchor||w.el),m=x&&x[ah];return m?f(m):x};let R=!1;const $=(w,x,m)=>{w==null?x._vnode&&fe(x._vnode,null,null,!0):y(x._vnode||null,w,x,null,null,null,m),x._vnode=w,R||(R=!0,Eu(),ih(),R=!1)},B={p:y,um:fe,m:ae,r:H,mt:I,mc:N,pc:Q,pbc:M,n:P,o:e};return{render:$,hydrate:void 0,createApp:Zv($)}}function bs({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function jn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ql(e,t,n=!1){const r=e.children,i=t.children;if(me(r)&&me(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=En(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&ql(s,a)),a.type===Jo&&(a.el=s.el),a.type===fn&&!a.el&&(a.el=s.el)}}function um(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function Ah(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ah(t)}function $u(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cm=Symbol.for("v-scx"),dm=()=>ze(cm);function fm(e,t){return Gl(e,null,t)}function we(e,t,n){return Gl(e,t,n)}function Gl(e,t,n=Re){const{immediate:r,deep:i,flush:o,once:s}=n,a=at({},n),l=t&&r||!t&&o!=="post";let c;if(ki){if(o==="sync"){const h=dm();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Ht,h.resume=Ht,h.pause=Ht,h}}const u=et;a.call=(h,g,y)=>Gt(h,u,g,y);let d=!1;o==="post"?a.scheduler=h=>{ct(h,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():zl(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=Pv(e,t,a);return ki&&(c?c.push(f):l&&f()),f}function hm(e,t,n){const r=this.proxy,i=Fe(e)?e.includes(".")?$h(r,e):()=>r[e]:e.bind(r,r);let o;_e(t)?o=t:(o=t.handler,n=t);const s=ji(this),a=Gl(i,o.bind(r),n);return s(),a}function $h(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const pm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${St(t)}Modifiers`]||e[`${er(t)}Modifiers`];function gm(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Re;let i=n;const o=t.startsWith("update:"),s=o&&pm(r,t.slice(7));s&&(s.trim&&(i=n.map(u=>Fe(u)?u.trim():u)),s.number&&(i=n.map(vo)));let a,l=r[a=gs(t)]||r[a=gs(St(t))];!l&&o&&(l=r[a=gs(er(t))]),l&&Gt(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Gt(c,e,6,i)}}function Rh(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!_e(e)){const l=c=>{const u=Rh(c,t,!0);u&&(a=!0,at(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Me(e)&&r.set(e,null),null):(me(o)?o.forEach(l=>s[l]=null):at(s,o),Me(e)&&r.set(e,s),s)}function Xo(e,t){return!e||!Bo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ie(e,t[0].toLowerCase()+t.slice(1))||Ie(e,er(t))||Ie(e,t))}function Ru(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:g,inheritAttrs:y}=e,p=bo(e);let b,_;try{if(n.shapeFlag&4){const S=i||r,A=S;b=Ft(c.call(A,S,u,d,h,f,g)),_=a}else{const S=t;b=Ft(S.length>1?S(d,{attrs:a,slots:s,emit:l}):S(d,null)),_=t.props?a:vm(a)}}catch(S){di.length=0,Wo(S,e,1),b=ve(fn)}let v=b;if(_&&y!==!1){const S=Object.keys(_),{shapeFlag:A}=v;S.length&&A&7&&(o&&S.some(Nl)&&(_=mm(_,o)),v=Nr(v,_,!1,!0))}return n.dirs&&(v=Nr(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Fl(v,n.transition),b=v,bo(p),b}const vm=e=>{let t;for(const n in e)(n==="class"||n==="style"||Bo(n))&&((t||(t={}))[n]=e[n]);return t},mm=(e,t)=>{const n={};for(const r in e)(!Nl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ym(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Mu(r,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!Xo(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Mu(r,s,c):!0:!!s;return!1}function Mu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Xo(n,o))return!0}return!1}function _m({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Mh=e=>e.__isSuspense;function wm(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Ov(e)}const Ae=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),Es=Symbol.for("v-stc"),di=[];let ft=null;function se(e=!1){di.push(ft=e?null:[])}function bm(){di.pop(),ft=di[di.length-1]||null}let Tr=1;function Du(e,t=!1){Tr+=e,e<0&&ft&&t&&(ft.hasOnce=!0)}function Dh(e){return e.dynamicChildren=Tr>0?ft||br:null,bm(),Tr>0&&ft&&ft.push(e),e}function pe(e,t,n,r,i,o){return Dh(ge(e,t,n,r,i,o,!0))}function Xe(e,t,n,r,i){return Dh(ve(e,t,n,r,i,!0))}function xi(e){return e?e.__v_isVNode===!0:!1}function Wr(e,t){return e.type===t.type&&e.key===t.key}const jh=({key:e})=>e??null,lo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Le(e)||_e(e)?{i:Ke,r:e,k:t,f:!!n}:e:null);function ge(e,t=null,n=null,r=0,i=null,o=e===Ae?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&jh(t),ref:t&&lo(t),scopeId:sh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ke};return a?(Wl(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Fe(n)?8:16),Tr>0&&!s&&ft&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ft.push(l),l}const ve=Em;function Em(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===gh)&&(e=fn),xi(e)){const a=Nr(e,t,!0);return n&&Wl(a,n),Tr>0&&!o&&ft&&(a.shapeFlag&6?ft[ft.indexOf(e)]=a:ft.push(a)),a.patchFlag=-2,a}if(Om(e)&&(e=e.__vccOpts),t){t=mr(t);let{class:a,style:l}=t;a&&!Fe(a)&&(t.class=It(a)),Me(l)&&(Bl(l)&&!me(l)&&(l=at({},l)),t.style=lt(l))}const s=Fe(e)?1:Mh(e)?128:Iv(e)?64:Me(e)?4:_e(e)?2:0;return ge(e,t,n,r,i,s,o,!0)}function mr(e){return e?Bl(e)||Ch(e)?at({},e):e:null}function Nr(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=e,c=t?Kl(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&jh(c),ref:t&&t.ref?n&&o?me(o)?o.concat(lo(t)):[o,lo(t)]:lo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nr(e.ssContent),ssFallback:e.ssFallback&&Nr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Fl(u,l.clone(u)),u}function Zo(e=" ",t=0){return ve(Jo,null,e,t)}function Ue(e="",t=!1){return t?(se(),Xe(fn,null,e)):ve(fn,null,e)}function Ft(e){return e==null||typeof e=="boolean"?ve(fn):me(e)?ve(Ae,null,e.slice()):xi(e)?En(e):ve(Jo,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Nr(e)}function Wl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Wl(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Ch(t)?t._ctx=Ke:i===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Ke},n=32):(t=String(t),r&64?(n=16,t=[Zo(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kl(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=It([t.class,r.class]));else if(i==="style")t.style=lt([t.style,r.style]);else if(Bo(i)){const o=t[i],s=r[i];s&&o!==s&&!(me(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Lt(e,t,n,r=null){Gt(e,t,7,[n,r])}const Sm=Sh();let xm=0;function km(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Sm,o={uid:xm++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Df(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Th(r,i),emitsOptions:Rh(r,i),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:r.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=gm.bind(null,o),e.ce&&e.ce(o),o}let et=null;const tr=()=>et||Ke;let So,Ja;{const e=Uo(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};So=t("__VUE_INSTANCE_SETTERS__",n=>et=n),Ja=t("__VUE_SSR_SETTERS__",n=>ki=n)}const ji=e=>{const t=et;return So(e),e.scope.on(),()=>{e.scope.off(),So(t)}},ju=()=>{et&&et.scope.off(),So(null)};function Lh(e){return e.vnode.shapeFlag&4}let ki=!1;function Cm(e,t=!1,n=!1){t&&Ja(t);const{props:r,children:i}=e.vnode,o=Lh(e);em(e,r,o,t),im(e,i,n||t);const s=o?Pm(e,t):void 0;return t&&Ja(!1),s}function Pm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vv);const{setup:r}=n;if(r){un();const i=e.setupContext=r.length>1?zh(e):null,o=ji(e),s=Di(r,e,0,[e.props,i]),a=Of(s);if(cn(),o(),(a||e.sp)&&!xr(e)&&ch(e),a){if(s.then(ju,ju),t)return s.then(l=>{Lu(e,l)}).catch(l=>{Wo(l,e,0)});e.asyncDep=s}else Lu(e,s)}else Bh(e)}function Lu(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Qf(t)),Bh(e)}function Bh(e,t,n){const r=e.type;e.render||(e.render=r.render||Ht);{const i=ji(e);un();try{Gv(e)}finally{cn(),i()}}}const Tm={get(e,t){return st(e,"get",""),e[t]}};function zh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Tm),slots:e.slots,emit:e.emit,expose:t}}function Qo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Qf(Nn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ci)return ci[n](e)},has(t,n){return n in t||n in ci}})):e.proxy}function Nm(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function Om(e){return _e(e)&&"__vccOpts"in e}const le=(e,t)=>kv(e,t,ki);function ke(e,t,n){const r=arguments.length;return r===2?Me(t)&&!me(t)?xi(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xi(n)&&(n=[n]),ve(e,t,n))}function Im(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(ln(n[r],t[r]))return!1;return Tr>0&&ft&&ft.push(e),!0}const Am="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Za;const Bu=typeof window<"u"&&window.trustedTypes;if(Bu)try{Za=Bu.createPolicy("vue",{createHTML:e=>e})}catch{}const Fh=Za?e=>Za.createHTML(e):e=>e,$m="http://www.w3.org/2000/svg",Rm="http://www.w3.org/1998/Math/MathML",Qt=typeof document<"u"?document:null,zu=Qt&&Qt.createElement("template"),Mm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Qt.createElementNS($m,e):t==="mathml"?Qt.createElementNS(Rm,e):n?Qt.createElement(e,{is:n}):Qt.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{zu.innerHTML=Fh(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=zu.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Dm=Symbol("_vtc");function jm(e,t,n){const r=e[Dm];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Fu=Symbol("_vod"),Lm=Symbol("_vsh"),Bm=Symbol(""),zm=/(^|;)\s*display\s*:/;function Fm(e,t,n){const r=e.style,i=Fe(n);let o=!1;if(n&&!i){if(t)if(Fe(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&uo(r,a,"")}else for(const s in t)n[s]==null&&uo(r,s,"");for(const s in n)s==="display"&&(o=!0),uo(r,s,n[s])}else if(i){if(t!==n){const s=r[Bm];s&&(n+=";"+s),r.cssText=n,o=zm.test(n)}}else t&&e.removeAttribute("style");Fu in e&&(e[Fu]=o?r.display:"",e[Lm]&&(r.display="none"))}const Uu=/\s*!important$/;function uo(e,t,n){if(me(n))n.forEach(r=>uo(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Um(e,t);Uu.test(n)?e.setProperty(er(r),n.replace(Uu,""),"important"):e[r]=n}}const Vu=["Webkit","Moz","ms"],Ss={};function Um(e,t){const n=Ss[t];if(n)return n;let r=St(t);if(r!=="filter"&&r in e)return Ss[t]=r;r=Fo(r);for(let i=0;i<Vu.length;i++){const o=Vu[i]+r;if(o in e)return Ss[t]=o}return t}const Hu="http://www.w3.org/1999/xlink";function qu(e,t,n,r,i,o=Jg(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Hu,t.slice(6,t.length)):e.setAttributeNS(Hu,t,n):n==null||o&&!$f(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Ot(n)?String(n):n)}function Gu(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Fh(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=$f(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function rn(e,t,n,r){e.addEventListener(t,n,r)}function Vm(e,t,n,r){e.removeEventListener(t,n,r)}const Wu=Symbol("_vei");function Hm(e,t,n,r,i=null){const o=e[Wu]||(e[Wu]={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=qm(t);if(r){const c=o[t]=Km(r,i);rn(e,a,c,l)}else s&&(Vm(e,a,s,l),o[t]=void 0)}}const Ku=/(?:Once|Passive|Capture)$/;function qm(e){let t;if(Ku.test(e)){t={};let r;for(;r=e.match(Ku);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):er(e.slice(2)),t]}let xs=0;const Gm=Promise.resolve(),Wm=()=>xs||(Gm.then(()=>xs=0),xs=Date.now());function Km(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Gt(Ym(r,n.value),t,5,[r])};return n.value=e,n.attached=Wm(),n}function Ym(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Yu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xm=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?jm(e,r,s):t==="style"?Fm(e,n,r):Bo(t)?Nl(t)||Hm(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jm(e,t,r,s))?(Gu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qu(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(r))?Gu(e,St(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),qu(e,t,r,s))};function Jm(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yu(t)&&_e(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yu(t)&&Fe(n)?!1:t in e}const In=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>so(t,n):t};function Zm(e){e.target.composing=!0}function Xu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Et=Symbol("_assign"),Ju={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Et]=In(i);const o=r||i.props&&i.props.type==="number";rn(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=vo(a)),e[Et](a)}),n&&rn(e,"change",()=>{e.value=e.value.trim()}),t||(rn(e,"compositionstart",Zm),rn(e,"compositionend",Xu),rn(e,"change",Xu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[Et]=In(s),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?vo(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Qm={deep:!0,created(e,t,n){e[Et]=In(n),rn(e,"change",()=>{const r=e._modelValue,i=Or(e),o=e.checked,s=e[Et];if(me(r)){const a=Al(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const c=[...r];c.splice(a,1),s(c)}}else if(Br(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Vh(e,o))})},mounted:Zu,beforeUpdate(e,t,n){e[Et]=In(n),Zu(e,t,n)}};function Zu(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(me(t))i=Al(t,r.props.value)>-1;else if(Br(t))i=t.has(r.props.value);else{if(t===n)return;i=Xn(t,Vh(e,!0))}e.checked!==i&&(e.checked=i)}const ey={created(e,{value:t},n){e.checked=Xn(t,n.props.value),e[Et]=In(n),rn(e,"change",()=>{e[Et](Or(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Et]=In(r),t!==n&&(e.checked=Xn(t,r.props.value))}},Uh={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Br(t);rn(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?vo(Or(s)):Or(s));e[Et](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,Ve(()=>{e._assigning=!1})}),e[Et]=In(r)},mounted(e,{value:t}){Qu(e,t)},beforeUpdate(e,t,n){e[Et]=In(n)},updated(e,{value:t}){e._assigning||Qu(e,t)}};function Qu(e,t){const n=e.multiple,r=me(t);if(!(n&&!r&&!Br(t))){for(let i=0,o=e.options.length;i<o;i++){const s=e.options[i],a=Or(s);if(n)if(r){const l=typeof a;l==="string"||l==="number"?s.selected=t.some(c=>String(c)===String(a)):s.selected=Al(t,a)>-1}else s.selected=t.has(a);else if(Xn(Or(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Or(e){return"_value"in e?e._value:e.value}function Vh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ty={created(e,t,n){Wi(e,t,n,null,"created")},mounted(e,t,n){Wi(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Wi(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Wi(e,t,n,r,"updated")}};function ny(e,t){switch(e){case"SELECT":return Uh;case"TEXTAREA":return Ju;default:switch(t){case"checkbox":return Qm;case"radio":return ey;default:return Ju}}}function Wi(e,t,n,r,i){const s=ny(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}const ry=["ctrl","shift","alt","meta"],iy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ry.some(n=>e[`${n}Key`]&&!t.includes(n))},oy=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<t.length;s++){const a=iy[t[s]];if(a&&a(i,t))return}return e(i,...o)})},sy=at({patchProp:Xm},Mm);let ec;function ay(){return ec||(ec=sm(sy))}const ly=(...e)=>{const t=ay().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=cy(r);if(!i)return;const o=t._component;!_e(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,uy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function uy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cy(e){return Fe(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Hh;const es=e=>Hh=e,qh=Symbol();function Qa(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var fi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(fi||(fi={}));function dy(){const e=Vo(!0),t=e.run(()=>he({}));let n=[],r=[];const i=Nn({install(o){es(i),i._a=o,o.provide(qh,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Gh=()=>{};function tc(e,t,n,r=Gh){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&Ho()&&oi(i),i}function ir(e,...t){e.slice().forEach(n=>{n(...t)})}const fy=e=>e(),nc=Symbol(),ks=Symbol();function el(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Qa(i)&&Qa(r)&&e.hasOwnProperty(n)&&!Le(r)&&!Tn(r)?e[n]=el(i,r):e[n]=r}return e}const hy=Symbol();function py(e){return!Qa(e)||!Object.prototype.hasOwnProperty.call(e,hy)}const{assign:yn}=Object;function gy(e){return!!(Le(e)&&e.effect)}function vy(e,t,n,r){const{state:i,actions:o,getters:s}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=i?i():{});const u=eh(n.state.value[e]);return yn(u,o,Object.keys(s||{}).reduce((d,f)=>(d[f]=Nn(le(()=>{es(n);const h=n._s.get(e);return s[f].call(h,h)})),d),{}))}return l=Wh(e,c,t,n,r,!0),l}function Wh(e,t,n={},r,i,o){let s;const a=yn({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const g=r.state.value[e];!o&&!g&&(r.state.value[e]={}),he({});let y;function p(N){let T;c=u=!1,typeof N=="function"?(N(r.state.value[e]),T={type:fi.patchFunction,storeId:e,events:h}):(el(r.state.value[e],N),T={type:fi.patchObject,payload:N,storeId:e,events:h});const M=y=Symbol();Ve().then(()=>{y===M&&(c=!0)}),u=!0,ir(d,T,r.state.value[e])}const b=o?function(){const{state:T}=n,M=T?T():{};this.$patch(D=>{yn(D,M)})}:Gh;function _(){s.stop(),d=[],f=[],r._s.delete(e)}const v=(N,T="")=>{if(nc in N)return N[ks]=T,N;const M=function(){es(r);const D=Array.from(arguments),O=[],Z=[];function I(W){O.push(W)}function Y(W){Z.push(W)}ir(f,{args:D,name:M[ks],store:A,after:I,onError:Y});let L;try{L=N.apply(this&&this.$id===e?this:A,D)}catch(W){throw ir(Z,W),W}return L instanceof Promise?L.then(W=>(ir(O,W),W)).catch(W=>(ir(Z,W),Promise.reject(W))):(ir(O,L),L)};return M[nc]=!0,M[ks]=T,M},S={_p:r,$id:e,$onAction:tc.bind(null,f),$patch:p,$reset:b,$subscribe(N,T={}){const M=tc(d,N,T.detached,()=>D()),D=s.run(()=>we(()=>r.state.value[e],O=>{(T.flush==="sync"?u:c)&&N({storeId:e,type:fi.direct,events:h},O)},yn({},l,T)));return M},$dispose:_},A=zr(S);r._s.set(e,A);const U=(r._a&&r._a.runWithContext||fy)(()=>r._e.run(()=>(s=Vo()).run(()=>t({action:v}))));for(const N in U){const T=U[N];if(Le(T)&&!gy(T)||Tn(T))o||(g&&py(T)&&(Le(T)?T.value=g[N]:el(T,g[N])),r.state.value[e][N]=T);else if(typeof T=="function"){const M=v(T,N);U[N]=M,a.actions[N]=T}}return yn(A,U),yn(Pe(A),U),Object.defineProperty(A,"$state",{get:()=>r.state.value[e],set:N=>{p(T=>{yn(T,N)})}}),r._p.forEach(N=>{yn(A,s.run(()=>N({store:A,app:r._a,pinia:r,options:a})))}),g&&o&&n.hydrate&&n.hydrate(A.$state,g),c=!0,u=!0,A}/*! #__NO_SIDE_EFFECTS__ */function my(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function o(s,a){const l=Qv();return s=s||(l?ze(qh,null):null),s&&es(s),s=Hh,s._s.has(e)||(i?Wh(e,t,r,s):vy(e,r,s)),s._s.get(e)}return o.$id=e,o}const yy="modulepreload",_y=function(e){return"/"+e},rc={},Fr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=l(n.map(c=>{if(c=_y(c),c in rc)return;rc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yy,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},wy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Yl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class by extends Yl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ic extends Yl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class oc extends Yl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tl||(tl={}));var Ey=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Sy{constructor(t,{headers:n={},customFetch:r,region:i=tl.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=wy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ey(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(y=>{throw new by(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ic(d);if(!d.ok)throw new oc(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof oc||i instanceof ic?i.context:void 0}}})}}function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xy(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ze={},or={},sr={},ar={},lr={},ur={},ky=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ir=ky();const Cy=Ir.fetch,Yh=Ir.fetch.bind(Ir),Xh=Ir.Headers,Py=Ir.Request,Ty=Ir.Response,Ur=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xh,Request:Py,Response:Ty,default:Yh,fetch:Cy},Symbol.toStringTag,{value:"Module"})),Ny=xy(Ur);var Ki={},sc;function Jh(){if(sc)return Ki;sc=1,Object.defineProperty(Ki,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ki.default=e,Ki}var ac;function Zh(){if(ac)return ur;ac=1;var e=ur&&ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ur,"__esModule",{value:!0});const t=e(Ny),n=e(Jh());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,s){return this.headers=Object.assign({},this.headers),this.headers[o]=s,this}then(o,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f;let h=null,g=null,y=null,p=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const A=await c.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=A:g=JSON.parse(A))}const v=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");v&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const v=await c.text();try{h=JSON.parse(v),Array.isArray(h)&&c.status===404&&(g=[],h=null,p=200,b="OK")}catch{c.status===404&&v===""?(p=204,b="No Content"):h={message:v}}if(h&&this.isMaybeSingle&&(!((f=h?.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,p=200,b="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:g,count:y,status:p,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(d=c?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,s)}returns(){return this}overrideTypes(){return this}}return ur.default=r,ur}var lc;function Qh(){if(lc)return lr;lc=1;var e=lr&&lr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lr,"__esModule",{value:!0});const t=e(Zh());class n extends t.default{select(i){let o=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,o?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return lr.default=n,lr}var uc;function Xl(){if(uc)return ar;uc=1;var e=ar&&ar.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ar,"__esModule",{value:!0});const t=e(Qh());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${l}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return ar.default=n,ar}var cc;function ep(){if(cc)return sr;cc=1;var e=sr&&sr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sr,"__esModule",{value:!0});const t=e(Xl());class n{constructor(i,{headers:o={},schema:s,fetch:a}){this.url=i,this.headers=o,this.schema=s,this.fetch=a}select(i,{head:o=!1,count:s}={}){const a=o?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:o,defaultToNull:s=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),o&&l.push(`count=${o}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:o}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),this.headers.Prefer=a.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const o="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sr.default=n,sr}var Kr={},Yr={},dc;function Oy(){return dc||(dc=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.version=void 0,Yr.version="0.0.0-automated"),Yr}var fc;function Iy(){if(fc)return Kr;fc=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.DEFAULT_HEADERS=void 0;const e=Oy();return Kr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Kr}var hc;function Ay(){if(hc)return or;hc=1;var e=or&&or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(or,"__esModule",{value:!0});const t=e(ep()),n=e(Xl()),r=Iy();class i{constructor(s,{headers:a={},schema:l,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${s}`);let h;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([y,p])=>p!==void 0).map(([y,p])=>[y,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([y,p])=>{f.searchParams.append(y,p)})):(d="POST",h=a);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new n.default({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return or.default=i,or}var pc;function $y(){if(pc)return Ze;pc=1;var e=Ze&&Ze.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const t=e(Ay());Ze.PostgrestClient=t.default;const n=e(ep());Ze.PostgrestQueryBuilder=n.default;const r=e(Xl());Ze.PostgrestFilterBuilder=r.default;const i=e(Qh());Ze.PostgrestTransformBuilder=i.default;const o=e(Zh());Ze.PostgrestBuilder=o.default;const s=e(Jh());return Ze.PostgrestError=s.default,Ze.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:s.default},Ze}var Ry=$y();const My=Kh(Ry),{PostgrestClient:Dy,PostgrestQueryBuilder:YP,PostgrestFilterBuilder:XP,PostgrestTransformBuilder:JP,PostgrestBuilder:ZP,PostgrestError:QP}=My;function jy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ly=jy(),By="2.11.15",zy=`realtime-js/${By}`,Fy="1.0.0",tp=1e4,Uy=1e3;var hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hi||(hi={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var nl;(function(e){e.websocket="websocket"})(nl||(nl={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class Vy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+i));s=s+i;const l=r.decode(t.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}let np=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const gc=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=Hy(s,e,t,i),o),{})},Hy=(e,t,n,r)=>{const i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?rp(o,s):rl(s)},rp=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Ky(t,n)}switch(e){case De.bool:return qy(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Gy(t);case De.json:case De.jsonb:return Wy(t);case De.timestamp:return Yy(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return rl(t);default:return rl(t)}},rl=e=>e,qy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ky=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>rp(t,a))}return e},Yy=e=>typeof e=="string"?e.replace(" ","T"):e,ip=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Cs{constructor(t,n,r={},i=tp){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vc||(vc={}));class pi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=pi.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pi.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const f=u.map(p=>p.presence_ref),h=d.map(p=>p.presence_ref),g=u.filter(p=>h.indexOf(p.presence_ref)<0),y=d.filter(p=>f.indexOf(p.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mc||(mc={}));var yc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yc||(yc={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Jl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cs(this,kt.join,this.params,this.timeout),this.rejoinTimer=new np(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new pi(this),this.broadcastEndpointURL=ip(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>t?.(en.CHANNEL_ERROR,u)),this._onClose(()=>t?.(en.CLOSED));const l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t?.(en.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f?.length)!==null&&d!==void 0?d:0,g=[];for(let y=0;y<h;y++){const p=f[y],{filter:{event:b,schema:_,table:v,filter:S}}=p,A=u&&u[y];if(A&&A.event===b&&A.schema===_&&A.table===v&&A.filter===S)g.push(Object.assign(Object.assign({},p),{id:A.id}));else{this.unsubscribe(),this.state=it.errored,t?.(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(en.SUBSCRIBED);return}}).receive("error",u=>{this.state=it.errored,t?.(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Cs(this,kt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cs(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=kt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,y,p;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(y=h.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var g,y,p,b,_,v;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const S=h.id,A=(g=h.filter)===null||g===void 0?void 0:g.event;return S&&((y=n.ids)===null||y===void 0?void 0:y.includes(S))&&(A==="*"||A?.toLocaleLowerCase()===((p=n.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const S=(_=(b=h?.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((v=n?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:p,commit_timestamp:b,type:_,errors:v}=g;f=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:b,eventType:_,new:{},old:{},errors:v}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Jl.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gc(t.columns,t.old_record)),n}}const _c=()=>{},Xy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jy{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new Vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>Fr(async()=>{const{default:l}=await Promise.resolve().then(()=>Ur);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${nl.websocket}`,this.httpEndpoint=ip(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new np(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ly),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fy}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hi.connecting:return Un.Connecting;case hi.open:return Un.Open;case hi.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Jl(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zy};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(kt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Uy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Xy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zy extends Zl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class il extends Zl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Qy=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},e_=()=>Qy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fr(()=>Promise.resolve().then(()=>Ur),void 0)).Response:Response}),ol=e=>{if(Array.isArray(e))return e.map(n=>ol(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=ol(r)}),t};var nr=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t_=(e,t,n)=>nr(void 0,void 0,void 0,function*(){const r=yield e_();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{t(new Zy(Ps(i),e.status||500))}).catch(i=>{t(new il(Ps(i),i))}):t(new il(Ps(e),e))}),n_=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Li(e,t,n,r,i,o){return nr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,n_(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>t_(l,a,r))})})}function xo(e,t,n,r){return nr(this,void 0,void 0,function*(){return Li(e,"GET",t,n,r)})}function Sn(e,t,n,r,i){return nr(this,void 0,void 0,function*(){return Li(e,"POST",t,r,i,n)})}function r_(e,t,n,r,i){return nr(this,void 0,void 0,function*(){return Li(e,"PUT",t,r,i,n)})}function i_(e,t,n,r){return nr(this,void 0,void 0,function*(){return Li(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sp(e,t,n,r,i){return nr(this,void 0,void 0,function*(){return Li(e,"DELETE",t,r,i,n)})}var pt=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const o_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s_{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=op(i)}uploadOrUpdate(t,n,r,i){return pt(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},wc),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Qe(o))return{data:null,error:o};throw o}})}upload(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return pt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:wc.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Qe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return pt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const o=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Zl("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}update(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return pt(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}copy(t,n,r){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Sn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return pt(this,void 0,void 0,function*(){try{const i=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}download(t,n){return pt(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield xo(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Qe(a))return{data:null,error:a};throw a}})}info(t){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ol(r),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}exists(t){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield i_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Qe(r)&&r instanceof il){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield sp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}list(t,n,r){return pt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},o_),n),{prefix:t||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const a_="2.7.1",l_={"X-Client-Info":`storage-js/${a_}`};var cr=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class u_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},l_),n),this.fetch=op(r)}listBuckets(){return cr(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}getBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return cr(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return cr(this,void 0,void 0,function*(){try{return{data:yield r_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield sp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}}class c_ extends u_{constructor(t,n={},r){super(t,n,r)}from(t){return new s_(this.url,this.headers,t,this.fetch)}}const d_="2.52.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const f_={"X-Client-Info":`supabase-js-${ei}/${d_}`},h_={headers:f_},p_={schema:"public"},g_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v_={};var m_=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const y_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yh:t=fetch,(...n)=>t(...n)},__=()=>typeof Headers>"u"?Xh:Headers,w_=(e,t,n)=>{const r=y_(n),i=__();return(o,s)=>m_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var b_=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function E_(e){return e.endsWith("/")?e:e+"/"}function S_(e,t){var n,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b_(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ap="2.71.1",yr=30*1e3,sl=3,Ts=sl*yr,x_="http://localhost:9999",k_="supabase.auth.token",C_={"X-Client-Info":`gotrue-js/${ap}`},al="X-Supabase-Api-Version",lp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T_=10*60*1e3;class Ql extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N_ extends Ql{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O_(e){return be(e)&&e.name==="AuthApiError"}class up extends Ql{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mn extends Ql{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class _n extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I_(e){return be(e)&&e.name==="AuthSessionMissingError"}class Yi extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xi extends Mn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ji extends Mn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A_(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class bc extends Mn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ll extends Mn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ns(e){return be(e)&&e.name==="AuthRetryableFetchError"}class Ec extends Mn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ul extends Mn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sc=` 	
\r=`.split(""),$_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sc.length;t+=1)e[Sc[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=t;return e})();function xc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ko[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ko[r]),t.queuedBits-=6}}function cp(e,t,n){const r=$_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kc(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{D_(s,r,n)};for(let s=0;s<e.length;s+=1)cp(e.charCodeAt(s),i,o);return t.join("")}function R_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}R_(r,t)}}function D_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function j_(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)cp(e.charCodeAt(i),n,r);return new Uint8Array(t)}function L_(e){const t=[];return M_(e,n=>t.push(n)),new Uint8Array(t)}function B_(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>xc(i,n,r)),xc(null,n,r),t.join("")}function z_(e){return Math.round(Date.now()/1e3)+e}function F_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Ln={tested:!1,writable:!1},dp=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function U_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const fp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},V_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_r=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(e,t)=>{await e.removeItem(t)};class ts{constructor(){this.promise=new ts.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ts.promiseConstructor=Promise;function Os(e){const t=e.split(".");if(t.length!==3)throw new ul("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!P_.test(t[r]))throw new ul("JWT not in base64url format");return{header:JSON.parse(kc(t[0])),payload:JSON.parse(kc(t[1])),signature:j_(t[2]),raw:{header:t[0],payload:t[1]}}}async function H_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q_(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function G_(e){return("0"+e.toString(16)).substr(-2)}function W_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,G_).join("")}async function K_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Y_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await K_(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dr(e,t,n=!1){const r=W_();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await _r(e,`${t}-code-verifier`,i);const o=await Y_(r);return[o,r===o?"plain":"s256"]}const X_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J_(e){const t=e.headers.get(al);if(!t||!t.match(X_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(e){if(!e0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Is(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cc(e){return JSON.parse(JSON.stringify(e))}var t0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n0=[502,503,504];async function Pc(e){var t;if(!V_(e))throw new ll(Fn(e),0);if(n0.includes(e.status))throw new ll(Fn(e),e.status);let n;try{n=await e.json()}catch(o){throw new up(Fn(o),o)}let r;const i=J_(e);if(i&&i.getTime()>=lp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ec(Fn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _n}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ec(Fn(n),e.status,n.weak_password.reasons);throw new N_(Fn(n),e.status||500,r)}const r0=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(e,t,n,r){var i;const o=Object.assign({},r?.headers);o[al]||(o[al]=lp["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await i0(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function i0(e,t,n,r,i,o){const s=r0(t,r,i,o);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new ll(Fn(l),0)}if(a.ok||await Pc(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Pc(l)}}function Zt(e){var t;let n=null;l0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=z_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Tc(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o0(e){return{data:e,error:null}}function s0(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=t0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function a0(e){return e}function l0(e){return e.access_token&&e.refresh_token&&e.expires_in}const As=["global","local","others"];var u0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class c0{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=As[0]){if(As.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${As.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=u0(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:s0,redirectTo:n?.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:a0});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(be(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){fr(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){fr(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Cn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){fr(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){fr(t.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){fr(t.userId),fr(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}}function Nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function d0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hr={debug:!!(globalThis&&dp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f0 extends hp{}async function h0(e,t,n){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new f0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}d0();const p0={url:x_,storageKey:k_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oc(e,t,n){return await n()}const pr={};class Ci{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},p0),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new c0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fp(i.fetch),this.lock=i.lock||Oc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=h0:this.lock=Oc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:dp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=pr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=pr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ap}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=U_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),A_(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?{error:n}:{error:new up("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zt}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await dr(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},xform:Zt})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f?.data)!==null&&r!==void 0?r:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt})}else throw new Xi("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:s,options:a}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Tc})}else if("phone"in t){const{phone:o,password:s,options:a}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Tc})}else throw new Xi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,o,s,a,l,c,u,d,f,h;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:p,wallet:b,statement:_,options:v}=t;let S;if(xt())if(typeof b=="object")S=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const A=new URL((n=v?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let U;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")U=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)U=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)g=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),y=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=v?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=v?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((s=v?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:p,error:b}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:B_(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zt});if(b)throw b;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Yi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:b})}catch(p){if(be(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(t){const n=await Bn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zt});if(await gn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(be(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=t,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Zt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,s;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await dr(this.storage,this.storageKey));const{error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Xi("You must provide either an email or phone number.")}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Zt});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await dr(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:o0})}catch(o){if(be(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _n;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:s}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:s,error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:a}}throw new Xi("You must provide either an email or phone number and a type")}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ts:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await Bn(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Is()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cn}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _n}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Cn})})}catch(n){if(be(n))return I_(n)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new _n;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await dr(this.storage,this.storageKey));const{data:c,error:u}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Cn});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=Os(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new _n;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xt())throw new Ji("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ji(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ji("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bc("No code detected.");const{data:_,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!s||!c)throw new Ji("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:p}=await this._getUser(o);if(p)throw p;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(O_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=F_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await dr(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(be(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(be(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q_(async i=>(i>0&&await H_(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Ns(o)&&Date.now()+s-r<yr})}catch(r){if(this._debug(n,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Bn(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Bn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await _r(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Is()}else if(i&&!i.user&&!i.user){const s=await Bn(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await gn(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,i)):i.user=Is()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ts;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ts}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ns(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ts;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new _n;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),be(o)){const s={session:null,error:o};return Ns(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _r(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cc(i);await _r(this.storage,this.storageKey,o)}else{const i=Cc(n);await _r(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yr}ms, refresh threshold is ${sl} ticks`),i<=sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await dr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Os(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+T_>i)return r;const{data:o,error:s}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};r=h.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=Os(r);n?.allowExpired||Z_(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:i,signature:s},error:null}}const u=Q_(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,L_(`${a}.${l}`)))throw new ul("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}Ci.nextInstanceID=0;const g0=Ci;class v0 extends g0{constructor(t){super(t)}}var m0=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class y0{constructor(t,n,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=E_(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:p_,realtime:v_,auth:Object.assign(Object.assign({},g_),{storageKey:c}),global:h_},d=S_(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=w_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Dy(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Sy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new c_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return m0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new v0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Jy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _0=(e,t,n)=>new y0(e,t,n);function w0(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}w0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b0={getItem:async e=>{const t=document.cookie.split("; ").find(n=>n.startsWith(`${e}=`));if(!t)return null;try{return atob(t.split("=")[1])}catch{return null}},setItem:async(e,t)=>{try{document.cookie=`${e}=${btoa(t)}; Path=/; Domain=.starthub.so; SameSite=Lax;`}catch(n){console.error("Failed to store session cookie",n)}},removeItem:async e=>{document.cookie=`${e}=; Path=/; Domain=.starthub.so; Max-Age=0`}},Tt=_0("https://smltnjrrzkmazvbrqbkq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtbHRuanJyemttYXp2YnJxYmtxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3ODk1NzcsImV4cCI6MjA1MjM2NTU3N30.2iz-ErTvlZ_o8rvYfFWWhlbo6RRTE0FWFlk7vQQkETg",{auth:{storage:b0,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{}}}),E0={class:"navbar"},S0={class:"navbar-buttons"},x0={key:0},k0=["src"],C0={key:0,class:"user-dropdown",style:{right:"1%"}},P0=Se({__name:"Navbar",props:{isLoggedIn:{type:String,required:!0}},setup(e){const t=he(!1),n=he(null),r=he(!1),i=he({}),o=he(""),s=he();function a(){r.value=!r.value}async function l(){r.value=!1,await Tt.auth.signOut(),n.value=null,s.value="Sign in to deploy",o.value=""}Je(async()=>{document.addEventListener("click",c);const{data:{session:d},error:f}=await Tt.auth.getSession();if(d&&d.user){if(console.info(d),!d.user?.is_anonymous){n.value=d.user,s.value="Deploy";const g=await(await fetch("https://smltnjrrzkmazvbrqbkq.supabase.co/functions/v1/profiles",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`}})).json();i.value=g,i.value.free_deployments_allowed_monthly===0?o.value="- Unlimited plan":o.value=`- ${i.value.deployment_count}/${i.value.free_deployments_allowed_monthly} deployments`}}else console.log("No user logged in"),s.value="Sign in to deploy"}),Yo(()=>{document.removeEventListener("click",c)});const c=d=>{d.target.closest(".search-container")||(t.value=!1)};document.addEventListener("keydown",d=>{d.key==="Escape"&&(t.value=!1)});const u=async()=>{await Tt.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.href}})};return(d,f)=>(se(),pe("div",E0,[f[0]||(f[0]=ge("div",{class:"navbar-brand"},[ge("a",{href:"https://starthub.so"},"Starthub")],-1)),ge("div",S0,[n.value?(se(),pe("div",x0,[ge("img",{src:n.value.user_metadata.avatar_url,alt:"GitHub Avatar",class:"avatar",onClick:a},null,8,k0),r.value?(se(),pe("ul",C0,[ge("li",{onClick:oy(l,["stop"])},"Logout")])):Ue("",!0)])):(se(),pe("a",{key:1,onClick:u,class:"login-button"},"Github sign in"))])]))}}),_t=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},T0=_t(P0,[["__scopeId","data-v-6c49c98b"]]),N0=Se({__name:"App",setup(e){return Je(async()=>{}),(t,n)=>{const r=Ul("RouterView");return se(),pe(Ae,null,[ve(T0,{"is-logged-in":"false"}),ve(r)],64)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const wr=typeof document<"u";function pp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function O0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&pp(e.default)}const Oe=Object.assign;function $s(e,t){const n={};for(const r in t){const i=t[r];n[r]=At(i)?i.map(e):e(i)}return n}const gi=()=>{},At=Array.isArray,gp=/#/g,I0=/&/g,A0=/\//g,$0=/=/g,R0=/\?/g,vp=/\+/g,M0=/%5B/g,D0=/%5D/g,mp=/%5E/g,j0=/%60/g,yp=/%7B/g,L0=/%7C/g,_p=/%7D/g,B0=/%20/g;function eu(e){return encodeURI(""+e).replace(L0,"|").replace(M0,"[").replace(D0,"]")}function z0(e){return eu(e).replace(yp,"{").replace(_p,"}").replace(mp,"^")}function cl(e){return eu(e).replace(vp,"%2B").replace(B0,"+").replace(gp,"%23").replace(I0,"%26").replace(j0,"`").replace(yp,"{").replace(_p,"}").replace(mp,"^")}function F0(e){return cl(e).replace($0,"%3D")}function U0(e){return eu(e).replace(gp,"%23").replace(R0,"%3F")}function V0(e){return e==null?"":U0(e).replace(A0,"%2F")}function Pi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const H0=/\/$/,q0=e=>e.replace(H0,"");function Rs(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=Y0(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Pi(s)}}function G0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ic(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function W0(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ar(t.matched[r],n.matched[i])&&wp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ar(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!K0(e[n],t[n]))return!1;return!0}function K0(e,t){return At(e)?Ac(e,t):At(t)?Ac(t,e):e===t}function Ac(e,t){return At(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Y0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ti;(function(e){e.pop="pop",e.push="push"})(Ti||(Ti={}));var vi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vi||(vi={}));function X0(e){if(!e)if(wr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),q0(e)}const J0=/^[^#]+#/;function Z0(e,t){return e.replace(J0,"#")+t}function Q0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ns=()=>({left:window.scrollX,top:window.scrollY});function ew(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Q0(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function $c(e,t){return(history.state?history.state.position-t:-1)+e}const dl=new Map;function tw(e,t){dl.set(e,t)}function nw(e){const t=dl.get(e);return dl.delete(e),t}let rw=()=>location.protocol+"//"+location.host;function bp(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ic(l,"")}return Ic(n,e)+r+i}function iw(e,t,n,r){let i=[],o=[],s=null;const a=({state:f})=>{const h=bp(e,location),g=n.value,y=t.value;let p=0;if(f){if(n.value=h,t.value=f,s&&s===g){s=null;return}p=y?f.position-y.position:0}else r(h);i.forEach(b=>{b(n.value,g,{delta:p,type:Ti.pop,direction:p?p>0?vi.forward:vi.back:vi.unknown})})};function l(){s=n.value}function c(f){i.push(f);const h=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return o.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Oe({},f.state,{scroll:ns()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Rc(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?ns():null}}function ow(e){const{history:t,location:n}=window,r={value:bp(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:rw()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function s(l,c){const u=Oe({},t.state,Rc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),r.value=l}function a(l,c){const u=Oe({},i.value,t.state,{forward:l,scroll:ns()});o(u.current,u,!0);const d=Oe({},Rc(r.value,l,null),{position:u.position+1},c);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function sw(e){e=X0(e);const t=ow(e),n=iw(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Oe({location:"",base:e,go:r,createHref:Z0.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function aw(e){return typeof e=="string"||e&&typeof e=="object"}function Ep(e){return typeof e=="string"||typeof e=="symbol"}const Sp=Symbol("");var Mc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Mc||(Mc={}));function $r(e,t){return Oe(new Error,{type:e,[Sp]:!0},t)}function Xt(e,t){return e instanceof Error&&Sp in e&&(t==null||!!(e.type&t))}const Dc="[^/]+?",lw={sensitive:!1,strict:!1,start:!0,end:!0},uw=/[.+*?^${}()[\]/\\]/g;function cw(e,t){const n=Oe({},lw,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(uw,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:y,optional:p,regexp:b}=f;o.push({name:g,repeatable:y,optional:p});const _=b||Dc;if(_!==Dc){h+=10;try{new RegExp(`(${_})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+S.message)}}let v=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(v=p&&c.length<2?`(?:/${v})`:"/"+v),p&&(v+="?"),i+=v,h+=20,p&&(h+=-8),y&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(s),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",g=o[f-1];d[g.name]=h&&g.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:y,optional:p}=h,b=g in c?c[g]:"";if(At(b)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=At(b)?b.join("/"):b;if(!_)if(p)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function dw(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function xp(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=dw(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(jc(r))return 1;if(jc(i))return-1}return i.length-r.length}function jc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fw={type:0,value:""},hw=/[a-zA-Z0-9_]/;function pw(e){if(!e)return[[]];if(e==="/")return[[fw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),s()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:hw.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),i}function gw(e,t,n){const r=cw(pw(e.path),n),i=Oe(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function vw(e,t){const n=[],r=new Map;t=Fc({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function o(d,f,h){const g=!h,y=Bc(d);y.aliasOf=h&&h.record;const p=Fc(t,d),b=[y];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of S)b.push(Bc(Oe({},y,{components:h?h.record.components:y.components,path:A,aliasOf:h?h.record:y})))}let _,v;for(const S of b){const{path:A}=S;if(f&&A[0]!=="/"){const j=f.record.path,U=j[j.length-1]==="/"?"":"/";S.path=f.record.path+(A&&U+A)}if(_=gw(S,f,p),h?h.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),g&&d.name&&!zc(_)&&s(d.name)),kp(_)&&l(_),y.children){const j=y.children;for(let U=0;U<j.length;U++)o(j[U],_,h&&h.children[U])}h=h||_}return v?()=>{s(v)}:gi}function s(d){if(Ep(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return n}function l(d){const f=_w(d,n);n.splice(f,0,d),d.record.name&&!zc(d)&&r.set(d.record.name,d)}function c(d,f){let h,g={},y,p;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw $r(1,{location:d});p=h.record.name,g=Oe(Lc(f.params,h.keys.filter(v=>!v.optional).concat(h.parent?h.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&Lc(d.params,h.keys.map(v=>v.name))),y=h.stringify(g)}else if(d.path!=null)y=d.path,h=n.find(v=>v.re.test(y)),h&&(g=h.parse(y),p=h.record.name);else{if(h=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!h)throw $r(1,{location:d,currentLocation:f});p=h.record.name,g=Oe({},f.params,d.params),y=h.stringify(g)}const b=[];let _=h;for(;_;)b.unshift(_.record),_=_.parent;return{name:p,path:y,params:g,matched:b,meta:yw(b)}}e.forEach(d=>o(d));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Lc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Bc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:mw(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function mw(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function zc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function yw(e){return e.reduce((t,n)=>Oe(t,n.meta),{})}function Fc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _w(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;xp(e,t[o])<0?r=o:n=o+1}const i=ww(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function ww(e){let t=e;for(;t=t.parent;)if(kp(t)&&xp(e,t)===0)return t}function kp({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function bw(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(vp," "),s=o.indexOf("="),a=Pi(s<0?o:o.slice(0,s)),l=s<0?null:Pi(o.slice(s+1));if(a in t){let c=t[a];At(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Uc(e){let t="";for(let n in e){const r=e[n];if(n=F0(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(At(r)?r.map(o=>o&&cl(o)):[r&&cl(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Ew(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=At(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Sw=Symbol(""),Vc=Symbol(""),rs=Symbol(""),tu=Symbol(""),fl=Symbol("");function Xr(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function xn(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l($r(4,{from:n,to:t})):f instanceof Error?l(f):aw(f)?l($r(2,{from:t,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),a())},u=o(()=>e.call(r&&r.instances[i],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Ms(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(pp(l)){const u=(l.__vccOpts||l)[t];u&&o.push(xn(u,n,r,s,a,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const d=O0(u)?u.default:u;s.mods[a]=u,s.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&xn(h,n,r,s,a,i)()}))}}return o}function Hc(e){const t=ze(rs),n=ze(tu),r=le(()=>{const l=ee(e.to);return t.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Ar.bind(null,u));if(f>-1)return f;const h=qc(l[c-2]);return c>1&&qc(u)===h&&d[d.length-1].path!==h?d.findIndex(Ar.bind(null,l[c-2])):f}),o=le(()=>i.value>-1&&Tw(n.params,r.value.params)),s=le(()=>i.value>-1&&i.value===n.matched.length-1&&wp(n.params,r.value.params));function a(l={}){if(Pw(l)){const c=t[ee(e.replace)?"replace":"push"](ee(e.to)).catch(gi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}function xw(e){return e.length===1?e[0]:e}const kw=Se({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Hc,setup(e,{slots:t}){const n=zr(Hc(e)),{options:r}=ze(rs),i=le(()=>({[Gc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Gc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&xw(t.default(n));return e.custom?o:ke("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Cw=kw;function Pw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Tw(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!At(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function qc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Gc=(e,t,n)=>e??t??n,Nw=Se({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ze(fl),i=le(()=>e.route||r.value),o=ze(Vc,0),s=le(()=>{let c=ee(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=le(()=>i.value.matched[s.value]);tt(Vc,le(()=>s.value+1)),tt(Sw,a),tt(fl,i);const l=he();return we(()=>[l.value,a.value,e.name],([c,u,d],[f,h,g])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ar(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return Wc(n.default,{Component:f,route:c});const h=d.props[u],g=h?h===!0?c.params:typeof h=="function"?h(c):h:null,p=ke(f,Oe({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Wc(n.default,{Component:p,route:c})||p}}});function Wc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ow=Nw;function Iw(e){const t=vw(e.routes,e),n=e.parseQuery||bw,r=e.stringifyQuery||Uc,i=e.history,o=Xr(),s=Xr(),a=Xr(),l=Ei(vn);let c=vn;wr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$s.bind(null,P=>""+P),d=$s.bind(null,V0),f=$s.bind(null,Pi);function h(P,R){let $,B;return Ep(P)?($=t.getRecordMatcher(P),B=R):B=P,t.addRoute(B,$)}function g(P){const R=t.getRecordMatcher(P);R&&t.removeRoute(R)}function y(){return t.getRoutes().map(P=>P.record)}function p(P){return!!t.getRecordMatcher(P)}function b(P,R){if(R=Oe({},R||l.value),typeof P=="string"){const m=Rs(n,P,R.path),E=t.resolve({path:m.path},R),C=i.createHref(m.fullPath);return Oe(m,E,{params:f(E.params),hash:Pi(m.hash),redirectedFrom:void 0,href:C})}let $;if(P.path!=null)$=Oe({},P,{path:Rs(n,P.path,R.path).path});else{const m=Oe({},P.params);for(const E in m)m[E]==null&&delete m[E];$=Oe({},P,{params:d(m)}),R.params=d(R.params)}const B=t.resolve($,R),q=P.hash||"";B.params=u(f(B.params));const w=G0(r,Oe({},P,{hash:z0(q),path:B.path})),x=i.createHref(w);return Oe({fullPath:w,hash:q,query:r===Uc?Ew(P.query):P.query||{}},B,{redirectedFrom:void 0,href:x})}function _(P){return typeof P=="string"?Rs(n,P,l.value.path):Oe({},P)}function v(P,R){if(c!==P)return $r(8,{from:R,to:P})}function S(P){return U(P)}function A(P){return S(Oe(_(P),{replace:!0}))}function j(P){const R=P.matched[P.matched.length-1];if(R&&R.redirect){const{redirect:$}=R;let B=typeof $=="function"?$(P):$;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=_(B):{path:B},B.params={}),Oe({query:P.query,hash:P.hash,params:B.path!=null?{}:P.params},B)}}function U(P,R){const $=c=b(P),B=l.value,q=P.state,w=P.force,x=P.replace===!0,m=j($);if(m)return U(Oe(_(m),{state:typeof m=="object"?Oe({},q,m.state):q,force:w,replace:x}),R||$);const E=$;E.redirectedFrom=R;let C;return!w&&W0(r,B,$)&&(C=$r(16,{to:E,from:B}),ae(B,B,!0,!1)),(C?Promise.resolve(C):M(E,B)).catch(k=>Xt(k)?Xt(k,2)?k:ie(k):Q(k,E,B)).then(k=>{if(k){if(Xt(k,2))return U(Oe({replace:x},_(k.to),{state:typeof k.to=="object"?Oe({},q,k.to.state):q,force:w}),R||E)}else k=O(E,B,!0,x,q);return D(E,B,k),k})}function N(P,R){const $=v(P,R);return $?Promise.reject($):Promise.resolve()}function T(P){const R=F.values().next().value;return R&&typeof R.runWithContext=="function"?R.runWithContext(P):P()}function M(P,R){let $;const[B,q,w]=Aw(P,R);$=Ms(B.reverse(),"beforeRouteLeave",P,R);for(const m of B)m.leaveGuards.forEach(E=>{$.push(xn(E,P,R))});const x=N.bind(null,P,R);return $.push(x),J($).then(()=>{$=[];for(const m of o.list())$.push(xn(m,P,R));return $.push(x),J($)}).then(()=>{$=Ms(q,"beforeRouteUpdate",P,R);for(const m of q)m.updateGuards.forEach(E=>{$.push(xn(E,P,R))});return $.push(x),J($)}).then(()=>{$=[];for(const m of w)if(m.beforeEnter)if(At(m.beforeEnter))for(const E of m.beforeEnter)$.push(xn(E,P,R));else $.push(xn(m.beforeEnter,P,R));return $.push(x),J($)}).then(()=>(P.matched.forEach(m=>m.enterCallbacks={}),$=Ms(w,"beforeRouteEnter",P,R,T),$.push(x),J($))).then(()=>{$=[];for(const m of s.list())$.push(xn(m,P,R));return $.push(x),J($)}).catch(m=>Xt(m,8)?m:Promise.reject(m))}function D(P,R,$){a.list().forEach(B=>T(()=>B(P,R,$)))}function O(P,R,$,B,q){const w=v(P,R);if(w)return w;const x=R===vn,m=wr?history.state:{};$&&(B||x?i.replace(P.fullPath,Oe({scroll:x&&m&&m.scroll},q)):i.push(P.fullPath,q)),l.value=P,ae(P,R,$,x),ie()}let Z;function I(){Z||(Z=i.listen((P,R,$)=>{if(!V.listening)return;const B=b(P),q=j(B);if(q){U(Oe(q,{replace:!0,force:!0}),B).catch(gi);return}c=B;const w=l.value;wr&&tw($c(w.fullPath,$.delta),ns()),M(B,w).catch(x=>Xt(x,12)?x:Xt(x,2)?(U(Oe(_(x.to),{force:!0}),B).then(m=>{Xt(m,20)&&!$.delta&&$.type===Ti.pop&&i.go(-1,!1)}).catch(gi),Promise.reject()):($.delta&&i.go(-$.delta,!1),Q(x,B,w))).then(x=>{x=x||O(B,w,!1),x&&($.delta&&!Xt(x,8)?i.go(-$.delta,!1):$.type===Ti.pop&&Xt(x,20)&&i.go(-1,!1)),D(B,w,x)}).catch(gi)}))}let Y=Xr(),L=Xr(),W;function Q(P,R,$){ie(P);const B=L.list();return B.length?B.forEach(q=>q(P,R,$)):console.error(P),Promise.reject(P)}function oe(){return W&&l.value!==vn?Promise.resolve():new Promise((P,R)=>{Y.add([P,R])})}function ie(P){return W||(W=!P,I(),Y.list().forEach(([R,$])=>P?$(P):R()),Y.reset()),P}function ae(P,R,$,B){const{scrollBehavior:q}=e;if(!wr||!q)return Promise.resolve();const w=!$&&nw($c(P.fullPath,0))||(B||!$)&&history.state&&history.state.scroll||null;return Ve().then(()=>q(P,R,w)).then(x=>x&&ew(x)).catch(x=>Q(x,P,R))}const fe=P=>i.go(P);let H;const F=new Set,V={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:y,resolve:b,options:e,push:S,replace:A,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:L.add,isReady:oe,install(P){const R=this;P.component("RouterLink",Cw),P.component("RouterView",Ow),P.config.globalProperties.$router=R,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ee(l)}),wr&&!H&&l.value===vn&&(H=!0,S(i.location).catch(q=>{}));const $={};for(const q in vn)Object.defineProperty($,q,{get:()=>l.value[q],enumerable:!0});P.provide(rs,R),P.provide(tu,Jf($)),P.provide(fl,l);const B=P.unmount;F.add(P),P.unmount=function(){F.delete(P),F.size<1&&(c=vn,Z&&Z(),Z=null,l.value=vn,H=!1,W=!1),B()}}};function J(P){return P.reduce((R,$)=>R.then(()=>T($)),Promise.resolve())}return V}function Aw(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(c=>Ar(c,a))?r.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(c=>Ar(c,l))||i.push(l))}return[n,r,i]}function Cp(){return ze(rs)}function Vr(e){return ze(tu)}const Co={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(e,{emit:t}){const n=t,r=e,i=_h(),o=he([]),s=le(()=>o.value.reduce((P,R)=>(P[~~R.id]=R)&&P,{})),a=le(()=>o.value.length),l=he(null),c=he(!1),u=he({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),d=he({splitter:null,timeoutId:null}),f=le(()=>({[`splitpanes splitpanes--${r.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":u.value.dragging})),h=()=>{document.addEventListener("mousemove",p,{passive:!1}),document.addEventListener("mouseup",b),"ontouchstart"in window&&(document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("touchend",b))},g=()=>{document.removeEventListener("mousemove",p,{passive:!1}),document.removeEventListener("mouseup",b),"ontouchstart"in window&&(document.removeEventListener("touchmove",p,{passive:!1}),document.removeEventListener("touchend",b))},y=(P,R)=>{const $=P.target.closest(".splitpanes__splitter");if($){const{left:B,top:q}=$.getBoundingClientRect(),{clientX:w,clientY:x}="ontouchstart"in window&&P.touches?P.touches[0]:P;u.value.cursorOffset=r.horizontal?x-q:w-B}h(),u.value.mouseDown=!0,u.value.activeSplitter=R},p=P=>{u.value.mouseDown&&(P.preventDefault(),u.value.dragging=!0,requestAnimationFrame(()=>{U(A(P)),V("resize",{event:P},!0)}))},b=P=>{u.value.dragging&&(window.getSelection().removeAllRanges(),V("resized",{event:P},!0)),u.value.mouseDown=!1,u.value.activeSplitter=null,setTimeout(()=>{u.value.dragging=!1,g()},100)},_=(P,R)=>{"ontouchstart"in window&&(P.preventDefault(),d.value.splitter===R?(clearTimeout(d.value.timeoutId),d.value.timeoutId=null,v(P,R),d.value.splitter=null):(d.value.splitter=R,d.value.timeoutId=setTimeout(()=>d.value.splitter=null,500))),u.value.dragging||V("splitter-click",{event:P,index:R},!0)},v=(P,R)=>{if(V("splitter-dblclick",{event:P,index:R},!0),r.maximizePanes){let $=0;o.value=o.value.map((B,q)=>(B.size=q===R?B.max:B.min,q!==R&&($+=B.min),B)),o.value[R].size-=$,V("pane-maximize",{event:P,index:R,pane:o.value[R]}),V("resized",{event:P,index:R},!0)}},S=(P,R)=>{V("pane-click",{event:P,index:s.value[R].index,pane:s.value[R]})},A=P=>{const R=l.value.getBoundingClientRect(),{clientX:$,clientY:B}="ontouchstart"in window&&P.touches?P.touches[0]:P;return{x:$-(r.horizontal?0:u.value.cursorOffset)-R.left,y:B-(r.horizontal?u.value.cursorOffset:0)-R.top}},j=P=>{P=P[r.horizontal?"y":"x"];const R=l.value[r.horizontal?"clientHeight":"clientWidth"];return r.rtl&&!r.horizontal&&(P=R-P),P*100/R},U=P=>{const R=u.value.activeSplitter;let $={prevPanesSize:T(R),nextPanesSize:M(R),prevReachedMinPanes:0,nextReachedMinPanes:0};const B=0+(r.pushOtherPanes?0:$.prevPanesSize),q=100-(r.pushOtherPanes?0:$.nextPanesSize),w=Math.max(Math.min(j(P),q),B);let x=[R,R+1],m=o.value[x[0]]||null,E=o.value[x[1]]||null;const C=m.max<100&&w>=m.max+$.prevPanesSize,k=E.max<100&&w<=100-(E.max+M(R+1));if(C||k){C?(m.size=m.max,E.size=Math.max(100-m.max-$.prevPanesSize-$.nextPanesSize,0)):(m.size=Math.max(100-E.max-$.prevPanesSize-M(R+1),0),E.size=E.max);return}if(r.pushOtherPanes){const z=N($,w);if(!z)return;({sums:$,panesToResize:x}=z),m=o.value[x[0]]||null,E=o.value[x[1]]||null}m!==null&&(m.size=Math.min(Math.max(w-$.prevPanesSize-$.prevReachedMinPanes,m.min),m.max)),E!==null&&(E.size=Math.min(Math.max(100-w-$.nextPanesSize-$.nextReachedMinPanes,E.min),E.max))},N=(P,R)=>{const $=u.value.activeSplitter,B=[$,$+1];return R<P.prevPanesSize+o.value[B[0]].min&&(B[0]=D($).index,P.prevReachedMinPanes=0,B[0]<$&&o.value.forEach((q,w)=>{w>B[0]&&w<=$&&(q.size=q.min,P.prevReachedMinPanes+=q.min)}),P.prevPanesSize=T(B[0]),B[0]===void 0)?(P.prevReachedMinPanes=0,o.value[0].size=o.value[0].min,o.value.forEach((q,w)=>{w>0&&w<=$&&(q.size=q.min,P.prevReachedMinPanes+=q.min)}),o.value[B[1]].size=100-P.prevReachedMinPanes-o.value[0].min-P.prevPanesSize-P.nextPanesSize,null):R>100-P.nextPanesSize-o.value[B[1]].min&&(B[1]=O($).index,P.nextReachedMinPanes=0,B[1]>$+1&&o.value.forEach((q,w)=>{w>$&&w<B[1]&&(q.size=q.min,P.nextReachedMinPanes+=q.min)}),P.nextPanesSize=M(B[1]-1),B[1]===void 0)?(P.nextReachedMinPanes=0,o.value.forEach((q,w)=>{w<a.value-1&&w>=$+1&&(q.size=q.min,P.nextReachedMinPanes+=q.min)}),o.value[B[0]].size=100-P.prevPanesSize-M(B[0]-1),null):{sums:P,panesToResize:B}},T=P=>o.value.reduce((R,$,B)=>R+(B<P?$.size:0),0),M=P=>o.value.reduce((R,$,B)=>R+(B>P+1?$.size:0),0),D=P=>[...o.value].reverse().find(R=>R.index<P&&R.size>R.min)||{},O=P=>o.value.find(R=>R.index>P+1&&R.size>R.min)||{},Z=()=>{var P;const R=Array.from(((P=l.value)==null?void 0:P.children)||[]);for(const $ of R){const B=$.classList.contains("splitpanes__pane"),q=$.classList.contains("splitpanes__splitter");!B&&!q&&($.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},I=(P,R,$=!1)=>{const B=P-1,q=document.createElement("div");q.classList.add("splitpanes__splitter"),$||(q.onmousedown=w=>y(w,B),typeof window<"u"&&"ontouchstart"in window&&(q.ontouchstart=w=>y(w,B)),q.onclick=w=>_(w,B+1)),q.ondblclick=w=>v(w,B+1),R.parentNode.insertBefore(q,R)},Y=P=>{P.onmousedown=void 0,P.onclick=void 0,P.ondblclick=void 0,P.remove()},L=()=>{var P;const R=Array.from(((P=l.value)==null?void 0:P.children)||[]);for(const B of R)B.className.includes("splitpanes__splitter")&&Y(B);let $=0;for(const B of R)B.className.includes("splitpanes__pane")&&(!$&&r.firstSplitter?I($,B,!0):$&&I($,B),$++)},W=({uid:P,...R})=>{const $=s.value[P];for(const[B,q]of Object.entries(R))$[B]=q},Q=P=>{var R;let $=-1;Array.from(((R=l.value)==null?void 0:R.children)||[]).some(B=>(B.className.includes("splitpanes__pane")&&$++,B.isSameNode(P.el))),o.value.splice($,0,{...P,index:$}),o.value.forEach((B,q)=>B.index=q),c.value&&Ve(()=>{L(),ie({addedPane:o.value[$]}),V("pane-add",{pane:o.value[$]})})},oe=P=>{const R=o.value.findIndex(B=>B.id===P);o.value[R].el=null;const $=o.value.splice(R,1)[0];o.value.forEach((B,q)=>B.index=q),Ve(()=>{L(),V("pane-remove",{pane:$}),ie({removedPane:{...$}})})},ie=(P={})=>{!P.addedPane&&!P.removedPane?fe():o.value.some(R=>R.givenSize!==null||R.min||R.max<100)?H(P):ae(),c.value&&V("resized")},ae=()=>{const P=100/a.value;let R=0;const $=[],B=[];for(const q of o.value)q.size=Math.max(Math.min(P,q.max),q.min),R-=q.size,q.size>=q.max&&$.push(q.id),q.size<=q.min&&B.push(q.id);R>.1&&F(R,$,B)},fe=()=>{let P=100;const R=[],$=[];let B=0;for(const w of o.value)P-=w.size,w.givenSize!==null&&B++,w.size>=w.max&&R.push(w.id),w.size<=w.min&&$.push(w.id);let q=100;if(P>.1){for(const w of o.value)w.givenSize===null&&(w.size=Math.max(Math.min(P/(a.value-B),w.max),w.min)),q-=w.size;q>.1&&F(q,R,$)}},H=({addedPane:P,removedPane:R}={})=>{let $=100/a.value,B=0;const q=[],w=[];(P?.givenSize??null)!==null&&($=(100-P.givenSize)/(a.value-1));for(const x of o.value)B-=x.size,x.size>=x.max&&q.push(x.id),x.size<=x.min&&w.push(x.id);if(!(Math.abs(B)<.1)){for(const x of o.value)P?.givenSize!==null&&P?.id===x.id||(x.size=Math.max(Math.min($,x.max),x.min)),B-=x.size,x.size>=x.max&&q.push(x.id),x.size<=x.min&&w.push(x.id);B>.1&&F(B,q,w)}},F=(P,R,$)=>{let B;P>0?B=P/(a.value-R.length):B=P/(a.value-$.length),o.value.forEach((q,w)=>{if(P>0&&!R.includes(q.id)){const x=Math.max(Math.min(q.size+B,q.max),q.min),m=x-q.size;P-=m,q.size=x}else if(!$.includes(q.id)){const x=Math.max(Math.min(q.size+B,q.max),q.min),m=x-q.size;P-=m,q.size=x}}),Math.abs(P)>.1&&Ve(()=>{c.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},V=(P,R=void 0,$=!1)=>{const B=R?.index??u.value.activeSplitter??null;n(P,{...R,...B!==null&&{index:B},...$&&B!==null&&{prevPane:o.value[B-(r.firstSplitter?1:0)],nextPane:o.value[B+(r.firstSplitter?0:1)]},panes:o.value.map(q=>({min:q.min,max:q.max,size:q.size}))})};we(()=>r.firstSplitter,()=>L()),Je(()=>{Z(),L(),ie(),V("ready"),c.value=!0}),Rn(()=>c.value=!1);const J=()=>{var P;return ke("div",{ref:l,class:f.value},(P=i.default)==null?void 0:P.call(i))};return tt("panes",o),tt("indexedPanes",s),tt("horizontal",le(()=>r.horizontal)),tt("requestUpdate",W),tt("onPaneAdd",Q),tt("onPaneRemove",oe),tt("onPaneClick",S),(P,R)=>(se(),Xe(vh(J)))}},Pn={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(e){var t;const n=e,r=ze("requestUpdate"),i=ze("onPaneAdd"),o=ze("horizontal"),s=ze("onPaneRemove"),a=ze("onPaneClick"),l=(t=tr())==null?void 0:t.uid,c=ze("indexedPanes"),u=le(()=>c.value[l]),d=he(null),f=le(()=>{const p=isNaN(n.size)||n.size===void 0?0:parseFloat(n.size);return Math.max(Math.min(p,g.value),h.value)}),h=le(()=>{const p=parseFloat(n.minSize);return isNaN(p)?0:p}),g=le(()=>{const p=parseFloat(n.maxSize);return isNaN(p)?100:p}),y=le(()=>{var p;return`${o.value?"height":"width"}: ${(p=u.value)==null?void 0:p.size}%`});return we(()=>f.value,p=>r({uid:l,size:p})),we(()=>h.value,p=>r({uid:l,min:p})),we(()=>g.value,p=>r({uid:l,max:p})),Je(()=>{i({id:l,el:d.value,min:h.value,max:g.value,givenSize:n.size===void 0?null:f.value,size:f.value})}),Rn(()=>s(l)),(p,b)=>(se(),pe("div",{ref_key:"paneEl",ref:d,class:"splitpanes__pane",onClick:b[0]||(b[0]=_=>ee(a)(_,p._.uid)),style:lt(y.value)},[bt(p.$slots,"default")],4))}};function is(e){return Ho()?(oi(e),!0):!1}function on(e){return typeof e=="function"?e():ee(e)}const $w=typeof window<"u"&&typeof document<"u",Rw=e=>typeof e<"u",Mw=Object.prototype.toString,Dw=e=>Mw.call(e)==="[object Object]",jw=()=>{};function Lw(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const Pp=e=>e();function Bw(e=Pp){const t=he(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:jl(t),pause:n,resume:r,eventFilter:i}}function Kc(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function zw(e,t,n={}){const{eventFilter:r=Pp,...i}=n;return we(e,Lw(r,t),i)}function gr(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:s,resume:a,isActive:l}=Bw(r);return{stop:zw(e,t,{...i,eventFilter:o}),pause:s,resume:a,isActive:l}}function Fw(e,t={}){if(!Le(e))return eh(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=bv(()=>({get(){return e.value[r]},set(i){var o;if((o=on(t.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const a=[...e.value];a[r]=i,e.value=a}else{const a={...e.value,[r]:i};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[r]=i}}));return n}function hl(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:g,throwOnTimeout:y}={}){let p=null;const _=[new Promise(v=>{p=we(e,S=>{d(S)!==t&&(p?.(),v(S))},{flush:f,deep:h,immediate:!0})})];return g!=null&&_.push(Kc(g,y).then(()=>on(e)).finally(()=>p?.())),Promise.race(_)}function r(d,f){if(!Le(d))return n(S=>S===d,f);const{flush:h="sync",deep:g=!1,timeout:y,throwOnTimeout:p}=f??{};let b=null;const v=[new Promise(S=>{b=we([e,d],([A,j])=>{t!==(A===j)&&(b?.(),S(A))},{flush:h,deep:g,immediate:!0})})];return y!=null&&v.push(Kc(y,p).then(()=>on(e)).finally(()=>(b?.(),on(e)))),Promise.race(v)}function i(d){return n(f=>!!f,d)}function o(d){return r(null,d)}function s(d){return r(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(h=>{const g=Array.from(h);return g.includes(d)||g.includes(on(d))},f)}function c(d){return u(1,d)}function u(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(on(e))?{toMatch:n,toContains:l,changed:c,changedTimes:u,get not(){return hl(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:a,toBeUndefined:s,changed:c,changedTimes:u,get not(){return hl(e,!t)}}}function pl(e){return hl(e)}function Uw(e){var t;const n=on(e);return(t=n?.$el)!=null?t:n}const Tp=$w?window:void 0;function Np(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Tp):[t,n,r,i]=e,!t)return jw;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(u=>u()),o.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=we(()=>[Uw(t),on(i)],([u,d])=>{if(s(),!u)return;const f=Dw(d)?{...d}:d;o.push(...n.flatMap(h=>r.map(g=>a(u,h,g,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return is(c),c}function Vw(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Yc(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Tp,eventName:o="keydown",passive:s=!1,dedupe:a=!1}=r,l=Vw(t);return Np(i,o,u=>{u.repeat&&on(a)||l(u)&&n(u)},s)}function Hw(e){return JSON.parse(JSON.stringify(e))}function Ds(e,t,n,r={}){var i,o,s;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,h=tr(),g=n||h?.emit||((i=h?.$emit)==null?void 0:i.bind(h))||((s=(o=h?.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(h?.proxy));let y=c;t||(t="modelValue"),y=y||`update:${t.toString()}`;const p=v=>a?typeof a=="function"?a(v):Hw(v):v,b=()=>Rw(e[t])?p(e[t]):d,_=v=>{f?f(v)&&g(y,v):g(y,v)};if(l){const v=b(),S=he(v);let A=!1;return we(()=>e[t],j=>{A||(A=!0,S.value=p(j),Ve(()=>A=!1))}),we(S,j=>{!A&&(j!==e[t]||u)&&_(j)},{deep:u}),S}else return le({get(){return b()},set(v){_(v)}})}var qw={value:()=>{}};function os(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new co(n)}function co(e){this._=e}function Gw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}co.prototype=os.prototype={constructor:co,on:function(e,t){var n=this._,r=Gw(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Ww(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Xc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Xc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new co(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ww(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Xc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=qw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var gl="http://www.w3.org/1999/xhtml";const Jc={svg:"http://www.w3.org/2000/svg",xhtml:gl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ss(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jc.hasOwnProperty(t)?{space:Jc[t],local:e}:e}function Kw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gl&&t.documentElement.namespaceURI===gl?t.createElement(e):t.createElementNS(n,e)}}function Yw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Op(e){var t=ss(e);return(t.local?Yw:Kw)(t)}function Xw(){}function nu(e){return e==null?Xw:function(){return this.querySelector(e)}}function Jw(e){typeof e!="function"&&(e=nu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new yt(r,this._parents)}function Zw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qw(){return[]}function Ip(e){return e==null?Qw:function(){return this.querySelectorAll(e)}}function eb(e){return function(){return Zw(e.apply(this,arguments))}}function tb(e){typeof e=="function"?e=eb(e):e=Ip(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new yt(r,i)}function Ap(e){return function(){return this.matches(e)}}function $p(e){return function(t){return t.matches(e)}}var nb=Array.prototype.find;function rb(e){return function(){return nb.call(this.children,e)}}function ib(){return this.firstElementChild}function ob(e){return this.select(e==null?ib:rb(typeof e=="function"?e:$p(e)))}var sb=Array.prototype.filter;function ab(){return Array.from(this.children)}function lb(e){return function(){return sb.call(this.children,e)}}function ub(e){return this.selectAll(e==null?ab:lb(typeof e=="function"?e:$p(e)))}function cb(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new yt(r,this._parents)}function Rp(e){return new Array(e.length)}function db(){return new yt(this._enter||this._groups.map(Rp),this._parents)}function Po(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Po.prototype={constructor:Po,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fb(e){return function(){return e}}function hb(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Po(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function pb(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new Po(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function gb(e){return e.__data__}function vb(e,t){if(!arguments.length)return Array.from(this,gb);var n=t?pb:hb,r=this._parents,i=this._groups;typeof e!="function"&&(e=fb(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=mb(e.call(u,u&&u.__data__,c,r)),g=h.length,y=a[c]=new Array(g),p=s[c]=new Array(g),b=l[c]=new Array(f);n(u,d,y,p,b,h,t);for(var _=0,v=0,S,A;_<g;++_)if(S=y[_]){for(_>=v&&(v=_+1);!(A=p[v])&&++v<g;);S._next=A||null}}return s=new yt(s,r),s._enter=a,s._exit=l,s}function mb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yb(){return new yt(this._exit||this._groups.map(Rp),this._parents)}function _b(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function wb(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new yt(a,this._parents)}function bb(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Eb(e){e||(e=Sb);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new yt(i,this._parents).order()}function Sb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kb(){return Array.from(this)}function Cb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Pb(){let e=0;for(const t of this)++e;return e}function Tb(){return!this.node()}function Nb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Ob(e){return function(){this.removeAttribute(e)}}function Ib(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ab(e,t){return function(){this.setAttribute(e,t)}}function $b(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Rb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Mb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Db(e,t){var n=ss(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ib:Ob:typeof t=="function"?n.local?Mb:Rb:n.local?$b:Ab)(n,t))}function Mp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jb(e){return function(){this.style.removeProperty(e)}}function Lb(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bb(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function zb(e,t,n){return arguments.length>1?this.each((t==null?jb:typeof t=="function"?Bb:Lb)(e,t,n??"")):Rr(this.node(),e)}function Rr(e,t){return e.style.getPropertyValue(t)||Mp(e).getComputedStyle(e,null).getPropertyValue(t)}function Fb(e){return function(){delete this[e]}}function Ub(e,t){return function(){this[e]=t}}function Vb(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Hb(e,t){return arguments.length>1?this.each((t==null?Fb:typeof t=="function"?Vb:Ub)(e,t)):this.node()[e]}function Dp(e){return e.trim().split(/^|\s+/)}function ru(e){return e.classList||new jp(e)}function jp(e){this._node=e,this._names=Dp(e.getAttribute("class")||"")}jp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Lp(e,t){for(var n=ru(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Bp(e,t){for(var n=ru(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function qb(e){return function(){Lp(this,e)}}function Gb(e){return function(){Bp(this,e)}}function Wb(e,t){return function(){(t.apply(this,arguments)?Lp:Bp)(this,e)}}function Kb(e,t){var n=Dp(e+"");if(arguments.length<2){for(var r=ru(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Wb:t?qb:Gb)(n,t))}function Yb(){this.textContent=""}function Xb(e){return function(){this.textContent=e}}function Jb(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Zb(e){return arguments.length?this.each(e==null?Yb:(typeof e=="function"?Jb:Xb)(e)):this.node().textContent}function Qb(){this.innerHTML=""}function eE(e){return function(){this.innerHTML=e}}function tE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nE(e){return arguments.length?this.each(e==null?Qb:(typeof e=="function"?tE:eE)(e)):this.node().innerHTML}function rE(){this.nextSibling&&this.parentNode.appendChild(this)}function iE(){return this.each(rE)}function oE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sE(){return this.each(oE)}function aE(e){var t=typeof e=="function"?e:Op(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lE(){return null}function uE(e,t){var n=typeof e=="function"?e:Op(e),r=t==null?lE:typeof t=="function"?t:nu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cE(){var e=this.parentNode;e&&e.removeChild(this)}function dE(){return this.each(cE)}function fE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pE(e){return this.select(e?hE:fE)}function gE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vE(e){return function(t){e.call(this,t,this.__data__)}}function mE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function yE(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _E(e,t,n){return function(){var r=this.__on,i,o=vE(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function wE(e,t,n){var r=mE(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?_E:yE,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function zp(e,t,n){var r=Mp(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bE(e,t){return function(){return zp(this,e,t)}}function EE(e,t){return function(){return zp(this,e,t.apply(this,arguments))}}function SE(e,t){return this.each((typeof t=="function"?EE:bE)(e,t))}function*xE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Fp=[null];function yt(e,t){this._groups=e,this._parents=t}function Bi(){return new yt([[document.documentElement]],Fp)}function kE(){return this}yt.prototype=Bi.prototype={constructor:yt,select:Jw,selectAll:tb,selectChild:ob,selectChildren:ub,filter:cb,data:vb,enter:db,exit:yb,join:_b,merge:wb,selection:kE,order:bb,sort:Eb,call:xb,nodes:kb,node:Cb,size:Pb,empty:Tb,each:Nb,attr:Db,style:zb,property:Hb,classed:Kb,text:Zb,html:nE,raise:iE,lower:sE,append:aE,insert:uE,remove:dE,clone:pE,datum:gE,on:wE,dispatch:SE,[Symbol.iterator]:xE};function Ct(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Fp)}function CE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zt(e,t){if(e=CE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const PE={passive:!1},Ni={capture:!0,passive:!1};function js(e){e.stopImmediatePropagation()}function kr(e){e.preventDefault(),e.stopImmediatePropagation()}function Up(e){var t=e.document.documentElement,n=Ct(e).on("dragstart.drag",kr,Ni);"onselectstart"in t?n.on("selectstart.drag",kr,Ni):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vp(e,t){var n=e.document.documentElement,r=Ct(e).on("dragstart.drag",null);t&&(r.on("click.drag",kr,Ni),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zi=e=>()=>e;function vl(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}vl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function TE(e){return!e.ctrlKey&&!e.button}function NE(){return this.parentNode}function OE(e,t){return t??{x:e.x,y:e.y}}function IE(){return navigator.maxTouchPoints||"ontouchstart"in this}function AE(){var e=TE,t=NE,n=OE,r=IE,i={},o=os("start","drag","end"),s=0,a,l,c,u,d=0;function f(S){S.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",b,PE).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,A){if(!(u||!e.call(this,S,A))){var j=v(this,t.call(this,S,A),S,A,"mouse");j&&(Ct(S.view).on("mousemove.drag",g,Ni).on("mouseup.drag",y,Ni),Up(S.view),js(S),c=!1,a=S.clientX,l=S.clientY,j("start",S))}}function g(S){if(kr(S),!c){var A=S.clientX-a,j=S.clientY-l;c=A*A+j*j>d}i.mouse("drag",S)}function y(S){Ct(S.view).on("mousemove.drag mouseup.drag",null),Vp(S.view,c),kr(S),i.mouse("end",S)}function p(S,A){if(e.call(this,S,A)){var j=S.changedTouches,U=t.call(this,S,A),N=j.length,T,M;for(T=0;T<N;++T)(M=v(this,U,S,A,j[T].identifier,j[T]))&&(js(S),M("start",S,j[T]))}}function b(S){var A=S.changedTouches,j=A.length,U,N;for(U=0;U<j;++U)(N=i[A[U].identifier])&&(kr(S),N("drag",S,A[U]))}function _(S){var A=S.changedTouches,j=A.length,U,N;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),U=0;U<j;++U)(N=i[A[U].identifier])&&(js(S),N("end",S,A[U]))}function v(S,A,j,U,N,T){var M=o.copy(),D=zt(T||j,A),O,Z,I;if((I=n.call(S,new vl("beforestart",{sourceEvent:j,target:f,identifier:N,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:M}),U))!=null)return O=I.x-D[0]||0,Z=I.y-D[1]||0,function Y(L,W,Q){var oe=D,ie;switch(L){case"start":i[N]=Y,ie=s++;break;case"end":delete i[N],--s;case"drag":D=zt(Q||W,A),ie=s;break}M.call(L,S,new vl(L,{sourceEvent:W,subject:I,target:f,identifier:N,active:ie,x:D[0]+O,y:D[1]+Z,dx:D[0]-oe[0],dy:D[1]-oe[1],dispatch:M}),U)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Zi(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Zi(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Zi(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Zi(!!S),f):r},f.on=function(){var S=o.on.apply(o,arguments);return S===o?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function iu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hp(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zi(){}var Oi=.7,To=1/Oi,Cr="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$E=/^#([0-9a-f]{3,8})$/,RE=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),ME=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),DE=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Ii}\\)$`),jE=new RegExp(`^rgba\\(${qt},${qt},${qt},${Ii}\\)$`),LE=new RegExp(`^hsl\\(${Ii},${qt},${qt}\\)$`),BE=new RegExp(`^hsla\\(${Ii},${qt},${qt},${Ii}\\)$`),Zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iu(zi,Jn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qc,formatHex:Qc,formatHex8:zE,formatHsl:FE,formatRgb:ed,toString:ed});function Qc(){return this.rgb().formatHex()}function zE(){return this.rgb().formatHex8()}function FE(){return qp(this).formatHsl()}function ed(){return this.rgb().formatRgb()}function Jn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$E.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?td(t):n===3?new gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Qi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Qi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RE.exec(e))?new gt(t[1],t[2],t[3],1):(t=ME.exec(e))?new gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DE.exec(e))?Qi(t[1],t[2],t[3],t[4]):(t=jE.exec(e))?Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LE.exec(e))?id(t[1],t[2]/100,t[3]/100,1):(t=BE.exec(e))?id(t[1],t[2]/100,t[3]/100,t[4]):Zc.hasOwnProperty(e)?td(Zc[e]):e==="transparent"?new gt(NaN,NaN,NaN,0):null}function td(e){return new gt(e>>16&255,e>>8&255,e&255,1)}function Qi(e,t,n,r){return r<=0&&(e=t=n=NaN),new gt(e,t,n,r)}function UE(e){return e instanceof zi||(e=Jn(e)),e?(e=e.rgb(),new gt(e.r,e.g,e.b,e.opacity)):new gt}function ml(e,t,n,r){return arguments.length===1?UE(e):new gt(e,t,n,r??1)}function gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iu(gt,ml,Hp(zi,{brighter(e){return e=e==null?To:Math.pow(To,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oi:Math.pow(Oi,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gt(Kn(this.r),Kn(this.g),Kn(this.b),No(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nd,formatHex:nd,formatHex8:VE,formatRgb:rd,toString:rd}));function nd(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function VE(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function rd(){const e=No(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function No(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qn(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function id(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pt(e,t,n,r)}function qp(e){if(e instanceof Pt)return new Pt(e.h,e.s,e.l,e.opacity);if(e instanceof zi||(e=Jn(e)),!e)return new Pt;if(e instanceof Pt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Pt(s,a,l,e.opacity)}function HE(e,t,n,r){return arguments.length===1?qp(e):new Pt(e,t,n,r??1)}function Pt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iu(Pt,HE,Hp(zi,{brighter(e){return e=e==null?To:Math.pow(To,e),new Pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oi:Math.pow(Oi,e),new Pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gt(Ls(e>=240?e-240:e+120,i,r),Ls(e,i,r),Ls(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Pt(od(this.h),eo(this.s),eo(this.l),No(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=No(this.opacity);return`${e===1?"hsl(":"hsla("}${od(this.h)}, ${eo(this.s)*100}%, ${eo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function od(e){return e=(e||0)%360,e<0?e+360:e}function eo(e){return Math.max(0,Math.min(1,e||0))}function Ls(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ou=e=>()=>e;function qE(e,t){return function(n){return e+n*t}}function GE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function WE(e){return(e=+e)==1?Gp:function(t,n){return n-t?GE(t,n,e):ou(isNaN(t)?n:t)}}function Gp(e,t){var n=t-e;return n?qE(e,n):ou(isNaN(e)?t:e)}const Oo=function e(t){var n=WE(t);function r(i,o){var s=n((i=ml(i)).r,(o=ml(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Gp(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function KE(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function YE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XE(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=mi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function JE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ut(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ZE(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bs=new RegExp(yl.source,"g");function QE(e){return function(){return e}}function eS(e){return function(t){return e(t)+""}}function Wp(e,t){var n=yl.lastIndex=Bs.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=yl.exec(e))&&(i=Bs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ut(r,i)})),n=Bs.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?eS(l[0].x):QE(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function mi(e,t){var n=typeof t,r;return t==null||n==="boolean"?ou(t):(n==="number"?Ut:n==="string"?(r=Jn(t))?(t=r,Oo):Wp:t instanceof Jn?Oo:t instanceof Date?JE:YE(t)?KE:Array.isArray(t)?XE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZE:Ut)(e,t)}var sd=180/Math.PI,_l={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kp(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*sd,skewX:Math.atan(l)*sd,scaleX:s,scaleY:a}}var to;function tS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_l:Kp(t.a,t.b,t.c,t.d,t.e,t.f)}function nS(e){return e==null||(to||(to=document.createElementNS("http://www.w3.org/2000/svg","g")),to.setAttribute("transform",e),!(e=to.transform.baseVal.consolidate()))?_l:(e=e.matrix,Kp(e.a,e.b,e.c,e.d,e.e,e.f))}function Yp(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,h,g){if(c!==d||u!==f){var y=h.push("translate(",null,t,null,n);g.push({i:y-4,x:Ut(c,d)},{i:y-2,x:Ut(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ut(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ut(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,g){if(c!==d||u!==f){var y=h.push(i(h)+"scale(",null,",",null,")");g.push({i:y-4,x:Ut(c,d)},{i:y-2,x:Ut(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,y=f.length,p;++g<y;)d[(p=f[g]).i]=p.x(h);return d.join("")}}}var rS=Yp(tS,"px, ","px)","deg)"),iS=Yp(nS,", ",")",")"),oS=1e-12;function ad(e){return((e=Math.exp(e))+1/e)/2}function sS(e){return((e=Math.exp(e))-1/e)/2}function aS(e){return((e=Math.exp(2*e))-1)/(e+1)}const fo=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],d=s[1],f=s[2],h=u-a,g=d-l,y=h*h+g*g,p,b;if(y<oS)b=Math.log(f/c)/t,p=function(U){return[a+U*h,l+U*g,c*Math.exp(t*U*b)]};else{var _=Math.sqrt(y),v=(f*f-c*c+r*y)/(2*c*n*_),S=(f*f-c*c-r*y)/(2*f*n*_),A=Math.log(Math.sqrt(v*v+1)-v),j=Math.log(Math.sqrt(S*S+1)-S);b=(j-A)/t,p=function(U){var N=U*b,T=ad(A),M=c/(n*_)*(T*aS(t*N+A)-sS(A));return[a+M*h,l+M*g,c*T/ad(t*N+A)]}}return p.duration=b*1e3*t/Math.SQRT2,p}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var Mr=0,ti=0,Jr=0,Xp=1e3,Io,ni,Ao=0,Zn=0,as=0,Ai=typeof performance=="object"&&performance.now?performance:Date,Jp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function su(){return Zn||(Jp(lS),Zn=Ai.now()+as)}function lS(){Zn=0}function $o(){this._call=this._time=this._next=null}$o.prototype=Zp.prototype={constructor:$o,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?su():+n)+(t==null?0:+t),!this._next&&ni!==this&&(ni?ni._next=this:Io=this,ni=this),this._call=e,this._time=n,wl()},stop:function(){this._call&&(this._call=null,this._time=1/0,wl())}};function Zp(e,t,n){var r=new $o;return r.restart(e,t,n),r}function uS(){su(),++Mr;for(var e=Io,t;e;)(t=Zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mr}function ld(){Zn=(Ao=Ai.now())+as,Mr=ti=0;try{uS()}finally{Mr=0,dS(),Zn=0}}function cS(){var e=Ai.now(),t=e-Ao;t>Xp&&(as-=t,Ao=e)}function dS(){for(var e,t=Io,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Io=n);ni=e,wl(r)}function wl(e){if(!Mr){ti&&(ti=clearTimeout(ti));var t=e-Zn;t>24?(e<1/0&&(ti=setTimeout(ld,e-Ai.now()-as)),Jr&&(Jr=clearInterval(Jr))):(Jr||(Ao=Ai.now(),Jr=setInterval(cS,Xp)),Mr=1,Jp(ld))}}function ud(e,t,n){var r=new $o;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fS=os("start","end","cancel","interrupt"),hS=[],Qp=0,cd=1,bl=2,ho=3,dd=4,El=5,po=6;function ls(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;pS(e,n,{name:t,index:r,group:i,on:fS,tween:hS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qp})}function au(e,t){var n=Rt(e,t);if(n.state>Qp)throw new Error("too late; already scheduled");return n}function Kt(e,t){var n=Rt(e,t);if(n.state>ho)throw new Error("too late; already running");return n}function Rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function pS(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Zp(o,0,n.time);function o(c){n.state=cd,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,h;if(n.state!==cd)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===ho)return ud(s);h.state===dd?(h.state=po,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=po,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(ud(function(){n.state===ho&&(n.state=dd,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=bl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bl){for(n.state=ho,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=El,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===El&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=po,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function go(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>bl&&r.state<El,r.state=po,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function gS(e){return this.each(function(){go(this,e)})}function vS(e,t){var n,r;return function(){var i=Kt(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function mS(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Kt(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function yS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Rt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?vS:mS)(n,e,t))}function lu(e,t,n){var r=e._id;return e.each(function(){var i=Kt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Rt(i,r).value[t]}}function eg(e,t){var n;return(typeof t=="number"?Ut:t instanceof Jn?Oo:(n=Jn(t))?(t=n,Oo):Wp)(e,t)}function _S(e){return function(){this.removeAttribute(e)}}function wS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function ES(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function SS(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function xS(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function kS(e,t){var n=ss(e),r=n==="transform"?iS:eg;return this.attrTween(e,typeof t=="function"?(n.local?xS:SS)(n,r,lu(this,"attr."+e,t)):t==null?(n.local?wS:_S)(n):(n.local?ES:bS)(n,r,t))}function CS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function PS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function TS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&PS(e,o)),n}return i._value=t,i}function NS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&CS(e,o)),n}return i._value=t,i}function OS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ss(e);return this.tween(n,(r.local?TS:NS)(r,t))}function IS(e,t){return function(){au(this,e).delay=+t.apply(this,arguments)}}function AS(e,t){return t=+t,function(){au(this,e).delay=t}}function $S(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IS:AS)(t,e)):Rt(this.node(),t).delay}function RS(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function MS(e,t){return t=+t,function(){Kt(this,e).duration=t}}function DS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RS:MS)(t,e)):Rt(this.node(),t).duration}function jS(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function LS(e){var t=this._id;return arguments.length?this.each(jS(t,e)):Rt(this.node(),t).ease}function BS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,e).ease=n}}function zS(e){if(typeof e!="function")throw new Error;return this.each(BS(this._id,e))}function FS(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new hn(r,this._parents,this._name,this._id)}function US(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new hn(s,this._parents,this._name,this._id)}function VS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HS(e,t,n){var r,i,o=VS(t)?au:Kt;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function qS(e,t){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(e):this.each(HS(n,e,t))}function GS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function WS(){return this.on("end.remove",GS(this._id))}function KS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nu(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,ls(c[f],t,n,f,c,Rt(u,n)));return new hn(o,this._parents,t,n)}function YS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ip(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,g=Rt(u,n),y=0,p=f.length;y<p;++y)(h=f[y])&&ls(h,t,n,y,f,g);o.push(f),s.push(u)}return new hn(o,s,t,n)}var XS=Bi.prototype.constructor;function JS(){return new XS(this._groups,this._parents)}function ZS(e,t){var n,r,i;return function(){var o=Rr(this,e),s=(this.style.removeProperty(e),Rr(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function tg(e){return function(){this.style.removeProperty(e)}}function QS(e,t,n){var r,i=n+"",o;return function(){var s=Rr(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function ex(e,t,n){var r,i,o;return function(){var s=Rr(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Rr(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function tx(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=Kt(this,e),c=l.on,u=l.value[o]==null?a||(a=tg(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function nx(e,t,n){var r=(e+="")=="transform"?rS:eg;return t==null?this.styleTween(e,ZS(e,r)).on("end.style."+e,tg(e)):typeof t=="function"?this.styleTween(e,ex(e,r,lu(this,"style."+e,t))).each(tx(this._id,e)):this.styleTween(e,QS(e,r,t),n).on("end.style."+e,null)}function rx(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ix(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&rx(e,s,n)),r}return o._value=t,o}function ox(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ix(e,t,n??""))}function sx(e){return function(){this.textContent=e}}function ax(e){return function(){var t=e(this);this.textContent=t??""}}function lx(e){return this.tween("text",typeof e=="function"?ax(lu(this,"text",e)):sx(e==null?"":e+""))}function ux(e){return function(t){this.textContent=e.call(this,t)}}function cx(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&ux(i)),t}return r._value=e,r}function dx(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cx(e))}function fx(){for(var e=this._name,t=this._id,n=ng(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Rt(l,t);ls(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new hn(r,this._parents,e,n)}function hx(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=Kt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var px=0;function hn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ng(){return++px}var Jt=Bi.prototype;hn.prototype={constructor:hn,select:KS,selectAll:YS,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:FS,merge:US,selection:JS,transition:fx,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:qS,attr:kS,attrTween:OS,style:nx,styleTween:ox,text:lx,textTween:dx,remove:WS,tween:yS,delay:$S,duration:DS,ease:LS,easeVarying:zS,end:hx,[Symbol.iterator]:Jt[Symbol.iterator]};function gx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vx={time:null,delay:0,duration:250,ease:gx};function mx(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yx(e){var t,n;e instanceof hn?(t=e._id,e=e._name):(t=ng(),(n=vx).time=su(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&ls(l,e,t,c,s,n||mx(l,t));return new hn(r,this._parents,e,t)}Bi.prototype.interrupt=gS;Bi.prototype.transition=yx;const no=e=>()=>e;function _x(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function sn(e,t,n){this.k=e,this.x=t,this.y=n}sn.prototype={constructor:sn,scale:function(e){return e===1?this:new sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dr=new sn(1,0,0);sn.prototype;function zs(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function wx(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function bx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fd(){return this.__zoom||Dr}function Ex(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Sx(){return navigator.maxTouchPoints||"ontouchstart"in this}function xx(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function kx(){var e=wx,t=bx,n=xx,r=Ex,i=Sx,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=fo,c=os("start","zoom","end"),u,d,f,h=500,g=150,y=0,p=10;function b(I){I.property("__zoom",fd).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(I,Y,L,W){var Q=I.selection?I.selection():I;Q.property("__zoom",fd),I!==Q?A(I,Y,L,W):Q.interrupt().each(function(){j(this,arguments).event(W).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},b.scaleBy=function(I,Y,L,W){b.scaleTo(I,function(){var Q=this.__zoom.k,oe=typeof Y=="function"?Y.apply(this,arguments):Y;return Q*oe},L,W)},b.scaleTo=function(I,Y,L,W){b.transform(I,function(){var Q=t.apply(this,arguments),oe=this.__zoom,ie=L==null?S(Q):typeof L=="function"?L.apply(this,arguments):L,ae=oe.invert(ie),fe=typeof Y=="function"?Y.apply(this,arguments):Y;return n(v(_(oe,fe),ie,ae),Q,s)},L,W)},b.translateBy=function(I,Y,L,W){b.transform(I,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,W)},b.translateTo=function(I,Y,L,W,Q){b.transform(I,function(){var oe=t.apply(this,arguments),ie=this.__zoom,ae=W==null?S(oe):typeof W=="function"?W.apply(this,arguments):W;return n(Dr.translate(ae[0],ae[1]).scale(ie.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof L=="function"?-L.apply(this,arguments):-L),oe,s)},W,Q)};function _(I,Y){return Y=Math.max(o[0],Math.min(o[1],Y)),Y===I.k?I:new sn(Y,I.x,I.y)}function v(I,Y,L){var W=Y[0]-L[0]*I.k,Q=Y[1]-L[1]*I.k;return W===I.x&&Q===I.y?I:new sn(I.k,W,Q)}function S(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function A(I,Y,L,W){I.on("start.zoom",function(){j(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(W).end()}).tween("zoom",function(){var Q=this,oe=arguments,ie=j(Q,oe).event(W),ae=t.apply(Q,oe),fe=L==null?S(ae):typeof L=="function"?L.apply(Q,oe):L,H=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),F=Q.__zoom,V=typeof Y=="function"?Y.apply(Q,oe):Y,J=l(F.invert(fe).concat(H/F.k),V.invert(fe).concat(H/V.k));return function(P){if(P===1)P=V;else{var R=J(P),$=H/R[2];P=new sn($,fe[0]-R[0]*$,fe[1]-R[1]*$)}ie.zoom(null,P)}})}function j(I,Y,L){return!L&&I.__zooming||new U(I,Y)}function U(I,Y){this.that=I,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,Y),this.taps=0}U.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,Y){return this.mouse&&I!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var Y=Ct(this.that).datum();c.call(I,this.that,new _x(I,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),Y)}};function N(I,...Y){if(!e.apply(this,arguments))return;var L=j(this,Y).event(I),W=this.__zoom,Q=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),oe=zt(I);if(L.wheel)(L.mouse[0][0]!==oe[0]||L.mouse[0][1]!==oe[1])&&(L.mouse[1]=W.invert(L.mouse[0]=oe)),clearTimeout(L.wheel);else{if(W.k===Q)return;L.mouse=[oe,W.invert(oe)],go(this),L.start()}Zr(I),L.wheel=setTimeout(ie,g),L.zoom("mouse",n(v(_(W,Q),L.mouse[0],L.mouse[1]),L.extent,s));function ie(){L.wheel=null,L.end()}}function T(I,...Y){if(f||!e.apply(this,arguments))return;var L=I.currentTarget,W=j(this,Y,!0).event(I),Q=Ct(I.view).on("mousemove.zoom",fe,!0).on("mouseup.zoom",H,!0),oe=zt(I,L),ie=I.clientX,ae=I.clientY;Up(I.view),zs(I),W.mouse=[oe,this.__zoom.invert(oe)],go(this),W.start();function fe(F){if(Zr(F),!W.moved){var V=F.clientX-ie,J=F.clientY-ae;W.moved=V*V+J*J>y}W.event(F).zoom("mouse",n(v(W.that.__zoom,W.mouse[0]=zt(F,L),W.mouse[1]),W.extent,s))}function H(F){Q.on("mousemove.zoom mouseup.zoom",null),Vp(F.view,W.moved),Zr(F),W.event(F).end()}}function M(I,...Y){if(e.apply(this,arguments)){var L=this.__zoom,W=zt(I.changedTouches?I.changedTouches[0]:I,this),Q=L.invert(W),oe=L.k*(I.shiftKey?.5:2),ie=n(v(_(L,oe),W,Q),t.apply(this,Y),s);Zr(I),a>0?Ct(this).transition().duration(a).call(A,ie,W,I):Ct(this).call(b.transform,ie,W,I)}}function D(I,...Y){if(e.apply(this,arguments)){var L=I.touches,W=L.length,Q=j(this,Y,I.changedTouches.length===W).event(I),oe,ie,ae,fe;for(zs(I),ie=0;ie<W;++ie)ae=L[ie],fe=zt(ae,this),fe=[fe,this.__zoom.invert(fe),ae.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==fe[2]&&(Q.touch1=fe,Q.taps=0):(Q.touch0=fe,oe=!0,Q.taps=1+!!u);u&&(u=clearTimeout(u)),oe&&(Q.taps<2&&(d=fe[0],u=setTimeout(function(){u=null},h)),go(this),Q.start())}}function O(I,...Y){if(this.__zooming){var L=j(this,Y).event(I),W=I.changedTouches,Q=W.length,oe,ie,ae,fe;for(Zr(I),oe=0;oe<Q;++oe)ie=W[oe],ae=zt(ie,this),L.touch0&&L.touch0[2]===ie.identifier?L.touch0[0]=ae:L.touch1&&L.touch1[2]===ie.identifier&&(L.touch1[0]=ae);if(ie=L.that.__zoom,L.touch1){var H=L.touch0[0],F=L.touch0[1],V=L.touch1[0],J=L.touch1[1],P=(P=V[0]-H[0])*P+(P=V[1]-H[1])*P,R=(R=J[0]-F[0])*R+(R=J[1]-F[1])*R;ie=_(ie,Math.sqrt(P/R)),ae=[(H[0]+V[0])/2,(H[1]+V[1])/2],fe=[(F[0]+J[0])/2,(F[1]+J[1])/2]}else if(L.touch0)ae=L.touch0[0],fe=L.touch0[1];else return;L.zoom("touch",n(v(ie,ae,fe),L.extent,s))}}function Z(I,...Y){if(this.__zooming){var L=j(this,Y).event(I),W=I.changedTouches,Q=W.length,oe,ie;for(zs(I),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),oe=0;oe<Q;++oe)ie=W[oe],L.touch0&&L.touch0[2]===ie.identifier?delete L.touch0:L.touch1&&L.touch1[2]===ie.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(ie=zt(ie,this),Math.hypot(d[0]-ie[0],d[1]-ie[1])<p)){var ae=Ct(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return b.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:no(+I),b):r},b.filter=function(I){return arguments.length?(e=typeof I=="function"?I:no(!!I),b):e},b.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:no(!!I),b):i},b.extent=function(I){return arguments.length?(t=typeof I=="function"?I:no([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),b):t},b.scaleExtent=function(I){return arguments.length?(o[0]=+I[0],o[1]=+I[1],b):[o[0],o[1]]},b.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(I){return arguments.length?(n=I,b):n},b.duration=function(I){return arguments.length?(a=+I,b):a},b.interpolate=function(I){return arguments.length?(l=I,b):l},b.on=function(){var I=c.on.apply(c,arguments);return I===c?b:I},b.clickDistance=function(I){return arguments.length?(y=(I=+I)*I,b):Math.sqrt(y)},b.tapDistance=function(I){return arguments.length?(p=+I,b):p},b}var ue=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ue||{}),uu=(e=>(e.Partial="partial",e.Full="full",e))(uu||{}),Vn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Vn||{}),An=(e=>(e.Strict="strict",e.Loose="loose",e))(An||{}),Sl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Sl||{}),yi=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(yi||{});const Cx=["INPUT","SELECT","TEXTAREA"],Px=typeof document<"u"?document:null;function xl(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof r?.hasAttribute=="function"?r.hasAttribute("contenteditable"):!1,o=typeof r?.closest=="function"?r.closest(".nokey"):null;return Cx.includes(r?.nodeName)||i||!!o}function Tx(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function hd(e,t,n,r){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const o=i.every((s,a)=>n.has(s)&&Array.from(n.values())[a]===i[a]);return r&&n.delete(e.toLowerCase()),o}function Nx(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=Ox(n.code,e);return Array.isArray(e)?e.some(i=>hd(n[r],i,t,n.type==="keyup")):hd(n[r],e,t,n.type==="keyup")}}function Ox(e,t){return t.includes(e)?"code":"key"}function _i(e,t){const n=le(()=>Ee(t?.target)??Px),r=Ei(Ee(e)===!0);let i=!1;const o=new Set;let s=l(Ee(e));we(()=>Ee(e),(c,u)=>{typeof u=="boolean"&&typeof c!="boolean"&&a(),s=l(c)},{immediate:!0}),Np(["blur","contextmenu"],a),Yc((...c)=>s(...c),c=>{var u,d;const f=Ee(t?.actInsideInputWithModifier)??!0,h=Ee(t?.preventDefault)??!1;if(i=Tx(c),(!i||i&&!f)&&xl(c))return;const y=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target,p=y?.nodeName==="BUTTON"||y?.nodeName==="A";!h&&(i||!p)&&c.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),Yc((...c)=>s(...c),c=>{const u=Ee(t?.actInsideInputWithModifier)??!0;if(r.value){if((!i||i&&!u)&&xl(c))return;i=!1,r.value=!1}},{eventName:"keyup",target:n});function a(){i=!1,o.clear(),r.value=Ee(e)===!0}function l(c){return c===null?(a(),()=>!1):typeof c=="boolean"?(a(),r.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?Nx(c,o):c}return r}const rg="vue-flow__node-desc",ig="vue-flow__edge-desc",Ix="vue-flow__aria-live",og=["Enter"," ","Escape"],Pr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ro(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Mo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function us(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Qn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function sg(e,t){return{x:Qn(e.x,t[0][0],t[1][0]),y:Qn(e.y,t[0][1],t[1][1])}}function pd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function $n(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Yn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!$n(e)}function ri(e){return Yn(e)&&"computedPosition"in e}function ro(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Ax(e){return ro(e.width)&&ro(e.height)&&ro(e.x)&&ro(e.y)}function $x(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:Nn({width:0,height:0}),computedPosition:Nn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:He(e.data)?e.data:{},events:Nn(He(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function ag(e,t,n){var r,i;const o={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:He(e.data)?e.data:{},events:Nn(He(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??o,e,{id:e.id.toString()})}function lg(e,t,n,r){const i=typeof e=="string"?e:e.id,o=new Set,s=r==="source"?"target":"source";for(const a of n)a[s]===i&&o.add(a[r]);return t.filter(a=>o.has(a.id))}function Rx(...e){if(e.length===3){const[o,s,a]=e;return lg(o,s,a,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>$n(o)&&o.source===r).map(o=>n.find(s=>Yn(s)&&s.id===o.target))}function Mx(...e){if(e.length===3){const[o,s,a]=e;return lg(o,s,a,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>$n(o)&&o.target===r).map(o=>n.find(s=>Yn(s)&&s.id===o.source))}function ug({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function Dx(e,t){return t.some(n=>$n(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function kl({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function $i({x:e,y:t},{x:n,y:r,zoom:i},o=!1,s=[1,1]){const a={x:(e-n)/i,y:(t-r)/i};return o?cs(a,s):a}function jx(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function cg({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function Lx({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function dg(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=jx(t,cg({...r.computedPosition,...r.dimensions}))}return Lx(t)}function fg(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){const o={...$i(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const a of e){const{dimensions:l,selectable:c=!0,hidden:u=!1}=a,d=l.width??a.width??null,f=l.height??a.height??null;if(i&&!c||u)continue;const h=Mo(o,Ro(a)),g=d===null||f===null,y=r&&h>0,p=(d??0)*(f??0);(g||y||h>=p||a.dragging)&&s.push(a)}return s}function hg(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function gd(e,t,n,r,i,o=.1,s={x:0,y:0}){const a=t/(e.width*(1+o)),l=n/(e.height*(1+o)),c=Math.min(a,l),u=Qn(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u+(s.x??0),g=n/2-f*u+(s.y??0);return{x:h,y:g,zoom:u}}function Bx(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function pg(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:pg(n,t):!1}function Ri(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function vd(e,t,n){return e<t?Qn(Math.abs(e-t),1,t)/t:e>n?-Qn(Math.abs(e-n),1,t)/t:0}function gg(e,t,n=15,r=40){const i=vd(e.x,r,t.width-r)*n,o=vd(e.y,r,t.height-r)*n;return[i,o]}function Fs(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style=="function"?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(typeof i.width=="string"){const o=Number(i.width.replace("px",""));i.width=`${o+n}px`}else i.width+=n;if(r>0)if(typeof i.height=="string"){const o=Number(i.height.replace("px",""));i.height=`${o+r}px`}else i.height+=r;if(e.position.x<0){const o=Math.abs(e.position.x);if(t.position.x=t.position.x-o,typeof i.width=="string"){const s=Number(i.width.replace("px",""));i.width=`${s+o}px`}else i.width+=o;e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);if(t.position.y=t.position.y-o,typeof i.height=="string"){const s=Number(i.height.replace("px",""));i.height=`${s+o}px`}else i.height+=o;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),typeof t.style=="function"?t.style=o=>{const s=t.style;return{...s(o),...i}}:t.style={...t.style,...i}}}}function md(e,t){var n,r;const i=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of i)if(s.type==="add")t.findIndex(l=>l.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const a=t.findIndex(l=>l.id===s.id);a!==-1&&t.splice(a,1)}const o=t.map(s=>s.id);for(const s of t)for(const a of e)if(a.id===s.id)switch(a.type){case"select":s.selected=a.selected;break;case"position":if(ri(s)&&(typeof a.position<"u"&&(s.position=a.position),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&s.parentNode)){const l=t[o.indexOf(s.parentNode)];l&&ri(l)&&Fs(s,l)}break;case"dimensions":if(ri(s)&&(typeof a.dimensions<"u"&&(s.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(s.style={...s.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(r=a.dimensions)==null?void 0:r.height}px`}),typeof a.resizing<"u"&&(s.resizing=a.resizing),s.expandParent&&s.parentNode)){const l=t[o.indexOf(s.parentNode)];l&&ri(l)&&(!!l.dimensions.width&&!!l.dimensions.height?Fs(s,l):Ve(()=>{Fs(s,l)}))}break}return t}function wn(e,t){return{id:e,type:"select",selected:t}}function yd(e){return{item:e,type:"add"}}function _d(e){return{id:e,type:"remove"}}function wd(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function kn(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(wn(o.id,s)))}return r}function de(e){const t=new Set;let n=!1;const r=()=>t.size>0;e&&(n=!0,t.add(e));const i=a=>{t.delete(a)};return{on:a=>{e&&n&&t.delete(e),t.add(a);const l=()=>{i(a),e&&n&&t.add(e)};return is(l),{off:l}},off:i,trigger:a=>Promise.all(Array.from(t).map(l=>l(a))),hasListeners:r,fns:t}}function bd(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function zx(e,t,n,r,i){var o,s;const a=[];for(const l of e)(l.selected||l.id===i)&&(!l.parentNode||!pg(l,r))&&(l.draggable||t&&typeof l.draggable>"u")&&a.push(Nn({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((o=l.computedPosition)==null?void 0:o.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return a}function Us({id:e,dragItems:t,findNode:n}){const r=[];for(const i of t){const o=n(i.id);o&&r.push(o)}return[e?r.find(i=>i.id===e):r[0],r]}function vg(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Fx(e,t,n){const[r,i,o,s]=typeof e!="string"?vg(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function Ux(e,t,n,r){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&i?.range==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const o=Fx(i,e,r);o&&(i=o)}else t(new Ye(qe.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const o=r?.computedPosition.x||0,s=r?.computedPosition.y||0;i=[[i[0][0]+o,i[0][1]+s],[i[1][0]+o,i[1][1]+s]]}else if(i!=="parent"&&i?.range&&Array.isArray(i.range)){const[o,s,a,l]=vg(i.padding),c=r?.computedPosition.x||0,u=r?.computedPosition.y||0;i=[[i.range[0][0]+c+l,i.range[0][1]+u+o],[i.range[1][0]+c-s,i.range[1][1]+u-a]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function Vx({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function cu(e,t,n,r,i){const o=Vx(e.dimensions,Ux(e,n,r,i)),s=sg(t,o);return{position:{x:s.x-(i?.computedPosition.x||0),y:s.y-(i?.computedPosition.y||0)},computedPosition:s}}function jr(e,t,n=ue.Left,r=!1){const i=(t?.x??0)+e.computedPosition.x,o=(t?.y??0)+e.computedPosition.y,{width:s,height:a}=t??Wx(e);if(r)return{x:i+s/2,y:o+a/2};switch(t?.position??n){case ue.Top:return{x:i+s/2,y:o};case ue.Right:return{x:i+s,y:o+a/2};case ue.Bottom:return{x:i+s/2,y:o+a};case ue.Left:return{x:i,y:o+a/2}}}function Ed(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Hx({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,viewport:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=cg({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:s/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function qx(e,t,n=!1){const r=typeof e.zIndex=="number";let i=r?e.zIndex:0;const o=t(e.source),s=t(e.target);return!o||!s?0:(n&&(i=r?e.zIndex:Math.max(o.computedPosition.z||0,s.computedPosition.z||0)),i)}var qe=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(qe||{});const Sd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ye extends Error{constructor(t,...n){var r;super((r=Sd[t])==null?void 0:r.call(Sd,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function du(e){return"clientX"in e}function Gx(e){return"sourceEvent"in e}function Vt(e,t){const n=du(e);let r,i;return n?(r=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(r=0,i=0),{x:r-(t?.left??0),y:i-(t?.top??0)}}const Do=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Wx(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function cs(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Kx=()=>!0;function Vs(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Yx(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Mo(i,Ro(o))>0&&r.push(o);return r}const Xx=250;function Jx(e,t,n,r){var i,o;let s=[],a=Number.POSITIVE_INFINITY;const l=Yx(e,n,t+Xx);for(const c of l){const u=[...((i=c.handleBounds)==null?void 0:i.source)??[],...((o=c.handleBounds)==null?void 0:o.target)??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=jr(c,d,d.position,!0),g=Math.sqrt((f-e.x)**2+(h-e.y)**2);g>t||(g<a?(s=[{...d,x:f,y:h}],a=g):g===a&&s.push({...d,x:f,y:h}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(u=>u.type===c)??s[0]}return s[0]}function xd(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=Kx},u,d,f){const h=o==="target",g=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:y,y:p}=Vt(e),b=s.elementFromPoint(y,p),_=b?.classList.contains(`${a}-flow__handle`)?b:g,v={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const S=mg(void 0,_),A=_.getAttribute("data-nodeid"),j=_.getAttribute("data-handleid"),U=_.classList.contains("connectable"),N=_.classList.contains("connectableend");if(!A||!S)return v;const T={source:h?A:r,sourceHandle:h?j:i,target:h?r:A,targetHandle:h?i:j};v.connection=T;const D=U&&N&&(n===An.Strict?h&&S==="source"||!h&&S==="target":A!==r||j!==i);v.isValid=D&&c(T,{nodes:d,edges:u,sourceNode:f(r),targetNode:f(A)}),v.toHandle=t}return v}function mg(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Zx(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Qx(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function e1(e,t,n,r,i,o=!1){var s,a,l;const c=r.get(e);if(!c)return null;const u=i===An.Strict?(s=c.handleBounds)==null?void 0:s[t]:[...((a=c.handleBounds)==null?void 0:a.source)??[],...((l=c.handleBounds)==null?void 0:l.target)??[]],d=(n?u?.find(f=>f.id===n):u?.[0])??null;return d&&o?{...d,...jr(c,d,d.position,!0)}:d}const Cl={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top},t1=["production","prod"];function Fi(e,...t){yg()&&console.warn(`[Vue Flow]: ${e}`,...t)}function yg(){return!t1.includes("production")}function kd(e,t,n,r,i){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return o?.length?Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...us(s)}}):null}function Pl(e,t,n,r,i,o=!1,s){i.value=!1,e.selected?(o||e.selected&&t)&&(r([e]),Ve(()=>{s.blur()})):n([e])}function He(e){return typeof ee(e)<"u"}function n1(e,t,n,r){if(!e||!e.source||!e.target)return n(new Ye(qe.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let i;return $n(e)?i=e:i={...e,id:ug(e)},i=ag(i,void 0,r),Dx(i,t)?!1:i}function r1(e,t,n,r,i){if(!t.source||!t.target)return i(new Ye(qe.EDGE_INVALID,e.id)),!1;if(!n)return i(new Ye(qe.EDGE_NOT_FOUND,e.id)),!1;const{id:o,...s}=e;return{...s,id:r?ug(t):o,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Cd(e,t,n){const r={},i=[];for(let o=0;o<e.length;++o){const s=e[o];if(!Yn(s)){n(new Ye(qe.NODE_INVALID,s?.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const a=$x(s,t(s.id),s.parentNode);s.parentNode&&(r[s.parentNode]=!0),i[o]=a}for(const o of i){const s=t(o.parentNode)||i.find(a=>a.id===o.parentNode);o.parentNode&&!s&&n(new Ye(qe.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),s&&(s.isParent=!0))}return i}function Pd(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function Hs(e,t,n){e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,u=`${o}-${a}--${i}-${s}`;Pd("source",l,u,e,i,s),Pd("target",l,c,e,o,a)}}function Td(e,t,n){if(!n)return;const r=[];for(const i of e.keys())t.has(i)||r.push(e.get(i));r.length&&n(r)}function i1(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Nd(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function qs(e,t,n,r,i,o,s,a){const l=[];for(const c of e){const u=$n(c)?c:n1(c,a,i,o);if(!u)continue;const d=n(u.source),f=n(u.target);if(!d||!f){i(new Ye(qe.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!d){i(new Ye(qe.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!f){i(new Ye(qe.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:a,nodes:s,sourceNode:d,targetNode:f})){i(new Ye(qe.EDGE_INVALID,u.id));continue}const h=r(u.id);l.push({...ag(u,h,o),sourceNode:d,targetNode:f})}return l}const Od=Symbol("vueFlow"),_g=Symbol("nodeId"),wg=Symbol("nodeRef"),o1=Symbol("edgeId"),s1=Symbol("edgeRef"),ds=Symbol("slots");function bg(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:i,nodes:o,nodeExtent:s,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:g,nodesSelectionActive:y,selectNodesOnDrag:p,removeSelectedElements:b,addSelectedNodes:_,updateNodePositions:v,emits:S}=$e(),{onStart:A,onDrag:j,onStop:U,onClick:N,el:T,disabled:M,id:D,selectable:O,dragHandle:Z}=e,I=Ei(!1);let Y=[],L,W=null,Q={x:void 0,y:void 0},oe={x:0,y:0},ie=null,ae=!1,fe=0,H=!1;const F=u1(),V=({x:q,y:w})=>{Q={x:q,y:w};let x=!1;if(Y=Y.map(m=>{const E={x:q-m.distance.x,y:w-m.distance.y},{computedPosition:C}=cu(m,n.value?cs(E,r.value):E,S.error,s.value,m.parentNode?h(m.parentNode):void 0);return x=x||m.position.x!==C.x||m.position.y!==C.y,m.position=C,m}),!!x&&(v(Y,!0,!0),I.value=!0,ie)){const[m,E]=Us({id:D,dragItems:Y,findNode:h});j({event:ie,node:m,nodes:E})}},J=()=>{if(!W)return;const[q,w]=gg(oe,W,u.value);if(q!==0||w!==0){const x={x:(Q.x??0)-q/l.value.zoom,y:(Q.y??0)-w/l.value.zoom};f({x:q,y:w})&&V(x)}fe=requestAnimationFrame(J)},P=(q,w)=>{ae=!0;const x=h(D);!p.value&&!g.value&&x&&(x.selected||b()),x&&Ee(O)&&p.value&&Pl(x,g.value,_,b,y,!1,w);const m=F(q.sourceEvent);if(Q=m,Y=zx(o.value,d.value,m,h,D),Y.length){const[E,C]=Us({id:D,dragItems:Y,findNode:h});A({event:q.sourceEvent,node:E,nodes:C})}},R=(q,w)=>{var x;q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||(a.value===0&&P(q,w),Q=F(q.sourceEvent),W=((x=t.value)==null?void 0:x.getBoundingClientRect())||null,oe=Vt(q.sourceEvent,W))},$=(q,w)=>{const x=F(q.sourceEvent);if(!H&&ae&&c.value&&(H=!0,J()),!ae){const m=x.xSnapped-(Q.x??0),E=x.ySnapped-(Q.y??0);Math.sqrt(m*m+E*E)>a.value&&P(q,w)}(Q.x!==x.xSnapped||Q.y!==x.ySnapped)&&Y.length&&ae&&(ie=q.sourceEvent,oe=Vt(q.sourceEvent,W),V(x))},B=q=>{let w=!1;if(!ae&&!I.value&&!g.value){const x=q.sourceEvent,m=F(x),E=m.xSnapped-(Q.x??0),C=m.ySnapped-(Q.y??0),k=Math.sqrt(E*E+C*C);k!==0&&k<=a.value&&(N?.(x),w=!0)}if(Y.length&&!w){v(Y,!1,!1);const[x,m]=Us({id:D,dragItems:Y,findNode:h});U({event:q.sourceEvent,node:x,nodes:m})}Y=[],I.value=!1,H=!1,ae=!1,Q={x:void 0,y:void 0},cancelAnimationFrame(fe)};return we([()=>Ee(M),T],([q,w],x,m)=>{if(w){const E=Ct(w);q||(L=AE().on("start",C=>R(C,w)).on("drag",C=>$(C,w)).on("end",C=>B(C)).filter(C=>{const k=C.target,z=Ee(Z);return!C.button&&(!i.value||!bd(k,`.${i.value}`,w)&&(!z||bd(k,z,w)))}),E.call(L)),m(()=>{E.on(".drag",null),L&&(L.on("start",null),L.on("drag",null),L.on("end",null))})}}),I}function a1(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),updateStart:de(),update:de(),updateEnd:de()}}function l1(e,t){const n=a1();return n.doubleClick.on(r=>{var i,o;t.edgeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.edgeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.edgeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.edgeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.edgeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.edgeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;t.edgeUpdateStart(r),(o=(i=e.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;t.edgeUpdate(r),(o=(i=e.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;t.edgeUpdateEnd(r),(o=(i=e.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function u1(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=$e();return i=>{var o;const s=((o=r.value)==null?void 0:o.getBoundingClientRect())??{left:0,top:0},a=Gx(i)?i.sourceEvent:i,{x:l,y:c}=Vt(a,s),u=$i({x:l,y:c},e.value),{x:d,y:f}=n.value?cs(u,t.value):u;return{xSnapped:d,ySnapped:f,...u}}}function io(){return!0}function Eg({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:s}){const{id:a,vueFlowRef:l,connectionMode:c,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:g,autoPanSpeed:y,findNode:p,panBy:b,startConnection:_,updateConnection:v,endConnection:S,emits:A,viewport:j,edges:U,nodes:N,isValidConnection:T,nodeLookup:M}=$e();let D=null,O=!1,Z=null;function I(L){var W;const Q=Ee(n)==="target",oe=du(L),ie=pd(L.target);if(oe&&L.button===0||!oe){let ae=function(ne){m=Vt(ne,q),V=Jx($i(m,j.value,!1,[1,1]),u.value,M.value,k),E||(C(),E=!0);const te=xd(ne,{handle:V,connectionMode:c.value,fromNodeId:Ee(t),fromHandleId:Ee(e),fromType:Q?"target":"source",isValidConnection:F,doc:ie,lib:"vue",flowId:a,nodeLookup:M.value},U.value,N.value,p);Z=te.handleDomNode,D=te.connection,O=Qx(!!V,te.isValid);const re={...G,isValid:O,to:te.toHandle&&O?kl({x:te.toHandle.x,y:te.toHandle.y},j.value):m,toHandle:te.toHandle,toPosition:O&&te.toHandle?te.toHandle.position:Cl[k.position],toNode:te.toHandle?M.value.get(te.toHandle.nodeId):null};if(!(O&&V&&G?.toHandle&&re.toHandle&&G.toHandle.type===re.toHandle.type&&G.toHandle.nodeId===re.toHandle.nodeId&&G.toHandle.id===re.toHandle.id&&G.to.x===re.to.x&&G.to.y===re.to.y)){if(v(V&&O?kl({x:V.x,y:V.y},j.value):m,te.toHandle,Zx(!!V,O)),G=re,!V&&!O&&!Z)return Vs(x);D&&D.source!==D.target&&Z&&(Vs(x),x=Z,Z.classList.add("connecting","vue-flow__handle-connecting"),Z.classList.toggle("valid",!!O),Z.classList.toggle("vue-flow__handle-valid",!!O))}},fe=function(ne){(V||Z)&&D&&O&&(o?o(ne,D):A.connect(D)),A.connectEnd(ne),i&&s?.(ne),Vs(x),cancelAnimationFrame(J),S(ne),E=!1,O=!1,D=null,Z=null,ie.removeEventListener("mousemove",ae),ie.removeEventListener("mouseup",fe),ie.removeEventListener("touchmove",ae),ie.removeEventListener("touchend",fe)};const H=p(Ee(t));let F=Ee(r)||T.value||io;!F&&H&&(F=(Q?H.isValidSourcePos:H.isValidTargetPos)||io);let V,J=0;const{x:P,y:R}=Vt(L),$=ie?.elementFromPoint(P,R),B=mg(Ee(i),$),q=(W=l.value)==null?void 0:W.getBoundingClientRect();if(!q||!B)return;const w=e1(Ee(t),B,Ee(e),M.value,c.value);if(!w)return;let x,m=Vt(L,q),E=!1;const C=()=>{if(!g.value)return;const[ne,te]=gg(m,q,y.value);b({x:ne,y:te}),J=requestAnimationFrame(C)},k={...w,nodeId:Ee(t),type:B,position:w.position},z=M.value.get(Ee(t)),K={inProgress:!0,isValid:null,from:jr(z,k,ue.Left,!0),fromHandle:k,fromPosition:k.position,fromNode:z,to:m,toHandle:null,toPosition:Cl[k.position],toNode:null};_({nodeId:Ee(t),id:Ee(e),type:B,position:$?.getAttribute("data-handlepos")||ue.Top,...m},{x:P-q.left,y:R-q.top}),A.connectStart({event:L,nodeId:Ee(t),handleId:Ee(e),handleType:B});let G=K;ie.addEventListener("mousemove",ae),ie.addEventListener("mouseup",fe),ie.addEventListener("touchmove",ae),ie.addEventListener("touchend",fe)}}function Y(L){var W,Q;if(!d.value)return;const oe=Ee(n)==="target";if(!f.value){A.clickConnectStart({event:L,nodeId:Ee(t),handleId:Ee(e)}),_({nodeId:Ee(t),type:Ee(n),id:Ee(e),position:ue.Top,...Vt(L)},void 0,!0);return}let ie=Ee(r)||T.value||io;const ae=p(Ee(t));if(!ie&&ae&&(ie=(oe?ae.isValidSourcePos:ae.isValidTargetPos)||io),ae&&(typeof ae.connectable>"u"?h.value:ae.connectable)===!1)return;const fe=pd(L.target),H=xd(L,{handle:{nodeId:Ee(t),id:Ee(e),type:Ee(n),position:ue.Top,...Vt(L)},connectionMode:c.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:ie,doc:fe,lib:"vue",flowId:a,nodeLookup:M.value},U.value,N.value,p),F=((W=H.connection)==null?void 0:W.source)===((Q=H.connection)==null?void 0:Q.target);H.isValid&&H.connection&&!F&&A.connect(H.connection),A.clickConnectEnd(L),S(L,!0)}return{handlePointerDown:I,handleClick:Y}}function Sg(){return ze(_g,"")}function xg(e){const t=e??Sg()??"",n=ze(wg,he(null)),{findNode:r,edges:i,emits:o}=$e(),s=r(t);return s||o.error(new Ye(qe.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:le(()=>r(s.parentNode)),connectedEdges:le(()=>hg([s],i.value))}}function c1(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),dragStart:de(),drag:de(),dragStop:de()}}function d1(e,t){const n=c1();return n.doubleClick.on(r=>{var i,o;t.nodeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.nodeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.nodeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.nodeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.nodeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.nodeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;t.nodeDragStart(r),(o=(i=e.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;t.nodeDrag(r),(o=(i=e.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;t.nodeDragStop(r),(o=(i=e.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function kg(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:s,emits:a}=$e();return(l,c=!1)=>{const u=o.value?i.value[0]:5,d=o.value?i.value[1]:5,f=c?4:1,h=l.x*u*f,g=l.y*d*f,y=[];for(const p of e.value)if(p.draggable||s&&typeof p.draggable>"u"){const b={x:p.computedPosition.x+h,y:p.computedPosition.y+g},{computedPosition:_}=cu(p,b,a.error,t.value,p.parentNode?r(p.parentNode):void 0);y.push({id:p.id,position:_,from:p.position,distance:{x:l.x,y:l.y},dimensions:p.dimensions})}n(y,!0,!1)}}const Gs=.1,f1=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function mn(){return Fi("Viewport not initialized yet."),Promise.resolve(!1)}const h1={zoomIn:mn,zoomOut:mn,zoomTo:mn,fitView:mn,setCenter:mn,fitBounds:mn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:mn,setTransform:mn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function p1(e){function t(r,i){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(i?.interpolate==="linear"?mi:fo).scaleBy(Ws(e.d3Selection,i?.duration,i?.ease,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,s){return new Promise(a=>{var l;const{x:c,y:u}=sg({x:-r,y:-i},e.translateExtent),d=Dr.translate(-c,-u).scale(o);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate(s?.interpolate==="linear"?mi:fo).transform(Ws(e.d3Selection,s?.duration,s?.ease,()=>{a(!0)}),d):a(!1)})}return le(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,o)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(o?.interpolate==="linear"?mi:fo).scaleTo(Ws(e.d3Selection,o?.duration,o?.ease,()=>{s(!0)}),i):s(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Gs,includeHiddenNodes:!1,duration:0})=>{var o,s;const a=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&(i?.includeHiddenNodes||!f.hidden)&&(!((o=i.nodes)!=null&&o.length)||(s=i.nodes)!=null&&s.length&&i.nodes.includes(f.id))&&a.push(f);if(!a.length)return Promise.resolve(!1);const l=dg(a),{x:c,y:u,zoom:d}=gd(l,e.dimensions.width,e.dimensions.height,i.minZoom??e.minZoom,i.maxZoom??e.maxZoom,i.padding??Gs,i.offset);return n(c,u,d,i)},setCenter:(i,o,s)=>{const a=typeof s?.zoom<"u"?s.zoom:e.maxZoom,l=e.dimensions.width/2-i*a,c=e.dimensions.height/2-o*a;return n(l,c,a,s)},fitBounds:(i,o={padding:Gs})=>{const{x:s,y:a,zoom:l}=gd(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding);return n(s,a,l,o)},project:i=>$i(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:i.x-o,y:i.y-s};return $i(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:i.x+o,y:i.y+s};return kl(a,e.viewport)}return{x:0,y:0}}}:h1)}function Ws(e,t=0,n=f1,r=()=>{}){const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e}function g1(e,t,n){const r=Vo(!0);return r.run(()=>{const i=()=>{r.run(()=>{let y,p,b=!!(n.nodes.value.length||n.edges.value.length);y=gr([e.modelValue,()=>{var _,v;return(v=(_=e.modelValue)==null?void 0:_.value)==null?void 0:v.length}],([_])=>{_&&Array.isArray(_)&&(p?.pause(),n.setElements(_),!p&&!b&&_.length?b=!0:p?.resume())}),p=gr([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([_,v])=>{var S;(S=e.modelValue)!=null&&S.value&&Array.isArray(e.modelValue.value)&&(y?.pause(),e.modelValue.value=[..._,...v],Ve(()=>{y?.resume()}))},{immediate:b}),oi(()=>{y?.stop(),p?.stop()})})},o=()=>{r.run(()=>{let y,p,b=!!n.nodes.value.length;y=gr([e.nodes,()=>{var _,v;return(v=(_=e.nodes)==null?void 0:_.value)==null?void 0:v.length}],([_])=>{_&&Array.isArray(_)&&(p?.pause(),n.setNodes(_),!p&&!b&&_.length?b=!0:p?.resume())}),p=gr([n.nodes,()=>n.nodes.value.length],([_])=>{var v;(v=e.nodes)!=null&&v.value&&Array.isArray(e.nodes.value)&&(y?.pause(),e.nodes.value=[..._],Ve(()=>{y?.resume()}))},{immediate:b}),oi(()=>{y?.stop(),p?.stop()})})},s=()=>{r.run(()=>{let y,p,b=!!n.edges.value.length;y=gr([e.edges,()=>{var _,v;return(v=(_=e.edges)==null?void 0:_.value)==null?void 0:v.length}],([_])=>{_&&Array.isArray(_)&&(p?.pause(),n.setEdges(_),!p&&!b&&_.length?b=!0:p?.resume())}),p=gr([n.edges,()=>n.edges.value.length],([_])=>{var v;(v=e.edges)!=null&&v.value&&Array.isArray(e.edges.value)&&(y?.pause(),e.edges.value=[..._],Ve(()=>{y?.resume()}))},{immediate:b}),oi(()=>{y?.stop(),p?.stop()})})},a=()=>{r.run(()=>{we(()=>t.maxZoom,()=>{t.maxZoom&&He(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{r.run(()=>{we(()=>t.minZoom,()=>{t.minZoom&&He(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{r.run(()=>{we(()=>t.translateExtent,()=>{t.translateExtent&&He(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{r.run(()=>{we(()=>t.nodeExtent,()=>{t.nodeExtent&&He(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{r.run(()=>{we(()=>t.applyDefault,()=>{He(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{r.run(()=>{const y=async p=>{let b=p;typeof t.autoConnect=="function"&&(b=await t.autoConnect(p)),b!==!1&&n.addEdges([b])};we(()=>t.autoConnect,()=>{He(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),we(n.autoConnect,(p,b,_)=>{p?n.onConnect(y):n.hooks.value.connect.off(y),_(()=>{n.hooks.value.connect.off(y)})},{immediate:!0})})},h=()=>{const y=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const p of Object.keys(t)){const b=p;if(!y.includes(b)){const _=Ne(()=>t[b]),v=n[b];Le(v)&&r.run(()=>{we(_,S=>{He(S)&&(v.value=S)},{immediate:!0})})}}};(()=>{i(),o(),s(),l(),a(),c(),u(),d(),f(),h()})()}),()=>r.stop()}function v1(){return{edgesChange:de(),nodesChange:de(),nodeDoubleClick:de(),nodeClick:de(),nodeMouseEnter:de(),nodeMouseMove:de(),nodeMouseLeave:de(),nodeContextMenu:de(),nodeDragStart:de(),nodeDrag:de(),nodeDragStop:de(),nodesInitialized:de(),miniMapNodeClick:de(),miniMapNodeDoubleClick:de(),miniMapNodeMouseEnter:de(),miniMapNodeMouseMove:de(),miniMapNodeMouseLeave:de(),connect:de(),connectStart:de(),connectEnd:de(),clickConnectStart:de(),clickConnectEnd:de(),paneReady:de(),init:de(),move:de(),moveStart:de(),moveEnd:de(),selectionDragStart:de(),selectionDrag:de(),selectionDragStop:de(),selectionContextMenu:de(),selectionStart:de(),selectionEnd:de(),viewportChangeStart:de(),viewportChange:de(),viewportChangeEnd:de(),paneScroll:de(),paneClick:de(),paneContextMenu:de(),paneMouseEnter:de(),paneMouseMove:de(),paneMouseLeave:de(),edgeContextMenu:de(),edgeMouseEnter:de(),edgeMouseMove:de(),edgeMouseLeave:de(),edgeDoubleClick:de(),edgeClick:de(),edgeUpdateStart:de(),edgeUpdate:de(),edgeUpdateEnd:de(),updateNodeInternals:de(),error:de(e=>Fi(e.message))}}function m1(e,t){hh(()=>{for(const[n,r]of Object.entries(t.value)){const i=o=>{e(n,o)};r.fns.add(i),is(()=>{r.off(i)})}})}function Cg(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:uu.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:yi.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Vn.Bezier,style:{}},connectionMode:An.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Do()?"Meta":"Control",zoomActivationKeyCode:Do()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:v1(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const y1=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function _1(e,t,n){const r=p1(e),i=m=>{const E=m??[];e.hooks.updateNodeInternals.trigger(E)},o=m=>Mx(m,e.nodes,e.edges),s=m=>Rx(m,e.nodes,e.edges),a=m=>hg(m,e.edges),l=({id:m,type:E,nodeId:C})=>{var k;return Array.from(((k=e.connectionLookup.get(`${C}-${E}-${m??null}`))==null?void 0:k.values())??[])},c=m=>{if(m)return t.value.get(m)},u=m=>{if(m)return n.value.get(m)},d=(m,E,C)=>{var k,z;const X=[];for(const K of m){const G={id:K.id,type:"position",dragging:C,from:K.from};if(E&&(G.position=K.position,K.parentNode)){const ne=c(K.parentNode);G.position={x:G.position.x-(((k=ne?.computedPosition)==null?void 0:k.x)??0),y:G.position.y-(((z=ne?.computedPosition)==null?void 0:z.y)??0)}}X.push(G)}X?.length&&e.hooks.nodesChange.trigger(X)},f=m=>{if(!e.vueFlowRef)return;const E=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!E)return;const C=window.getComputedStyle(E),{m22:k}=new window.DOMMatrixReadOnly(C.transform),z=[];for(const X of m){const K=X,G=c(K.id);if(G){const ne=us(K.nodeElement);if(!!(ne.width&&ne.height&&(G.dimensions.width!==ne.width||G.dimensions.height!==ne.height||K.forceUpdate))){const re=K.nodeElement.getBoundingClientRect();G.dimensions=ne,G.handleBounds.source=kd("source",K.nodeElement,re,k,G.id),G.handleBounds.target=kd("target",K.nodeElement,re,k,G.id),z.push({id:G.id,type:"dimensions",dimensions:ne})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),z.length&&e.hooks.nodesChange.trigger(z)},h=(m,E)=>{const C=new Set,k=new Set;for(const K of m)Yn(K)?C.add(K.id):$n(K)&&k.add(K.id);const z=kn(t.value,C,!0),X=kn(n.value,k);if(e.multiSelectionActive){for(const K of C)z.push(wn(K,E));for(const K of k)X.push(wn(K,E))}z.length&&e.hooks.nodesChange.trigger(z),X.length&&e.hooks.edgesChange.trigger(X)},g=m=>{if(e.multiSelectionActive){const E=m.map(C=>wn(C.id,!0));e.hooks.nodesChange.trigger(E);return}e.hooks.nodesChange.trigger(kn(t.value,new Set(m.map(E=>E.id)),!0)),e.hooks.edgesChange.trigger(kn(n.value))},y=m=>{if(e.multiSelectionActive){const E=m.map(C=>wn(C.id,!0));e.hooks.edgesChange.trigger(E);return}e.hooks.edgesChange.trigger(kn(n.value,new Set(m.map(E=>E.id)))),e.hooks.nodesChange.trigger(kn(t.value,new Set,!0))},p=m=>{h(m,!0)},b=m=>{const C=(m||e.nodes).map(k=>(k.selected=!1,wn(k.id,!1)));e.hooks.nodesChange.trigger(C)},_=m=>{const C=(m||e.edges).map(k=>(k.selected=!1,wn(k.id,!1)));e.hooks.edgesChange.trigger(C)},v=m=>{if(!m||!m.length)return h([],!1);const E=m.reduce((C,k)=>{const z=wn(k.id,!1);return Yn(k)?C.nodes.push(z):C.edges.push(z),C},{nodes:[],edges:[]});E.nodes.length&&e.hooks.nodesChange.trigger(E.nodes),E.edges.length&&e.hooks.edgesChange.trigger(E.edges)},S=m=>{var E;(E=e.d3Zoom)==null||E.scaleExtent([m,e.maxZoom]),e.minZoom=m},A=m=>{var E;(E=e.d3Zoom)==null||E.scaleExtent([e.minZoom,m]),e.maxZoom=m},j=m=>{var E;(E=e.d3Zoom)==null||E.translateExtent(m),e.translateExtent=m},U=m=>{e.nodeExtent=m,i()},N=m=>{var E;(E=e.d3Zoom)==null||E.clickDistance(m)},T=m=>{e.nodesDraggable=m,e.nodesConnectable=m,e.elementsSelectable=m},M=m=>{const E=m instanceof Function?m(e.nodes):m;!e.initialized&&!E.length||(e.nodes=Cd(E,c,e.hooks.error.trigger))},D=m=>{const E=m instanceof Function?m(e.edges):m;if(!e.initialized&&!E.length)return;const C=qs(E,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Hs(e.connectionLookup,n.value,C),e.edges=C},O=m=>{const E=m instanceof Function?m([...e.nodes,...e.edges]):m;!e.initialized&&!E.length||(M(E.filter(Yn)),D(E.filter($n)))},Z=m=>{let E=m instanceof Function?m(e.nodes):m;E=Array.isArray(E)?E:[E];const C=Cd(E,c,e.hooks.error.trigger),k=[];for(const z of C)k.push(yd(z));k.length&&e.hooks.nodesChange.trigger(k)},I=m=>{let E=m instanceof Function?m(e.edges):m;E=Array.isArray(E)?E:[E];const C=qs(E,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),k=[];for(const z of C)k.push(yd(z));k.length&&e.hooks.edgesChange.trigger(k)},Y=(m,E=!0,C=!1)=>{const k=m instanceof Function?m(e.nodes):m,z=Array.isArray(k)?k:[k],X=[],K=[];function G(te){const re=a(te);for(const ce of re)(!He(ce.deletable)||ce.deletable)&&K.push(wd(ce.id,ce.source,ce.target,ce.sourceHandle,ce.targetHandle))}function ne(te){const re=[];for(const ce of e.nodes)ce.parentNode===te&&re.push(ce);if(re.length){for(const ce of re)X.push(_d(ce.id));E&&G(re);for(const ce of re)ne(ce.id)}}for(const te of z){const re=typeof te=="string"?c(te):te;re&&(He(re.deletable)&&!re.deletable||(X.push(_d(re.id)),E&&G([re]),C&&ne(re.id)))}K.length&&e.hooks.edgesChange.trigger(K),X.length&&e.hooks.nodesChange.trigger(X)},L=m=>{const E=m instanceof Function?m(e.edges):m,C=Array.isArray(E)?E:[E],k=[];for(const z of C){const X=typeof z=="string"?u(z):z;X&&(He(X.deletable)&&!X.deletable||k.push(wd(typeof z=="string"?z:z.id,X.source,X.target,X.sourceHandle,X.targetHandle)))}e.hooks.edgesChange.trigger(k)},W=(m,E,C=!0)=>{const k=u(m.id);if(!k)return!1;const z=e.edges.indexOf(k),X=r1(m,E,k,C,e.hooks.error.trigger);if(X){const[K]=qs([X],e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((G,ne)=>ne===z?K:G),Hs(e.connectionLookup,n.value,[K]),K}return!1},Q=(m,E,C={replace:!1})=>{const k=u(m);if(!k)return;const z=typeof E=="function"?E(k):E;k.data=C.replace?z:{...k.data,...z}},oe=m=>md(m,e.nodes),ie=m=>{const E=md(m,e.edges);return Hs(e.connectionLookup,n.value,E),E},ae=(m,E,C={replace:!1})=>{const k=c(m);if(!k)return;const z=typeof E=="function"?E(k):E;C.replace?e.nodes.splice(e.nodes.indexOf(k),1,z):Object.assign(k,z)},fe=(m,E,C={replace:!1})=>{const k=c(m);if(!k)return;const z=typeof E=="function"?E(k):E;k.data=C.replace?z:{...k.data,...z}},H=(m,E,C=!1)=>{C?e.connectionClickStartHandle=m:e.connectionStartHandle=m,e.connectionEndHandle=null,e.connectionStatus=null,E&&(e.connectionPosition=E)},F=(m,E=null,C=null)=>{e.connectionStartHandle&&(e.connectionPosition=m,e.connectionEndHandle=E,e.connectionStatus=C)},V=(m,E)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,E?e.connectionClickStartHandle=null:e.connectionStartHandle=null},J=m=>{const E=Ax(m),C=E?null:ri(m)?m:c(m.id);return!E&&!C?[null,null,E]:[E?m:Ro(C),C,E]},P=(m,E=!0,C=e.nodes)=>{const[k,z,X]=J(m);if(!k)return[];const K=[];for(const G of C||e.nodes){if(!X&&(G.id===z.id||!G.computedPosition))continue;const ne=Ro(G),te=Mo(ne,k);(E&&te>0||te>=Number(k.width)*Number(k.height))&&K.push(G)}return K},R=(m,E,C=!0)=>{const[k]=J(m);if(!k)return!1;const z=Mo(k,E);return C&&z>0||z>=Number(k.width)*Number(k.height)},$=m=>{const{viewport:E,dimensions:C,d3Zoom:k,d3Selection:z,translateExtent:X}=e;if(!k||!z||!m.x&&!m.y)return!1;const K=Dr.translate(E.x+m.x,E.y+m.y).scale(E.zoom),G=[[0,0],[C.width,C.height]],ne=k.constrain()(K,G,X),te=e.viewport.x!==ne.x||e.viewport.y!==ne.y||e.viewport.zoom!==ne.k;return k.transform(z,ne),te},B=m=>{const E=m instanceof Function?m(e):m,C=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];He(E.defaultEdgeOptions)&&(e.defaultEdgeOptions=E.defaultEdgeOptions);const k=E.modelValue||E.nodes||E.edges?[]:void 0;k&&(E.modelValue&&k.push(...E.modelValue),E.nodes&&k.push(...E.nodes),E.edges&&k.push(...E.edges),O(k));const z=()=>{He(E.maxZoom)&&A(E.maxZoom),He(E.minZoom)&&S(E.minZoom),He(E.translateExtent)&&j(E.translateExtent)};for(const X of Object.keys(E)){const K=X,G=E[K];![...y1,...C].includes(K)&&He(G)&&(e[K]=G)}pl(()=>e.d3Zoom).not.toBeNull().then(z),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:O,setNodes:M,setEdges:D,addNodes:Z,addEdges:I,removeNodes:Y,removeEdges:L,findNode:c,findEdge:u,updateEdge:W,updateEdgeData:Q,updateNode:ae,updateNodeData:fe,applyEdgeChanges:ie,applyNodeChanges:oe,addSelectedElements:p,addSelectedNodes:g,addSelectedEdges:y,setMinZoom:S,setMaxZoom:A,setTranslateExtent:j,setNodeExtent:U,setPaneClickDistance:N,removeSelectedElements:v,removeSelectedNodes:b,removeSelectedEdges:_,startConnection:H,updateConnection:F,endConnection:V,setInteractive:T,setState:B,getIntersectingNodes:P,getIncomers:o,getOutgoers:s,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:R,panBy:$,fitView:m=>r.value.fitView(m),zoomIn:m=>r.value.zoomIn(m),zoomOut:m=>r.value.zoomOut(m),zoomTo:(m,E)=>r.value.zoomTo(m,E),setViewport:(m,E)=>r.value.setViewport(m,E),setTransform:(m,E)=>r.value.setTransform(m,E),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(m,E,C)=>r.value.setCenter(m,E,C),fitBounds:(m,E)=>r.value.fitBounds(m,E),project:m=>r.value.project(m),screenToFlowCoordinate:m=>r.value.screenToFlowCoordinate(m),flowToScreenCoordinate:m=>r.value.flowToScreenCoordinate(m),toObject:()=>{const m=[],E=[];for(const C of e.nodes){const{computedPosition:k,handleBounds:z,selected:X,dimensions:K,isParent:G,resizing:ne,dragging:te,events:re,...ce}=C;m.push(ce)}for(const C of e.edges){const{selected:k,sourceNode:z,targetNode:X,events:K,...G}=C;E.push(G)}return JSON.parse(JSON.stringify({nodes:m,edges:E,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:m=>new Promise(E=>{const{nodes:C,edges:k,position:z,zoom:X,viewport:K}=m;if(C&&M(C),k&&D(k),K?.x&&K?.y||z){const G=K?.x||z[0],ne=K?.y||z[1],te=K?.zoom||X||e.viewport.zoom;return pl(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:G,y:ne,zoom:te}).then(()=>{E(!0)})})}else E(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{const m=Cg();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const E=Dr.translate(m.defaultViewport.x??0,m.defaultViewport.y??0).scale(Qn(m.defaultViewport.zoom??1,m.minZoom,m.maxZoom)),C=e.viewportRef.getBoundingClientRect(),k=[[0,0],[C.width,C.height]],z=e.d3Zoom.constrain()(E,k,m.translateExtent);e.d3Zoom.transform(e.d3Selection,z)}B(m)},$destroy:()=>{}}}const w1=["data-id","data-handleid","data-nodeid","data-handlepos"],b1={name:"Handle",compatConfig:{MODE:3}},Wt=Se({...b1,props:{id:{default:null},type:{},position:{default:()=>ue.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=qv(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Ne(()=>n.type??"source"),i=Ne(()=>n.isValidConnection??null),{id:o,connectionStartHandle:s,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:c,nodesConnectable:u,noDragClassName:d,noPanClassName:f}=$e(),{id:h,node:g,nodeEl:y,connectedEdges:p}=xg(),b=he(),_=Ne(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),v=Ne(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),S=Ne(()=>{var D,O,Z,I,Y,L;return((D=s.value)==null?void 0:D.nodeId)===h&&((O=s.value)==null?void 0:O.id)===e.id&&((Z=s.value)==null?void 0:Z.type)===r.value||((I=l.value)==null?void 0:I.nodeId)===h&&((Y=l.value)==null?void 0:Y.id)===e.id&&((L=l.value)==null?void 0:L.type)===r.value}),A=Ne(()=>{var D,O,Z;return((D=a.value)==null?void 0:D.nodeId)===h&&((O=a.value)==null?void 0:O.id)===e.id&&((Z=a.value)==null?void 0:Z.type)===r.value}),{handlePointerDown:j,handleClick:U}=Eg({nodeId:h,handleId:e.id,isValidConnection:i,type:r}),N=le(()=>typeof e.connectable=="string"&&e.connectable==="single"?!p.value.some(D=>{const O=D[`${r.value}Handle`];return D[r.value]!==h?!1:O?O===e.id:!0}):typeof e.connectable=="number"?p.value.filter(D=>{const O=D[`${r.value}Handle`];return D[r.value]!==h?!1:O?O===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(g,p.value):He(e.connectable)?e.connectable:u.value);Je(()=>{var D;if(!g.dimensions.width||!g.dimensions.height)return;const O=(D=g.handleBounds[r.value])==null?void 0:D.find(oe=>oe.id===e.id);if(!c.value||O)return;const Z=c.value.querySelector(".vue-flow__transformationpane");if(!y.value||!b.value||!Z||!e.id)return;const I=y.value.getBoundingClientRect(),Y=b.value.getBoundingClientRect(),L=window.getComputedStyle(Z),{m22:W}=new window.DOMMatrixReadOnly(L.transform),Q={id:e.id,position:e.position,x:(Y.left-I.left)/W,y:(Y.top-I.top)/W,type:r.value,nodeId:h,...us(b.value)};g.handleBounds[r.value]=[...g.handleBounds[r.value]??[],Q]});function T(D){const O=du(D);N.value&&_.value&&(O&&D.button===0||!O)&&j(D)}function M(D){!h||!a.value&&!_.value||N.value&&U(D)}return t({handleClick:U,handlePointerDown:j,onClick:M,onPointerDown:T}),(D,O)=>(se(),pe("div",{ref_key:"handle",ref:b,"data-id":`${ee(o)}-${ee(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":ee(h),"data-handlepos":D.position,class:It(["vue-flow__handle",[`vue-flow__handle-${D.position}`,`vue-flow__handle-${e.id}`,ee(d),ee(f),r.value,{connectable:N.value,connecting:A.value,connectablestart:_.value,connectableend:v.value,connectionindicator:N.value&&(_.value&&!S.value||v.value&&S.value)}]]),onMousedown:T,onTouchstartPassive:T,onClick:M},[bt(D.$slots,"default",{id:D.id})],42,w1))}}),fs=function({sourcePosition:e=ue.Bottom,targetPosition:t=ue.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:s}){const a=s.label??n;return[ke(Wt,{type:"target",position:t,connectable:r,isValidConnection:i}),typeof a!="string"&&a?ke(a):ke(Ae,[a]),ke(Wt,{type:"source",position:e,connectable:r,isValidConnection:o})]};fs.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];fs.inheritAttrs=!1;fs.compatConfig={MODE:3};const E1=fs,hs=function({targetPosition:e=ue.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){const o=i.label??t;return[ke(Wt,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof o!="string"&&o?ke(o):ke(Ae,[o])]};hs.props=["targetPosition","label","isValidTargetPos","connectable","data"];hs.inheritAttrs=!1;hs.compatConfig={MODE:3};const S1=hs,ps=function({sourcePosition:e=ue.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){const o=i.label??t;return[typeof o!="string"&&o?ke(o):ke(Ae,[o]),ke(Wt,{type:"source",position:e,connectable:n,isValidConnection:r})]};ps.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ps.inheritAttrs=!1;ps.compatConfig={MODE:3};const x1=ps,k1=["transform"],C1=["width","height","x","y","rx","ry"],P1=["y"],T1={name:"EdgeText",compatConfig:{MODE:3}},N1=Se({...T1,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=he({x:0,y:0,width:0,height:0}),n=he(null),r=le(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Je(i),we([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==t.value.width||o.height!==t.value.height)&&(t.value=o)}return(o,s)=>(se(),pe("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(se(),pe("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*o.labelBgPadding[0]}px`,height:`${t.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:lt(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,C1)):Ue("",!0),ge("text",Kl(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:o.labelStyle}),[bt(o.$slots,"default",{},()=>[typeof o.label!="string"?(se(),Xe(vh(o.label),{key:0})):(se(),pe(Ae,{key:1},[Zo(Ge(o.label),1)],64))])],16,P1)],8,k1))}}),O1=["id","d","marker-end","marker-start"],I1=["d","stroke-width"],A1={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ui=Se({...A1,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=he(null),r=he(null),i=he(null),o=Hv();return t({pathEl:n,interactionEl:r,labelEl:i}),(s,a)=>(se(),pe(Ae,null,[ge("path",Kl(ee(o),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,O1),s.interactionWidth?(se(),pe("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,I1)):Ue("",!0),s.label&&s.labelX&&s.labelY?(se(),Xe(N1,{key:1,ref_key:"labelEl",ref:i,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ue("",!0)],64))}});function Pg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Tg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function oo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Id({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){let s,a;switch(e){case ue.Left:s=t-oo(t-r,o),a=n;break;case ue.Right:s=t+oo(r-t,o),a=n;break;case ue.Top:s=t,a=n-oo(n-i,o);break;case ue.Bottom:s=t,a=n+oo(i-n,o);break}return[s,a]}function Ng(e){const{sourceX:t,sourceY:n,sourcePosition:r=ue.Bottom,targetX:i,targetY:o,targetPosition:s=ue.Top,curvature:a=.25}=e,[l,c]=Id({pos:r,x1:t,y1:n,x2:i,y2:o,c:a}),[u,d]=Id({pos:s,x1:i,y1:o,x2:t,y2:n,c:a}),[f,h,g,y]=Tg({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${c} ${u},${d} ${i},${o}`,f,h,g,y]}function Ad({pos:e,x1:t,y1:n,x2:r,y2:i}){let o,s;switch(e){case ue.Left:case ue.Right:o=.5*(t+r),s=n;break;case ue.Top:case ue.Bottom:o=t,s=.5*(n+i);break}return[o,s]}function Og(e){const{sourceX:t,sourceY:n,sourcePosition:r=ue.Bottom,targetX:i,targetY:o,targetPosition:s=ue.Top}=e,[a,l]=Ad({pos:r,x1:t,y1:n,x2:i,y2:o}),[c,u]=Ad({pos:s,x1:i,y1:o,x2:t,y2:n}),[d,f,h,g]=Tg({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${a},${l} ${c},${u} ${i},${o}`,d,f,h,g]}const $d={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}};function $1({source:e,sourcePosition:t=ue.Bottom,target:n}){return t===ue.Left||t===ue.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Rd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function R1({source:e,sourcePosition:t=ue.Bottom,target:n,targetPosition:r=ue.Top,center:i,offset:o}){const s=$d[t],a=$d[r],l={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=$1({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h,g,y;const p={x:0,y:0},b={x:0,y:0},[_,v,S,A]=Pg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){g=i.x??_,y=i.y??v;const U=[{x:g,y:l.y},{x:g,y:c.y}],N=[{x:l.x,y},{x:c.x,y}];s[d]===f?h=d==="x"?U:N:h=d==="x"?N:U}else{const U=[{x:l.x,y:c.y}],N=[{x:c.x,y:l.y}];if(d==="x"?h=s.x===f?N:U:h=s.y===f?U:N,t===r){const Z=Math.abs(e[d]-n[d]);if(Z<=o){const I=Math.min(o-1,o-Z);s[d]===f?p[d]=(l[d]>e[d]?-1:1)*I:b[d]=(c[d]>n[d]?-1:1)*I}}if(t!==r){const Z=d==="x"?"y":"x",I=s[d]===a[Z],Y=l[Z]>c[Z],L=l[Z]<c[Z];(s[d]===1&&(!I&&Y||I&&L)||s[d]!==1&&(!I&&L||I&&Y))&&(h=d==="x"?U:N)}const T={x:l.x+p.x,y:l.y+p.y},M={x:c.x+b.x,y:c.y+b.y},D=Math.max(Math.abs(T.x-h[0].x),Math.abs(M.x-h[0].x)),O=Math.max(Math.abs(T.y-h[0].y),Math.abs(M.y-h[0].y));D>=O?(g=(T.x+M.x)/2,y=h[0].y):(g=h[0].x,y=(T.y+M.y)/2)}return[[e,{x:l.x+p.x,y:l.y+p.y},...h,{x:c.x+b.x,y:c.y+b.y},n],g,y,S,A]}function M1(e,t,n,r){const i=Math.min(Rd(e,t)/2,Rd(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function jo(e){const{sourceX:t,sourceY:n,sourcePosition:r=ue.Bottom,targetX:i,targetY:o,targetPosition:s=ue.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}=e,[d,f,h,g,y]=R1({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:s,center:{x:l,y:c},offset:u});return[d.reduce((b,_,v)=>{let S;return v>0&&v<d.length-1?S=M1(d[v-1],_,d[v+1],a):S=`${v===0?"M":"L"}${_.x} ${_.y}`,b+=S,b},""),f,h,g,y]}function D1(e){const{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[o,s,a,l]=Pg({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,o,s,a,l]}const j1=Se({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=D1(e);return ke(Ui,{path:n,labelX:r,labelY:i,...t,...e})}}}),L1=j1,B1=Se({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=jo({...e,sourcePosition:e.sourcePosition??ue.Bottom,targetPosition:e.targetPosition??ue.Top});return ke(Ui,{path:n,labelX:r,labelY:i,...t,...e})}}}),Ig=B1,z1=Se({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>ke(Ig,{...e,...t,borderRadius:0})}}),F1=z1,U1=Se({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=Ng({...e,sourcePosition:e.sourcePosition??ue.Bottom,targetPosition:e.targetPosition??ue.Top});return ke(Ui,{path:n,labelX:r,labelY:i,...t,...e})}}}),V1=U1,H1=Se({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=Og({...e,sourcePosition:e.sourcePosition??ue.Bottom,targetPosition:e.targetPosition??ue.Top});return ke(Ui,{path:n,labelX:r,labelY:i,...t,...e})}}}),q1=H1,G1={input:x1,default:E1,output:S1},W1={default:V1,straight:L1,step:F1,smoothstep:Ig,simplebezier:q1};function K1(e,t,n){const r=le(()=>y=>t.value.get(y)),i=le(()=>y=>n.value.get(y)),o=le(()=>{const y={...W1,...e.edgeTypes},p=Object.keys(y);for(const b of e.edges)b.type&&!p.includes(b.type)&&(y[b.type]=b.type);return y}),s=le(()=>{const y={...G1,...e.nodeTypes},p=Object.keys(y);for(const b of e.nodes)b.type&&!p.includes(b.type)&&(y[b.type]=b.type);return y}),a=le(()=>e.onlyRenderVisibleElements?fg(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=le(()=>{if(e.onlyRenderVisibleElements){const y=[];for(const p of e.edges){const b=t.value.get(p.source),_=t.value.get(p.target);Hx({sourcePos:b.computedPosition||{x:0,y:0},targetPos:_.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:_.dimensions.width,targetHeight:_.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&y.push(p)}return y}return e.edges}),c=le(()=>[...a.value,...l.value]),u=le(()=>{const y=[];for(const p of e.nodes)p.selected&&y.push(p);return y}),d=le(()=>{const y=[];for(const p of e.edges)p.selected&&y.push(p);return y}),f=le(()=>[...u.value,...d.value]),h=le(()=>{const y=[];for(const p of e.nodes)p.dimensions.width&&p.dimensions.height&&p.handleBounds!==void 0&&y.push(p);return y}),g=le(()=>a.value.length>0&&h.value.length===a.value.length);return{getNode:r,getEdge:i,getElements:c,getEdgeTypes:o,getNodeTypes:s,getEdges:l,getNodes:a,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:g}}class Hn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=tr())==null?void 0:t.appContext.app,r=n?.config.globalProperties.$vueFlowStorage??Hn.instance;return Hn.instance=r??new Hn,n&&(n.config.globalProperties.$vueFlowStorage=Hn.instance),Hn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=Cg(),i=zr(r),o={};for(const[f,h]of Object.entries(i.hooks)){const g=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;o[g]=h.on}const s={};for(const[f,h]of Object.entries(i.hooks))s[f]=h.trigger;const a=le(()=>{const f=new Map;for(const h of i.nodes)f.set(h.id,h);return f}),l=le(()=>{const f=new Map;for(const h of i.edges)f.set(h.id,h);return f}),c=K1(i,a,l),u=_1(i,a,l);u.setState({...i,...n});const d={...o,...c,...u,...Fw(i),nodeLookup:a,edgeLookup:l,emits:s,id:t,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function $e(e){const t=Hn.getInstance(),n=Ho(),r=typeof e=="object",i=r?e:{id:e},o=i.id,s=o??n?.vueFlowId;let a;if(n){const l=ze(Od,null);typeof l<"u"&&l!==null&&(!s||l.id===s)&&(a=l)}if(a||s&&(a=t.get(s)),!a||s&&a.id!==s){const l=o??t.getId(),c=t.create(l,i);a=c,(n??Vo(!0)).run(()=>{we(c.applyDefault,(d,f,h)=>{const g=p=>{c.applyNodeChanges(p)},y=p=>{c.applyEdgeChanges(p)};d?(c.onNodesChange(g),c.onEdgesChange(y)):(c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(y)),h(()=>{c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(y)})},{immediate:!0}),is(()=>{if(a){const d=t.get(a.id);d?d.$destroy():Fi(`No store instance found for id ${a.id} in storage.`)}})})}else r&&a.setState(i);if(n&&(tt(Od,a),n.vueFlowId=a.id),r){const l=tr();l?.type.name!=="VueFlow"&&a.emits.error(new Ye(qe.USEVUEFLOW_OPTIONS))}return a}function Y1(e){const{emits:t,dimensions:n}=$e();let r;Je(()=>{const i=e.value,o=()=>{if(!i)return;const s=us(i);(s.width===0||s.height===0)&&t.error(new Ye(qe.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};o(),window.addEventListener("resize",o),i&&(r=new ResizeObserver(()=>o()),r.observe(i)),Rn(()=>{window.removeEventListener("resize",o),r&&i&&r.unobserve(i)})})}const X1={name:"UserSelection",compatConfig:{MODE:3}},J1=Se({...X1,props:{userSelectionRect:{}},setup(e){return(t,n)=>(se(),pe("div",{class:"vue-flow__selection vue-flow__container",style:lt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),Z1=["tabIndex"],Q1={name:"NodesSelection",compatConfig:{MODE:3}},ek=Se({...Q1,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:s}=$e(),a=kg(),l=he(null),c=bg({el:l,onStart(g){t.selectionDragStart(g)},onDrag(g){t.selectionDrag(g)},onStop(g){t.selectionDragStop(g)}});Je(()=>{var g;o.value||(g=l.value)==null||g.focus({preventScroll:!0})});const u=le(()=>dg(r.value)),d=le(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function f(g){t.selectionContextMenu({event:g,nodes:r.value})}function h(g){o||Pr[g.key]&&(g.preventDefault(),a({x:Pr[g.key].x,y:Pr[g.key].y},g.shiftKey))}return(g,y)=>!ee(s)&&u.value.width&&u.value.height?(se(),pe("div",{key:0,class:It(["vue-flow__nodesselection vue-flow__container",ee(i)]),style:lt({transform:`translate(${ee(n).x}px,${ee(n).y}px) scale(${ee(n).zoom})`})},[ge("div",{ref_key:"el",ref:l,class:It([{dragging:ee(c)},"vue-flow__nodesselection-rect"]),style:lt(d.value),tabIndex:ee(o)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,Z1)],6)):Ue("",!0)}});function tk(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const nk={name:"Pane",compatConfig:{MODE:3}},rk=Se({...nk,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:s,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:g,deleteKeyCode:y,multiSelectionKeyCode:p,multiSelectionActive:b,edgeLookup:_,nodeLookup:v,connectionLookup:S,defaultEdgeOptions:A,connectionStartHandle:j}=$e(),U=he(null),N=he(new Set),T=he(new Set),M=he(),D=Ne(()=>l.value&&(e.isSelecting||o.value)),O=Ne(()=>j.value!==null);let Z=!1,I=!1;const Y=_i(y,{actInsideInputWithModifier:!1}),L=_i(p);we(Y,F=>{F&&(f(d.value),h(u.value),c.value=!1)}),we(L,F=>{b.value=F});function W(F,V){return J=>{J.target===V&&F?.(J)}}function Q(F){if(Z||O.value){Z=!1;return}i.paneClick(F),s(),c.value=!1}function oe(F){F.preventDefault(),F.stopPropagation(),i.paneContextMenu(F)}function ie(F){i.paneScroll(F)}function ae(F){var V,J,P;if(M.value=(V=t.value)==null?void 0:V.getBoundingClientRect(),!l.value||!e.isSelecting||F.button!==0||F.target!==U.value||!M.value)return;(P=(J=F.target)==null?void 0:J.setPointerCapture)==null||P.call(J,F.pointerId);const{x:R,y:$}=tk(F,M.value);I=!0,Z=!1,s(),a.value={width:0,height:0,startX:R,startY:$,x:R,y:$},i.selectionStart(F)}function fe(F){var V;if(!M.value||!a.value)return;Z=!0;const{x:J,y:P}=Vt(F,M.value),{startX:R=0,startY:$=0}=a.value,B={startX:R,startY:$,x:J<R?J:R,y:P<$?P:$,width:Math.abs(J-R),height:Math.abs(P-$)},q=N.value,w=T.value;N.value=new Set(fg(n.value,B,r.value,g.value===uu.Partial,!0).map(m=>m.id)),T.value=new Set;const x=((V=A.value)==null?void 0:V.selectable)??!0;for(const m of N.value){const E=S.value.get(m);if(E)for(const{edgeId:C}of E.values()){const k=_.value.get(C);k&&(k.selectable??x)&&T.value.add(C)}}if(!Nd(q,N.value)){const m=kn(v.value,N.value,!0);i.nodesChange(m)}if(!Nd(w,T.value)){const m=kn(_.value,T.value);i.edgesChange(m)}a.value=B,o.value=!0,c.value=!1}function H(F){var V;F.button!==0||!I||((V=F.target)==null||V.releasePointerCapture(F.pointerId),!o.value&&a.value&&F.target===U.value&&Q(F),o.value=!1,a.value=null,c.value=N.value.size>0,i.selectionEnd(F),e.selectionKeyPressed&&(Z=!1),I=!1)}return(F,V)=>(se(),pe("div",{ref_key:"container",ref:U,class:It(["vue-flow__pane vue-flow__container",{selection:F.isSelecting}]),onClick:V[0]||(V[0]=J=>D.value?void 0:W(Q,U.value)(J)),onContextmenu:V[1]||(V[1]=J=>W(oe,U.value)(J)),onWheelPassive:V[2]||(V[2]=J=>W(ie,U.value)(J)),onPointerenter:V[3]||(V[3]=J=>D.value?void 0:ee(i).paneMouseEnter(J)),onPointerdown:V[4]||(V[4]=J=>D.value?ae(J):ee(i).paneMouseMove(J)),onPointermove:V[5]||(V[5]=J=>D.value?fe(J):ee(i).paneMouseMove(J)),onPointerup:V[6]||(V[6]=J=>D.value?H(J):void 0),onPointerleave:V[7]||(V[7]=J=>ee(i).paneMouseLeave(J))},[bt(F.$slots,"default"),ee(o)&&ee(a)?(se(),Xe(J1,{key:0,"user-selection-rect":ee(a)},null,8,["user-selection-rect"])):Ue("",!0),ee(c)&&ee(d).length?(se(),Xe(ek,{key:1})):Ue("",!0)],34))}}),ik={name:"Transform",compatConfig:{MODE:3}},ok=Se({...ik,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=$e(),i=le(()=>n.value?!r.value:!1),o=le(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,a)=>(se(),pe("div",{class:"vue-flow__transformationpane vue-flow__container",style:lt({transform:o.value,opacity:i.value?0:void 0})},[bt(s.$slots,"default")],4))}}),sk={name:"Viewport",compatConfig:{MODE:3}},ak=Se({...sk,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:s,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:g,preventScrolling:y,noWheelClassName:p,noPanClassName:b,emits:_,connectionStartHandle:v,userSelectionActive:S,paneDragging:A,d3Zoom:j,d3Selection:U,d3ZoomHandler:N,viewport:T,viewportRef:M,paneClickDistance:D}=$e();Y1(M);const O=Ei(!1),Z=Ei(!1);let I=null,Y=!1,L=0,W={x:0,y:0,zoom:0};const Q=_i(a),oe=_i(s),ie=_i(o),ae=Ne(()=>(!oe.value||oe.value&&s.value===!0)&&(Q.value||d.value)),fe=Ne(()=>Q.value||l.value),H=Ne(()=>oe.value||s.value===!0&&ae.value!==!0);Je(()=>{if(!M.value){Fi("Viewport element is missing");return}const $=M.value,B=$.getBoundingClientRect(),q=kx().clickDistance(D.value).scaleExtent([t.value,n.value]).translateExtent(i.value),w=Ct($).call(q),x=w.on("wheel.zoom"),m=Dr.translate(r.value.x??0,r.value.y??0).scale(Qn(r.value.zoom??1,t.value,n.value)),E=[[0,0],[B.width,B.height]],C=q.constrain()(m,E,i.value);q.transform(w,C),q.wheelDelta(V),j.value=q,U.value=w,N.value=x,T.value={x:C.x,y:C.y,zoom:C.k},q.on("start",k=>{var z;if(!k.sourceEvent)return null;L=k.sourceEvent.button,O.value=!0;const X=P(k.transform);((z=k.sourceEvent)==null?void 0:z.type)==="mousedown"&&(A.value=!0),W=X,_.viewportChangeStart(X),_.moveStart({event:k,flowTransform:X})}),q.on("end",k=>{if(!k.sourceEvent)return null;if(O.value=!1,A.value=!1,F(ae.value,L??0)&&!Y&&_.paneContextMenu(k.sourceEvent),Y=!1,J(W,k.transform)){const z=P(k.transform);W=z,_.viewportChangeEnd(z),_.moveEnd({event:k,flowTransform:z})}}),q.filter(k=>{var z;const X=ie.value||g.value,K=h.value&&k.ctrlKey,G=k.button;if(G===1&&k.type==="mousedown"&&(R(k,"vue-flow__node")||R(k,"vue-flow__edge")))return!0;if(!ae.value&&!X&&!fe.value&&!f.value&&!h.value||S.value||!f.value&&k.type==="dblclick"||R(k,p.value)&&k.type==="wheel"||R(k,b.value)&&(k.type!=="wheel"||fe.value&&k.type==="wheel"&&!ie.value)||!h.value&&k.ctrlKey&&k.type==="wheel"||!X&&!fe.value&&!K&&k.type==="wheel")return!1;if(!h&&k.type==="touchstart"&&((z=k.touches)==null?void 0:z.length)>1)return k.preventDefault(),!1;if(!ae.value&&(k.type==="mousedown"||k.type==="touchstart")||s.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&G===0||Array.isArray(d.value)&&!d.value.includes(G)&&(k.type==="mousedown"||k.type==="touchstart"))return!1;const ne=Array.isArray(d.value)&&d.value.includes(G)||s.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!G||G<=1;return(!k.ctrlKey||Q.value||k.type==="wheel")&&ne}),we([S,ae],()=>{S.value&&!O.value?q.on("zoom",null):S.value||q.on("zoom",k=>{T.value={x:k.transform.x,y:k.transform.y,zoom:k.transform.k};const z=P(k.transform);Y=F(ae.value,L??0),_.viewportChange(z),_.move({event:k,flowTransform:z})})},{immediate:!0}),we([S,fe,c,ie,h,y,p],()=>{fe.value&&!ie.value&&!S.value?w.on("wheel.zoom",k=>{if(R(k,p.value))return!1;const z=ie.value||g.value,X=h.value&&k.ctrlKey;if(!(!y.value||fe.value||z||X))return!1;k.preventDefault(),k.stopImmediatePropagation();const G=w.property("__zoom").k||1,ne=Do();if(!Q.value&&k.ctrlKey&&h.value&&ne){const Ce=zt(k),Te=V(k),rt=G*2**Te;q.scaleTo(w,rt,Ce,k);return}const te=k.deltaMode===1?20:1;let re=c.value===yi.Vertical?0:k.deltaX*te,ce=c.value===yi.Horizontal?0:k.deltaY*te;!ne&&k.shiftKey&&c.value!==yi.Vertical&&!re&&ce&&(re=ce,ce=0),q.translateBy(w,-(re/G)*u.value,-(ce/G)*u.value);const ye=P(w.property("__zoom"));I&&clearTimeout(I),Z.value?(_.move({event:k,flowTransform:ye}),_.viewportChange(ye),I=setTimeout(()=>{_.moveEnd({event:k,flowTransform:ye}),_.viewportChangeEnd(ye),Z.value=!1},150)):(Z.value=!0,_.moveStart({event:k,flowTransform:ye}),_.viewportChangeStart(ye))},{passive:!1}):typeof x<"u"&&w.on("wheel.zoom",function(k,z){const X=!y.value&&k.type==="wheel"&&!k.ctrlKey,K=ie.value||g.value,G=h.value&&k.ctrlKey;if(!K&&!l.value&&!G&&k.type==="wheel"||X||R(k,p.value))return null;k.preventDefault(),x.call(this,k,z)},{passive:!1})},{immediate:!0})});function F($,B){return B===2&&Array.isArray($)&&$.includes(2)}function V($){const B=$.ctrlKey&&Do()?10:1;return-$.deltaY*($.deltaMode===1?.05:$.deltaMode?1:.002)*B}function J($,B){return $.x!==B.x&&!Number.isNaN(B.x)||$.y!==B.y&&!Number.isNaN(B.y)||$.zoom!==B.k&&!Number.isNaN(B.k)}function P($){return{x:$.x,y:$.y,zoom:$.k}}function R($,B){return $.target.closest(`.${B}`)}return($,B)=>(se(),pe("div",{ref_key:"viewportRef",ref:M,class:"vue-flow__viewport vue-flow__container"},[ve(rk,{"is-selecting":H.value,"selection-key-pressed":ee(oe),class:It({connecting:!!ee(v),dragging:ee(A),draggable:ee(d)===!0||Array.isArray(ee(d))&&ee(d).includes(0)})},{default:Be(()=>[ve(ok,null,{default:Be(()=>[bt($.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),lk=["id"],uk=["id"],ck=["id"],dk={name:"A11yDescriptions",compatConfig:{MODE:3}},fk=Se({...dk,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=$e();return(i,o)=>(se(),pe(Ae,null,[ge("div",{id:`${ee(rg)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ge(ee(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,lk),ge("div",{id:`${ee(ig)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,uk),ee(n)?Ue("",!0):(se(),pe("div",{key:0,id:`${ee(Ix)}-${ee(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ge(ee(r)),9,ck))],64))}});function hk(){const e=$e();we(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function pk(e,t,n){return n===ue.Left?e-t:n===ue.Right?e+t:e}function gk(e,t,n){return n===ue.Top?e-t:n===ue.Bottom?e+t:e}const fu=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=ue.Top,type:i}){return ke("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:pk(t,e,r),cy:gk(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};fu.props=["radius","centerX","centerY","position","type"];fu.compatConfig={MODE:3};const Md=fu,vk=Se({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:s,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:c,findEdge:u,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:g,elementsSelectable:y,edgesUpdatable:p,edgesFocusable:b,hooks:_}=$e(),v=le(()=>u(e.id)),{emit:S,on:A}=l1(v.value,o),j=ze(ds),U=tr(),N=he(!1),T=he(!1),M=he(""),D=he(null),O=he("source"),Z=he(null),I=Ne(()=>typeof v.value.selectable>"u"?y.value:v.value.selectable),Y=Ne(()=>typeof v.value.updatable>"u"?p.value:v.value.updatable),L=Ne(()=>typeof v.value.focusable>"u"?b.value:v.value.focusable);tt(o1,e.id),tt(s1,Z);const W=le(()=>v.value.class instanceof Function?v.value.class(v.value):v.value.class),Q=le(()=>v.value.style instanceof Function?v.value.style(v.value):v.value.style),oe=le(()=>{const E=v.value.type||"default",C=j?.[`edge-${E}`];if(C)return C;let k=v.value.template??l.value[E];if(typeof k=="string"&&U){const z=Object.keys(U.appContext.components);z&&z.includes(E)&&(k=Ul(E,!1))}return k&&typeof k!="string"?k:(o.error(new Ye(qe.EDGE_TYPE_MISSING,k)),!1)}),{handlePointerDown:ie}=Eg({nodeId:M,handleId:D,type:O,isValidConnection:f,edgeUpdaterType:O,onEdgeUpdate:H,onEdgeUpdateEnd:F});return()=>{const E=d(v.value.source),C=d(v.value.target),k="pathOptions"in v.value?v.value.pathOptions:{};if(!E&&!C)return o.error(new Ye(qe.EDGE_SOURCE_TARGET_MISSING,v.value.id,v.value.source,v.value.target)),null;if(!E)return o.error(new Ye(qe.EDGE_SOURCE_MISSING,v.value.id,v.value.source)),null;if(!C)return o.error(new Ye(qe.EDGE_TARGET_MISSING,v.value.id,v.value.target)),null;if(!v.value||v.value.hidden||E.hidden||C.hidden)return null;let z;r.value===An.Strict?z=E.handleBounds.source:z=[...E.handleBounds.source||[],...E.handleBounds.target||[]];const X=Ed(z,v.value.sourceHandle);let K;r.value===An.Strict?K=C.handleBounds.target:K=[...C.handleBounds.target||[],...C.handleBounds.source||[]];const G=Ed(K,v.value.targetHandle),ne=X?.position||ue.Bottom,te=G?.position||ue.Top,{x:re,y:ce}=jr(E,X,ne),{x:ye,y:Ce}=jr(C,G,te);return v.value.sourceX=re,v.value.sourceY=ce,v.value.targetX=ye,v.value.targetY=Ce,ke("g",{ref:Z,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${oe.value===!1?"default":v.value.type||"default"}`,a.value,W.value,{updating:N.value,selected:v.value.selected,animated:v.value.animated,inactive:!I.value&&!_.value.edgeClick.hasListeners()}],tabIndex:L.value?0:void 0,"aria-label":v.value.ariaLabel===null?void 0:v.value.ariaLabel??`Edge from ${v.value.source} to ${v.value.target}`,"aria-describedby":L.value?`${ig}-${t}`:void 0,"aria-roledescription":"edge",role:L.value?"group":"img",...v.value.domAttributes,onClick:J,onContextmenu:P,onDblclick:R,onMouseenter:$,onMousemove:B,onMouseleave:q,onKeyDown:L.value?m:void 0},[T.value?null:ke(oe.value===!1?l.value.default:oe.value,{id:e.id,sourceNode:E,targetNode:C,source:v.value.source,target:v.value.target,type:v.value.type,updatable:Y.value,selected:v.value.selected,animated:v.value.animated,label:v.value.label,labelStyle:v.value.labelStyle,labelShowBg:v.value.labelShowBg,labelBgStyle:v.value.labelBgStyle,labelBgPadding:v.value.labelBgPadding,labelBgBorderRadius:v.value.labelBgBorderRadius,data:v.value.data,events:{...v.value.events,...A},style:Q.value,markerStart:`url('#${Ri(v.value.markerStart,t)}')`,markerEnd:`url('#${Ri(v.value.markerEnd,t)}')`,sourcePosition:ne,targetPosition:te,sourceX:re,sourceY:ce,targetX:ye,targetY:Ce,sourceHandleId:v.value.sourceHandle,targetHandleId:v.value.targetHandle,interactionWidth:v.value.interactionWidth,...k}),[Y.value==="source"||Y.value===!0?[ke("g",{onMousedown:w,onMouseenter:ae,onMouseout:fe},ke(Md,{position:ne,centerX:re,centerY:ce,radius:i.value,type:"source","data-type":"source"}))]:null,Y.value==="target"||Y.value===!0?[ke("g",{onMousedown:x,onMouseenter:ae,onMouseout:fe},ke(Md,{position:te,centerX:ye,centerY:Ce,radius:i.value,type:"target","data-type":"target"}))]:null]])};function ae(){N.value=!0}function fe(){N.value=!1}function H(E,C){S.update({event:E,edge:v.value,connection:C})}function F(E){S.updateEnd({event:E,edge:v.value}),T.value=!1}function V(E,C){E.button===0&&(T.value=!0,M.value=C?v.value.target:v.value.source,D.value=(C?v.value.targetHandle:v.value.sourceHandle)??null,O.value=C?"target":"source",S.updateStart({event:E,edge:v.value}),ie(E))}function J(E){var C;const k={event:E,edge:v.value};I.value&&(s.value=!1,v.value.selected&&h.value?(c([v.value]),(C=Z.value)==null||C.blur()):n([v.value])),S.click(k)}function P(E){S.contextMenu({event:E,edge:v.value})}function R(E){S.doubleClick({event:E,edge:v.value})}function $(E){S.mouseEnter({event:E,edge:v.value})}function B(E){S.mouseMove({event:E,edge:v.value})}function q(E){S.mouseLeave({event:E,edge:v.value})}function w(E){V(E,!0)}function x(E){V(E,!1)}function m(E){var C;!g.value&&og.includes(E.key)&&I.value&&(E.key==="Escape"?((C=Z.value)==null||C.blur(),c([u(e.id)])):n([u(e.id)]))}}}),mk=vk,yk=Se({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:s,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:c,viewport:u,findNode:d}=$e(),f=(e=ze(ds))==null?void 0:e["connection-line"],h=le(()=>{var _;return d((_=r.value)==null?void 0:_.nodeId)}),g=le(()=>{var _;return d((_=i.value)==null?void 0:_.nodeId)??null}),y=le(()=>({x:(o.value.x-u.value.x)/u.value.zoom,y:(o.value.y-u.value.y)/u.value.zoom})),p=le(()=>l.value.markerStart?`url(#${Ri(l.value.markerStart,t)})`:""),b=le(()=>l.value.markerEnd?`url(#${Ri(l.value.markerEnd,t)})`:"");return()=>{var _,v,S;if(!h.value||!r.value)return null;const A=r.value.id,j=r.value.type,U=h.value.handleBounds;let N=U?.[j]??[];if(n.value===An.Loose){const Q=U?.[j==="source"?"target":"source"]??[];N=[...N,...Q]}if(!N)return null;const T=(A?N.find(Q=>Q.id===A):N[0])??null,M=T?.position??ue.Top,{x:D,y:O}=jr(h.value,T,M);let Z=null;g.value&&(n.value===An.Strict?Z=((_=g.value.handleBounds[j==="source"?"target":"source"])==null?void 0:_.find(Q=>{var oe;return Q.id===((oe=i.value)==null?void 0:oe.id)}))||null:Z=((v=[...g.value.handleBounds.source??[],...g.value.handleBounds.target??[]])==null?void 0:v.find(Q=>{var oe;return Q.id===((oe=i.value)==null?void 0:oe.id)}))||null);const I=((S=i.value)==null?void 0:S.position)??(M?Cl[M]:null);if(!M||!I)return null;const Y=s.value??l.value.type??Vn.Bezier;let L="";const W={sourceX:D,sourceY:O,sourcePosition:M,targetX:y.value.x,targetY:y.value.y,targetPosition:I};return Y===Vn.Bezier?[L]=Ng(W):Y===Vn.Step?[L]=jo({...W,borderRadius:0}):Y===Vn.SmoothStep?[L]=jo(W):Y===Vn.SimpleBezier?[L]=Og(W):L=`M${D},${O} ${y.value.x},${y.value.y}`,ke("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},ke("g",{class:"vue-flow__connection"},f?ke(f,{sourceX:D,sourceY:O,sourcePosition:M,targetX:y.value.x,targetY:y.value.y,targetPosition:I,sourceNode:h.value,sourceHandle:T,targetNode:g.value,targetHandle:Z,markerEnd:b.value,markerStart:p.value,connectionStatus:c.value}):ke("path",{d:L,class:[l.value.class,c,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":b.value,"marker-start":p.value})))}}}),_k=yk,wk=["id","markerWidth","markerHeight","markerUnits","orient"],bk={name:"MarkerType",compatConfig:{MODE:3}},Ek=Se({...bk,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(se(),pe("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ee(Sl).ArrowClosed?(se(),pe("polyline",{key:0,style:lt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ue("",!0),t.type===ee(Sl).Arrow?(se(),pe("polyline",{key:1,style:lt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ue("",!0)],8,wk))}}),Sk={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},xk={name:"MarkerDefinitions",compatConfig:{MODE:3}},kk=Se({...xk,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=$e(),o=le(()=>{const s=new Set,a=[],l=c=>{if(c){const u=Ri(c,t);s.has(u)||(typeof c=="object"?a.push({...c,id:u,color:c.color||i.value}):a.push({id:u,color:i.value,type:c}),s.add(u))}};for(const c of[r.value.markerEnd,r.value.markerStart])l(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])l(u);return a.sort((c,u)=>c.id.localeCompare(u.id))});return(s,a)=>(se(),pe("svg",Sk,[ge("defs",null,[(se(!0),pe(Ae,null,dn(o.value,l=>(se(),Xe(Ek,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Ck={name:"Edges",compatConfig:{MODE:3}},Pk=Se({...Ck,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=$e();return(i,o)=>(se(),pe(Ae,null,[ve(kk),(se(!0),pe(Ae,null,dn(ee(n),s=>(se(),pe("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:lt({zIndex:ee(qx)(s,ee(t),ee(r))})},[ve(ee(mk),{id:s.id},null,8,["id"])],4))),128)),ve(ee(_k))],64))}}),Tk=Se({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:s,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:g,ariaLiveMessage:y,snapToGrid:p,snapGrid:b,nodeDragThreshold:_,nodesDraggable:v,elementsSelectable:S,nodesConnectable:A,nodesFocusable:j,hooks:U}=$e(),N=he(null);tt(wg,N),tt(_g,e.id);const T=ze(ds),M=tr(),D=kg(),{node:O,parentNode:Z}=xg(e.id),{emit:I,on:Y}=d1(O,s),L=Ne(()=>typeof O.draggable>"u"?v.value:O.draggable),W=Ne(()=>typeof O.selectable>"u"?S.value:O.selectable),Q=Ne(()=>typeof O.connectable>"u"?A.value:O.connectable),oe=Ne(()=>typeof O.focusable>"u"?j.value:O.focusable),ie=le(()=>W.value||L.value||U.value.nodeClick.hasListeners()||U.value.nodeDoubleClick.hasListeners()||U.value.nodeMouseEnter.hasListeners()||U.value.nodeMouseMove.hasListeners()||U.value.nodeMouseLeave.hasListeners()),ae=Ne(()=>!!O.dimensions.width&&!!O.dimensions.height),fe=le(()=>{const C=O.type||"default",k=T?.[`node-${C}`];if(k)return k;let z=O.template||d.value[C];if(typeof z=="string"&&M){const X=Object.keys(M.appContext.components);X&&X.includes(C)&&(z=Ul(C,!1))}return z&&typeof z!="string"?z:(s.error(new Ye(qe.NODE_TYPE_MISSING,z)),!1)}),H=bg({id:e.id,el:N,disabled:()=>!L.value,selectable:W,dragHandle:()=>O.dragHandle,onStart(C){I.dragStart(C)},onDrag(C){I.drag(C)},onStop(C){I.dragStop(C)},onClick(C){m(C)}}),F=le(()=>O.class instanceof Function?O.class(O):O.class),V=le(()=>{const C=(O.style instanceof Function?O.style(O):O.style)||{},k=O.width instanceof Function?O.width(O):O.width,z=O.height instanceof Function?O.height(O):O.height;return!C.width&&k&&(C.width=typeof k=="string"?k:`${k}px`),!C.height&&z&&(C.height=typeof z=="string"?z:`${z}px`),C}),J=Ne(()=>Number(O.zIndex??V.value.zIndex??0));return u(C=>{(C.includes(e.id)||!C.length)&&R()}),Je(()=>{we(()=>O.hidden,(C=!1,k,z)=>{!C&&N.value&&(e.resizeObserver.observe(N.value),z(()=>{N.value&&e.resizeObserver.unobserve(N.value)}))},{immediate:!0,flush:"post"})}),we([()=>O.type,()=>O.sourcePosition,()=>O.targetPosition],()=>{Ve(()=>{c([{id:e.id,nodeElement:N.value,forceUpdate:!0}])})}),we([()=>O.position.x,()=>O.position.y,()=>{var C;return(C=Z.value)==null?void 0:C.computedPosition.x},()=>{var C;return(C=Z.value)==null?void 0:C.computedPosition.y},()=>{var C;return(C=Z.value)==null?void 0:C.computedPosition.z},J,()=>O.selected,()=>O.dimensions.height,()=>O.dimensions.width,()=>{var C;return(C=Z.value)==null?void 0:C.dimensions.height},()=>{var C;return(C=Z.value)==null?void 0:C.dimensions.width}],([C,k,z,X,K,G])=>{const ne={x:C,y:k,z:G+(h.value&&O.selected?1e3:0)};typeof z<"u"&&typeof X<"u"?O.computedPosition=Bx({x:z,y:X,z:K},ne):O.computedPosition=ne},{flush:"post",immediate:!0}),we([()=>O.extent,f],([C,k],[z,X])=>{(C!==z||k!==X)&&P()}),O.extent==="parent"||typeof O.extent=="object"&&"range"in O.extent&&O.extent.range==="parent"?pl(()=>ae).toBe(!0).then(P):P(),()=>O.hidden?null:ke("div",{ref:N,"data-id":O.id,class:["vue-flow__node",`vue-flow__node-${fe.value===!1?"default":O.type||"default"}`,{[n.value]:L.value,dragging:H?.value,draggable:L.value,selected:O.selected,selectable:W.value,parent:O.isParent},F.value],style:{visibility:ae.value?"visible":"hidden",zIndex:O.computedPosition.z??J.value,transform:`translate(${O.computedPosition.x}px,${O.computedPosition.y}px)`,pointerEvents:ie.value?"all":"none",...V.value},tabIndex:oe.value?0:void 0,role:oe.value?"group":void 0,"aria-describedby":g.value?void 0:`${rg}-${t}`,"aria-label":O.ariaLabel,"aria-roledescription":"node",...O.domAttributes,onMouseenter:$,onMousemove:B,onMouseleave:q,onContextmenu:w,onClick:m,onDblclick:x,onKeydown:E},[ke(fe.value===!1?d.value.default:fe.value,{id:O.id,type:O.type,data:O.data,events:{...O.events,...Y},selected:O.selected,resizing:O.resizing,dragging:H.value,connectable:Q.value,position:O.computedPosition,dimensions:O.dimensions,isValidTargetPos:O.isValidTargetPos,isValidSourcePos:O.isValidSourcePos,parent:O.parentNode,parentNodeId:O.parentNode,zIndex:O.computedPosition.z??J.value,targetPosition:O.targetPosition,sourcePosition:O.sourcePosition,label:O.label,dragHandle:O.dragHandle,onUpdateNodeInternals:R})]);function P(){const C=O.computedPosition,{computedPosition:k,position:z}=cu(O,p.value?cs(C,b.value):C,s.error,f.value,Z.value);(O.computedPosition.x!==k.x||O.computedPosition.y!==k.y)&&(O.computedPosition={...O.computedPosition,...k}),(O.position.x!==z.x||O.position.y!==z.y)&&(O.position=z)}function R(){N.value&&c([{id:e.id,nodeElement:N.value,forceUpdate:!0}])}function $(C){H?.value||I.mouseEnter({event:C,node:O})}function B(C){H?.value||I.mouseMove({event:C,node:O})}function q(C){H?.value||I.mouseLeave({event:C,node:O})}function w(C){return I.contextMenu({event:C,node:O})}function x(C){return I.doubleClick({event:C,node:O})}function m(C){W.value&&(!r.value||!L.value||_.value>0)&&Pl(O,o.value,l,a,i,!1,N.value),I.click({event:C,node:O})}function E(C){if(!(xl(C)||g.value))if(og.includes(C.key)&&W.value){const k=C.key==="Escape";Pl(O,o.value,l,a,i,k,N.value)}else L.value&&O.selected&&Pr[C.key]&&(C.preventDefault(),y.value=`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~O.position.x}, y: ${~~O.position.y}`,D({x:Pr[C.key].x,y:Pr[C.key].y},C.shiftKey))}}}),Nk=Tk,Ok={height:"0",width:"0"},Ik={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},Ak=Se({...Ik,setup(e){const{viewportRef:t}=$e(),n=Ne(()=>{var r;return(r=t.value)==null?void 0:r.getElementsByClassName("vue-flow__edge-labels")[0]});return(r,i)=>(se(),pe("svg",null,[(se(),pe("foreignObject",Ok,[(se(),Xe($v,{to:n.value,disabled:!n.value},[bt(r.$slots,"default")],8,["to","disabled"]))]))]))}});function $k(e={includeHiddenNodes:!1}){const{nodes:t}=$e();return le(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Rk={class:"vue-flow__nodes vue-flow__container"},Mk={name:"Nodes",compatConfig:{MODE:3}},Dk=Se({...Mk,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=$e(),i=$k(),o=he();return we(i,s=>{s&&Ve(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),Je(()=>{o.value=new ResizeObserver(s=>{const a=s.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Ve(()=>n(a))})}),Rn(()=>{var s;return(s=o.value)==null?void 0:s.disconnect()}),(s,a)=>(se(),pe("div",Rk,[o.value?(se(!0),pe(Ae,{key:0},dn(ee(t),(l,c,u,d)=>{const f=[l.id];if(d&&d.key===l.id&&Im(d,f))return d;const h=(se(),Xe(ee(Nk),{id:l.id,key:l.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=f,h},a,0),128)):Ue("",!0)]))}});function jk(){const{emits:e}=$e();Je(()=>{if(yg()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ye(qe.MISSING_STYLES))}})}const Lk=ge("div",{class:"vue-flow__edge-labels"},null,-1),Bk={name:"VueFlow",compatConfig:{MODE:3}},zk=Se({...Bk,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,i=_h(),o=Ds(r,"modelValue",n),s=Ds(r,"nodes",n),a=Ds(r,"edges",n),l=$e(r),c=g1({modelValue:o,nodes:s,edges:a},r,l);return m1(n,l.hooks),hk(),jk(),tt(ds,i),Yo(()=>{c()}),t(l),(u,d)=>(se(),pe("div",{ref:ee(l).vueFlowRef,class:"vue-flow"},[ve(ak,null,{default:Be(()=>[ve(Pk),Lk,ve(Dk),bt(u.$slots,"zoom-pane")]),_:3}),bt(u.$slots,"default"),ve(fk)],512))}});function Lr(e={}){const{handleType:t,handleId:n,nodeId:r,onConnect:i,onDisconnect:o}=e,{connectionLookup:s}=$e(),a=Sg(),l=he(null),c=he(),u=le(()=>{const d=Ee(r)??a,f=Ee(t),h=Ee(n);let g="";return f&&(g=h?`-${f}-${h}`:`-${f}`),`${d}${g}`});return we(()=>s.value.get(u.value),d=>{i1(c.value,d)||(c.value=d)},{immediate:!0}),we([c,()=>typeof i<"u",()=>typeof o<"u"],([d=new Map])=>{l.value&&l.value!==d&&(Td(l.value,d,o),Td(d,l.value,i)),l.value=d},{immediate:!0}),le(()=>c.value?Array.from(c.value.values()):[])}function Fk(e){const{findNode:t}=$e();return le({get(){const n=Ee(e);if(!Array.isArray(n)){const i=t(n);return i?{id:i.id,type:i.type,data:i.data}:null}const r=[];for(const i of n){const o=t(i);o&&r.push({id:o.id,type:o.type,data:o.data})}return r},set(){Fi("You are trying to set node data via useNodesData. This is not supported.")}})}var an=(e=>(e.Lines="lines",e.Dots="dots",e))(an||{});const Ag=function({dimensions:e,size:t,color:n}){return ke("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},$g=function({radius:e,color:t}){return ke("circle",{cx:e,cy:e,r:e,fill:t})};an.Lines+"",an.Dots+"";const Uk={[an.Dots]:"#81818a",[an.Lines]:"#eee"},Vk=["id","x","y","width","height","patternTransform"],Hk={key:2,height:"100",width:"100"},qk=["fill"],Gk=["x","y","fill"],Wk={name:"Background",compatConfig:{MODE:3}},Kk=Se({...Wk,props:{id:{},variant:{default:()=>an.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=$e(),r=le(()=>{const s=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],c=[a*s||1,l*s||1],u=e.size*s,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*s||1+c[0]/2,f*s||1+c[1]/2];return{scaledGap:c,offset:h,size:u}}),i=Ne(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),o=Ne(()=>e.color||e.patternColor||Uk[e.variant||an.Dots]);return(s,a)=>(se(),pe("svg",{class:"vue-flow__background vue-flow__container",style:lt({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[bt(s.$slots,"pattern-container",{id:i.value},()=>[ge("pattern",{id:i.value,x:ee(n).x%r.value.scaledGap[0],y:ee(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[bt(s.$slots,"pattern",{},()=>[s.variant===ee(an).Lines?(se(),Xe(ee(Ag),{key:0,size:s.lineWidth,color:o.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===ee(an).Dots?(se(),Xe(ee($g),{key:1,color:o.value,radius:r.value.size/2},null,8,["color","radius"])):Ue("",!0),s.bgColor?(se(),pe("svg",Hk,[ge("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,qk)])):Ue("",!0)])],8,Vk)]),ge("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${i.value})`},null,8,Gk),bt(s.$slots,"default",{id:i.value})],4))}}),mt={ERROR:"error",SKIPPED:"skipped",CANCELLED:"cancelled",FINISHED:"finished",RUNNING:"running"};function Yk({graph:e,cancelOnError:t=!0}){const{updateNodeData:n,getConnectedEdges:r}=$e(),i=Ne(()=>Ee(e)),o=he(!1),s=new Map,a=new Set,l=new Set;async function c(p,b=!1){if(console.info("Running node"),a.has(p))return;l.add(p);const _=r(p).filter(S=>S.target===p);if(await Promise.all(_.map(S=>Xk(()=>!S.data?.isAnimating))),l.clear(),!o.value)return;a.add(p),y(p,mt.RUNNING);const v=Math.floor(Math.random()*2e3)+1e3;return new Promise(S=>{const A=setTimeout(async()=>{const j=i.value.successors(p)||[],U=Math.random()<.15;if(!b&&U&&(y(p,mt.ERROR),Ee(t))){await f(p),s.delete(p),S(!0);return}y(p,mt.FINISHED),s.delete(p),j.length>0&&await Promise.all(j.map(N=>c(N))),S(!0)},b?0:v);s.set(p,A)})}async function u(p){if(o.value)return;d(),o.value=!0;const b=p.filter(_=>i.value.predecessors(_.id)?.length===0);await Promise.all(b.map(_=>c(_.id,!0))),g()}function d(p){console.info("reset"),g()}async function f(p){const b=i.value.successors(p)||[];for(const _ of b)y(_,mt.SKIPPED),await f(_)}async function h(){o.value=!1;for(const p of l)clearTimeout(s.get(p)),s.delete(p),y(p,mt.CANCELLED),await f(p);for(const[p,b]of s)clearTimeout(b),s.delete(p),y(p,mt.CANCELLED),await f(p);a.clear(),l.clear()}function g(){o.value=!1,a.clear(),s.clear()}function y(p,b){n(p,{status:b})}return{run:u,stop:h,reset:d,isRunning:o}}async function Xk(e){return new Promise(t=>{const n=setInterval(()=>{e()&&(clearInterval(n),t(!0))},100)})}const Jk={name:"AnimationEdge",inheritAttrs:!1},Zk=Object.assign(Jk,{props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:ue.Right},targetPosition:{type:String,default:ue.Left},data:{type:Object,required:!1}},setup(e){const t=e,{updateEdgeData:n}=$e(),r=Fk(()=>[t.target,t.source]),i=he(),o=he(),s=le(()=>r.value[0].data),a=le(()=>r.value[1].data),l=le({get:()=>t.data.isAnimating||!1,set:h=>{n(t.id,{isAnimating:h})}});let c=null;const u=le(()=>jo(t)),d=le(()=>{switch(s.value.status){case mt.ERROR:return"#f87171";case mt.FINISHED:return"#42B983";case mt.CANCELLED:case mt.SKIPPED:return"#fbbf24";case mt.RUNNING:return"#2563eb";default:return"#6b7280"}});we(()=>s.value.status===mt.CANCELLED,h=>{h&&c?.cancel()}),we(()=>a.value.status===mt.FINISHED,h=>{h&&f()});function f(){const h=o.value?.pathEl,g=i.value;if(!h||!g){console.warn("Path or label element not found");return}const y=h.getTotalLength();l.value=!0,Ve(()=>{const p=[{offsetDistance:"0%"},{offsetDistance:"100%"}],b=y*10,_=g.animate(p,{duration:Math.min(Math.max(b,1500),3e3),direction:"normal",easing:"ease-in-out",iterations:1}),v=()=>{l.value=!1};_.onfinish=v,_.oncancel=v,c=_})}return(h,g)=>(se(),pe(Ae,null,[ve(ee(Ui),{id:e.id,ref_key:"edgeRef",ref:o,path:u.value[0],style:lt({stroke:d.value})},null,8,["id","path","style"]),ve(ee(Ak),null,{default:Be(()=>[ge("div",{ref_key:"labelRef",ref:i,style:lt({visibility:l.value?"visible":"hidden",position:"absolute",zIndex:1,offsetPath:`path('${u.value[0]}')`,offsetRotate:"0deg",offsetAnchor:"center"})},g[0]||(g[0]=[ge("span",{class:"truck"},[ge("span",{class:"box"},"📦"),Zo(" 🚚 ")],-1)]),4)]),_:1})],64))}}),Qk=_t(Zk,[["__scopeId","data-v-e27a058d"]]);var Ks,Dd;function hu(){if(Dd)return Ks;Dd=1;var e="\0",t="\0",n="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var f=arguments,h=this;return u.forEach(function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=t,this._children[u]={},this._children[t][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(h){d.setParent(h)}),delete this._children[u]),Object.keys(this._in[u]).forEach(f),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==t)return d}}children(u=t){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===t)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const h=new Set(d);for(var f of this.successors(u))h.add(f);return Array.from(h.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([y,p]){u(y)&&d.setNode(y,p)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,f.edge(y))});var h={};function g(y){var p=f.parent(y);return p===void 0||d.hasNode(p)?(h[y]=p,p):p in h?h[p]:g(p)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,g(y))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var f=this,h=arguments;return u.reduce(function(g,y){return h.length>1?f.setEdge(g,y,d):f.setEdge(g,y),y}),this}setEdge(){var u,d,f,h,g=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(u=y.v,d=y.w,f=y.name,arguments.length===2&&(h=arguments[1],g=!0)):(u=y,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),u=""+u,d=""+d,f!==void 0&&(f=""+f);var p=s(this._isDirected,u,d,f);if(Object.hasOwn(this._edgeLabels,p))return g&&(this._edgeLabels[p]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[p]=g?h:this._defaultEdgeLabelFn(u,d,f);var b=a(this._isDirected,u,d,f);return u=b.v,d=b.w,Object.freeze(b),this._edgeObjs[p]=b,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][p]=b,this._out[u][p]=b,this._edgeCount++,this}edge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return this._edgeLabels[h]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f),g=this._edgeObjs[h];return g&&(u=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],u),o(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this}inEdges(u,d){var f=this._in[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.v===d):h}}outEdges(u,d){var f=this._out[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.w===d):h}}nodeEdges(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function o(c,u){--c[u]||delete c[u]}function s(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var y=h;h=g,g=y}return h+n+g+n+(f===void 0?e:f)}function a(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var y=h;h=g,g=y}var p={v:h,w:g};return f&&(p.name=f),p}function l(c,u){return s(c,u.v,u.w,u.name)}return Ks=r,Ks}var Ys,jd;function eC(){return jd||(jd=1,Ys="2.2.4"),Ys}var Xs,Ld;function tC(){return Ld||(Ld=1,Xs={Graph:hu(),version:eC()}),Xs}var Js,Bd;function nC(){if(Bd)return Js;Bd=1;var e=hu();Js={write:t,read:i};function t(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:r(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function n(o){return o.nodes().map(function(s){var a=o.node(s),l=o.parent(s),c={v:s};return a!==void 0&&(c.value=a),l!==void 0&&(c.parent=l),c})}function r(o){return o.edges().map(function(s){var a=o.edge(s),l={v:s.v,w:s.w};return s.name!==void 0&&(l.name=s.name),a!==void 0&&(l.value=a),l})}function i(o){var s=new e(o.options).setGraph(o.value);return o.nodes.forEach(function(a){s.setNode(a.v,a.value),a.parent&&s.setParent(a.v,a.parent)}),o.edges.forEach(function(a){s.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),s}return Js}var Zs,zd;function rC(){if(zd)return Zs;zd=1,Zs=e;function e(t){var n={},r=[],i;function o(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),t.successors(s).forEach(o),t.predecessors(s).forEach(o))}return t.nodes().forEach(function(s){i=[],o(s),i.length&&r.push(i)}),r}return Zs}var Qs,Fd;function Rg(){if(Fd)return Qs;Fd=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o}_swap(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r}}return Qs=e,Qs}var ea,Ud;function Mg(){if(Ud)return ea;Ud=1;var e=Rg();ea=n;var t=()=>1;function n(i,o,s,a){return r(i,String(o),s||t,a||function(l){return i.outEdges(l)})}function r(i,o,s,a){var l={},c=new e,u,d,f=function(h){var g=h.v!==u?h.v:h.w,y=l[g],p=s(h),b=d.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+p);b<y.distance&&(y.distance=b,y.predecessor=u,c.decrease(g,b))};for(i.nodes().forEach(function(h){var g=h===o?0:Number.POSITIVE_INFINITY;l[h]={distance:g},c.add(h,g)});c.size()>0&&(u=c.removeMin(),d=l[u],d.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(f);return l}return ea}var ta,Vd;function iC(){if(Vd)return ta;Vd=1;var e=Mg();ta=t;function t(n,r,i){return n.nodes().reduce(function(o,s){return o[s]=e(n,s,r,i),o},{})}return ta}var na,Hd;function Dg(){if(Hd)return na;Hd=1,na=e;function e(t){var n=0,r=[],i={},o=[];function s(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),t.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],u;do u=r.pop(),i[u].onStack=!1,c.push(u);while(a!==u);o.push(c)}}return t.nodes().forEach(function(a){Object.hasOwn(i,a)||s(a)}),o}return na}var ra,qd;function oC(){if(qd)return ra;qd=1;var e=Dg();ra=t;function t(n){return e(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return ra}var ia,Gd;function sC(){if(Gd)return ia;Gd=1,ia=t;var e=()=>1;function t(r,i,o){return n(r,i||e,o||function(s){return r.outEdges(s)})}function n(r,i,o){var s={},a=r.nodes();return a.forEach(function(l){s[l]={},s[l][l]={distance:0},a.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var u=c.v===l?c.w:c.v,d=i(c);s[l][u]={distance:d,predecessor:l}})}),a.forEach(function(l){var c=s[l];a.forEach(function(u){var d=s[u];a.forEach(function(f){var h=d[l],g=c[f],y=d[f],p=h.distance+g.distance;p<y.distance&&(y.distance=p,y.predecessor=g.predecessor)})})}),s}return ia}var oa,Wd;function jg(){if(Wd)return oa;Wd=1;function e(n){var r={},i={},o=[];function s(a){if(Object.hasOwn(i,a))throw new t;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(s),delete i[a],o.push(a))}if(n.sinks().forEach(s),Object.keys(r).length!==n.nodeCount())throw new t;return o}class t extends Error{constructor(){super(...arguments)}}return oa=e,e.CycleException=t,oa}var sa,Kd;function aC(){if(Kd)return sa;Kd=1;var e=jg();sa=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return sa}var aa,Yd;function Lg(){if(Yd)return aa;Yd=1,aa=e;function e(i,o,s){Array.isArray(o)||(o=[o]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=s==="post"?t:n,c=[],u={};return o.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,u,c)}),c}function t(i,o,s,a){for(var l=[[i,!1]];l.length>0;){var c=l.pop();c[1]?a.push(c[0]):Object.hasOwn(s,c[0])||(s[c[0]]=!0,l.push([c[0],!0]),r(o(c[0]),u=>l.push([u,!1])))}}function n(i,o,s,a){for(var l=[i];l.length>0;){var c=l.pop();Object.hasOwn(s,c)||(s[c]=!0,a.push(c),r(o(c),u=>l.push(u)))}}function r(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return aa}var la,Xd;function lC(){if(Xd)return la;Xd=1;var e=Lg();la=t;function t(n,r){return e(n,r,"post")}return la}var ua,Jd;function uC(){if(Jd)return ua;Jd=1;var e=Lg();ua=t;function t(n,r){return e(n,r,"pre")}return ua}var ca,Zd;function cC(){if(Zd)return ca;Zd=1;var e=hu(),t=Rg();ca=n;function n(r,i){var o=new e,s={},a=new t,l;function c(d){var f=d.v===l?d.w:d.v,h=a.priority(f);if(h!==void 0){var g=i(d);g<h&&(s[f]=l,a.decrease(f,g))}}if(r.nodeCount()===0)return o;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),a.decrease(r.nodes()[0],0);for(var u=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(s,l))o.setEdge(l,s[l]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(l).forEach(c)}return o}return ca}var da,Qd;function dC(){return Qd||(Qd=1,da={components:rC(),dijkstra:Mg(),dijkstraAll:iC(),findCycles:oC(),floydWarshall:sC(),isAcyclic:aC(),postorder:lC(),preorder:uC(),prim:cC(),tarjan:Dg(),topsort:jg()}),da}var fa,ef;function $t(){if(ef)return fa;ef=1;var e=tC();return fa={Graph:e.Graph,json:nC(),alg:dC(),version:e.version},fa}var ha,tf;function fC(){if(tf)return ha;tf=1;class e{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return t(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&t(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return ha=e,ha}var pa,nf;function hC(){if(nf)return pa;nf=1;let e=$t().Graph,t=fC();pa=r;let n=()=>1;function r(c,u){if(c.nodeCount()<=1)return[];let d=s(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(h=>c.outEdges(h.v,h.w))}function i(c,u,d){let f=[],h=u[u.length-1],g=u[0],y;for(;c.nodeCount();){for(;y=g.dequeue();)o(c,u,d,y);for(;y=h.dequeue();)o(c,u,d,y);if(c.nodeCount()){for(let p=u.length-2;p>0;--p)if(y=u[p].dequeue(),y){f=f.concat(o(c,u,d,y,!0));break}}}return f}function o(c,u,d,f,h){let g=h?[]:void 0;return c.inEdges(f.v).forEach(y=>{let p=c.edge(y),b=c.node(y.v);h&&g.push({v:y.v,w:y.w}),b.out-=p,a(u,d,b)}),c.outEdges(f.v).forEach(y=>{let p=c.edge(y),b=y.w,_=c.node(b);_.in-=p,a(u,d,_)}),c.removeNode(f.v),g}function s(c,u){let d=new e,f=0,h=0;c.nodes().forEach(p=>{d.setNode(p,{v:p,in:0,out:0})}),c.edges().forEach(p=>{let b=d.edge(p.v,p.w)||0,_=u(p),v=b+_;d.setEdge(p.v,p.w,v),h=Math.max(h,d.node(p.v).out+=_),f=Math.max(f,d.node(p.w).in+=_)});let g=l(h+f+3).map(()=>new t),y=f+1;return d.nodes().forEach(p=>{a(g,y,d.node(p))}),{graph:d,buckets:g,zeroIdx:y}}function a(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function l(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return pa}var ga,rf;function We(){if(rf)return ga;rf=1;let e=$t().Graph;ga={addBorderNode:u,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:s,mapValues:j,maxRank:g,normalizeRanks:l,notime:b,partition:y,pick:A,predecessorWeights:o,range:S,removeEmptyRanks:c,simplify:n,successorWeights:i,time:p,uniqueId:v,zipObject:U};function t(N,T,M,D){for(var O=D;N.hasNode(O);)O=v(D);return M.dummy=T,N.setNode(O,M),O}function n(N){let T=new e().setGraph(N.graph());return N.nodes().forEach(M=>T.setNode(M,N.node(M))),N.edges().forEach(M=>{let D=T.edge(M.v,M.w)||{weight:0,minlen:1},O=N.edge(M);T.setEdge(M.v,M.w,{weight:D.weight+O.weight,minlen:Math.max(D.minlen,O.minlen)})}),T}function r(N){let T=new e({multigraph:N.isMultigraph()}).setGraph(N.graph());return N.nodes().forEach(M=>{N.children(M).length||T.setNode(M,N.node(M))}),N.edges().forEach(M=>{T.setEdge(M,N.edge(M))}),T}function i(N){let T=N.nodes().map(M=>{let D={};return N.outEdges(M).forEach(O=>{D[O.w]=(D[O.w]||0)+N.edge(O).weight}),D});return U(N.nodes(),T)}function o(N){let T=N.nodes().map(M=>{let D={};return N.inEdges(M).forEach(O=>{D[O.v]=(D[O.v]||0)+N.edge(O).weight}),D});return U(N.nodes(),T)}function s(N,T){let M=N.x,D=N.y,O=T.x-M,Z=T.y-D,I=N.width/2,Y=N.height/2;if(!O&&!Z)throw new Error("Not possible to find intersection inside of the rectangle");let L,W;return Math.abs(Z)*I>Math.abs(O)*Y?(Z<0&&(Y=-Y),L=Y*O/Z,W=Y):(O<0&&(I=-I),L=I,W=I*Z/O),{x:M+L,y:D+W}}function a(N){let T=S(g(N)+1).map(()=>[]);return N.nodes().forEach(M=>{let D=N.node(M),O=D.rank;O!==void 0&&(T[O][D.order]=M)}),T}function l(N){let T=N.nodes().map(D=>{let O=N.node(D).rank;return O===void 0?Number.MAX_VALUE:O}),M=h(Math.min,T);N.nodes().forEach(D=>{let O=N.node(D);Object.hasOwn(O,"rank")&&(O.rank-=M)})}function c(N){let T=N.nodes().map(I=>N.node(I).rank),M=h(Math.min,T),D=[];N.nodes().forEach(I=>{let Y=N.node(I).rank-M;D[Y]||(D[Y]=[]),D[Y].push(I)});let O=0,Z=N.graph().nodeRankFactor;Array.from(D).forEach((I,Y)=>{I===void 0&&Y%Z!==0?--O:I!==void 0&&O&&I.forEach(L=>N.node(L).rank+=O)})}function u(N,T,M,D){let O={width:0,height:0};return arguments.length>=4&&(O.rank=M,O.order=D),t(N,"border",O,T)}function d(N,T=f){const M=[];for(let D=0;D<N.length;D+=T){const O=N.slice(D,D+T);M.push(O)}return M}const f=65535;function h(N,T){if(T.length>f){const M=d(T);return N.apply(null,M.map(D=>N.apply(null,D)))}else return N.apply(null,T)}function g(N){const M=N.nodes().map(D=>{let O=N.node(D).rank;return O===void 0?Number.MIN_VALUE:O});return h(Math.max,M)}function y(N,T){let M={lhs:[],rhs:[]};return N.forEach(D=>{T(D)?M.lhs.push(D):M.rhs.push(D)}),M}function p(N,T){let M=Date.now();try{return T()}finally{console.log(N+" time: "+(Date.now()-M)+"ms")}}function b(N,T){return T()}let _=0;function v(N){var T=++_;return N+(""+T)}function S(N,T,M=1){T==null&&(T=N,N=0);let D=Z=>Z<T;M<0&&(D=Z=>T<Z);const O=[];for(let Z=N;D(Z);Z+=M)O.push(Z);return O}function A(N,T){const M={};for(const D of T)N[D]!==void 0&&(M[D]=N[D]);return M}function j(N,T){let M=T;return typeof T=="string"&&(M=D=>D[T]),Object.entries(N).reduce((D,[O,Z])=>(D[O]=M(Z,O),D),{})}function U(N,T){return N.reduce((M,D,O)=>(M[D]=T[O],M),{})}return ga}var va,of;function pC(){if(of)return va;of=1;let e=hC(),t=We().uniqueId;va={run:n,undo:i};function n(o){(o.graph().acyclicer==="greedy"?e(o,a(o)):r(o)).forEach(l=>{let c=o.edge(l);o.removeEdge(l),c.forwardName=l.name,c.reversed=!0,o.setEdge(l.w,l.v,c,t("rev"))});function a(l){return c=>l.edge(c).weight}}function r(o){let s=[],a={},l={};function c(u){Object.hasOwn(l,u)||(l[u]=!0,a[u]=!0,o.outEdges(u).forEach(d=>{Object.hasOwn(a,d.w)?s.push(d):c(d.w)}),delete a[u])}return o.nodes().forEach(c),s}function i(o){o.edges().forEach(s=>{let a=o.edge(s);if(a.reversed){o.removeEdge(s);let l=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,l)}})}return va}var ma,sf;function gC(){if(sf)return ma;sf=1;let e=We();ma={run:t,undo:r};function t(i){i.graph().dummyChains=[],i.edges().forEach(o=>n(i,o))}function n(i,o){let s=o.v,a=i.node(s).rank,l=o.w,c=i.node(l).rank,u=o.name,d=i.edge(o),f=d.labelRank;if(c===a+1)return;i.removeEdge(o);let h,g,y;for(y=0,++a;a<c;++y,++a)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:o,rank:a},h=e.addDummyNode(i,"edge",g,"_d"),a===f&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),i.setEdge(s,h,{weight:d.weight},u),y===0&&i.graph().dummyChains.push(h),s=h;i.setEdge(s,l,{weight:d.weight},u)}function r(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),a=s.edgeLabel,l;for(i.setEdge(s.edgeObj,a);s.dummy;)l=i.successors(o)[0],i.removeNode(o),a.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(a.x=s.x,a.y=s.y,a.width=s.width,a.height=s.height),o=l,s=i.node(o)})}return ma}var ya,af;function Lo(){if(af)return ya;af=1;const{applyWithChunking:e}=We();ya={longestPath:t,slack:n};function t(r){var i={};function o(s){var a=r.node(s);if(Object.hasOwn(i,s))return a.rank;i[s]=!0;let l=r.outEdges(s).map(u=>u==null?Number.POSITIVE_INFINITY:o(u.w)-r.edge(u).minlen);var c=e(Math.min,l);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}r.sources().forEach(o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return ya}var _a,lf;function Bg(){if(lf)return _a;lf=1;var e=$t().Graph,t=Lo().slack;_a=n;function n(s){var a=new e({directed:!1}),l=s.nodes()[0],c=s.nodeCount();a.setNode(l,{});for(var u,d;r(a,s)<c;)u=i(a,s),d=a.hasNode(u.v)?t(s,u):-t(s,u),o(a,s,d);return a}function r(s,a){function l(c){a.nodeEdges(c).forEach(u=>{var d=u.v,f=c===d?u.w:d;!s.hasNode(f)&&!t(a,u)&&(s.setNode(f,{}),s.setEdge(c,f,{}),l(f))})}return s.nodes().forEach(l),s.nodeCount()}function i(s,a){return a.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(u.v)!==s.hasNode(u.w)&&(d=t(a,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function o(s,a,l){s.nodes().forEach(c=>a.node(c).rank+=l)}return _a}var wa,uf;function vC(){if(uf)return wa;uf=1;var e=Bg(),t=Lo().slack,n=Lo().longestPath,r=$t().alg.preorder,i=$t().alg.postorder,o=We().simplify;wa=s,s.initLowLimValues=u,s.initCutValues=a,s.calcCutValue=c,s.leaveEdge=f,s.enterEdge=h,s.exchangeEdges=g;function s(_){_=o(_),n(_);var v=e(_);u(v),a(v,_);for(var S,A;S=f(v);)A=h(v,_,S),g(v,_,S,A)}function a(_,v){var S=i(_,_.nodes());S=S.slice(0,S.length-1),S.forEach(A=>l(_,v,A))}function l(_,v,S){var A=_.node(S),j=A.parent;_.edge(S,j).cutvalue=c(_,v,S)}function c(_,v,S){var A=_.node(S),j=A.parent,U=!0,N=v.edge(S,j),T=0;return N||(U=!1,N=v.edge(j,S)),T=N.weight,v.nodeEdges(S).forEach(M=>{var D=M.v===S,O=D?M.w:M.v;if(O!==j){var Z=D===U,I=v.edge(M).weight;if(T+=Z?I:-I,p(_,S,O)){var Y=_.edge(S,O).cutvalue;T+=Z?-Y:Y}}}),T}function u(_,v){arguments.length<2&&(v=_.nodes()[0]),d(_,{},1,v)}function d(_,v,S,A,j){var U=S,N=_.node(A);return v[A]=!0,_.neighbors(A).forEach(T=>{Object.hasOwn(v,T)||(S=d(_,v,S,T,A))}),N.low=U,N.lim=S++,j?N.parent=j:delete N.parent,S}function f(_){return _.edges().find(v=>_.edge(v).cutvalue<0)}function h(_,v,S){var A=S.v,j=S.w;v.hasEdge(A,j)||(A=S.w,j=S.v);var U=_.node(A),N=_.node(j),T=U,M=!1;U.lim>N.lim&&(T=N,M=!0);var D=v.edges().filter(O=>M===b(_,_.node(O.v),T)&&M!==b(_,_.node(O.w),T));return D.reduce((O,Z)=>t(v,Z)<t(v,O)?Z:O)}function g(_,v,S,A){var j=S.v,U=S.w;_.removeEdge(j,U),_.setEdge(A.v,A.w,{}),u(_),a(_,v),y(_,v)}function y(_,v){var S=_.nodes().find(j=>!v.node(j).parent),A=r(_,S);A=A.slice(1),A.forEach(j=>{var U=_.node(j).parent,N=v.edge(j,U),T=!1;N||(N=v.edge(U,j),T=!0),v.node(j).rank=v.node(U).rank+(T?N.minlen:-N.minlen)})}function p(_,v,S){return _.hasEdge(v,S)}function b(_,v,S){return S.low<=v.lim&&v.lim<=S.lim}return wa}var ba,cf;function mC(){if(cf)return ba;cf=1;var e=Lo(),t=e.longestPath,n=Bg(),r=vC();ba=i;function i(l){var c=l.graph().ranker;if(c instanceof Function)return c(l);switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":s(l);break;case"longest-path":o(l);break;case"none":break;default:a(l)}}var o=t;function s(l){t(l),n(l)}function a(l){r(l)}return ba}var Ea,df;function yC(){if(df)return Ea;df=1,Ea=e;function e(r){let i=n(r);r.graph().dummyChains.forEach(o=>{let s=r.node(o),a=s.edgeObj,l=t(r,i,a.v,a.w),c=l.path,u=l.lca,d=0,f=c[d],h=!0;for(;o!==a.w;){if(s=r.node(o),h){for(;(f=c[d])!==u&&r.node(f).maxRank<s.rank;)d++;f===u&&(h=!1)}if(!h){for(;d<c.length-1&&r.node(f=c[d+1]).minRank<=s.rank;)d++;f=c[d]}r.setParent(o,f),o=r.successors(o)[0]}})}function t(r,i,o,s){let a=[],l=[],c=Math.min(i[o].low,i[s].low),u=Math.max(i[o].lim,i[s].lim),d,f;d=o;do d=r.parent(d),a.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(f=d,d=s;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},o=0;function s(a){let l=o;r.children(a).forEach(s),i[a]={low:l,lim:o++}}return r.children().forEach(s),i}return Ea}var Sa,ff;function _C(){if(ff)return Sa;ff=1;let e=We();Sa={run:t,cleanup:o};function t(s){let a=e.addDummyNode(s,"root",{},"_root"),l=r(s),c=Object.values(l),u=e.applyWithChunking(Math.max,c)-1,d=2*u+1;s.graph().nestingRoot=a,s.edges().forEach(h=>s.edge(h).minlen*=d);let f=i(s)+1;s.children().forEach(h=>n(s,a,d,f,u,l,h)),s.graph().nodeRankFactor=d}function n(s,a,l,c,u,d,f){let h=s.children(f);if(!h.length){f!==a&&s.setEdge(a,f,{weight:0,minlen:l});return}let g=e.addBorderNode(s,"_bt"),y=e.addBorderNode(s,"_bb"),p=s.node(f);s.setParent(g,f),p.borderTop=g,s.setParent(y,f),p.borderBottom=y,h.forEach(b=>{n(s,a,l,c,u,d,b);let _=s.node(b),v=_.borderTop?_.borderTop:b,S=_.borderBottom?_.borderBottom:b,A=_.borderTop?c:2*c,j=v!==S?1:u-d[f]+1;s.setEdge(g,v,{weight:A,minlen:j,nestingEdge:!0}),s.setEdge(S,y,{weight:A,minlen:j,nestingEdge:!0})}),s.parent(f)||s.setEdge(a,g,{weight:0,minlen:u+d[f]})}function r(s){var a={};function l(c,u){var d=s.children(c);d&&d.length&&d.forEach(f=>l(f,u+1)),a[c]=u}return s.children().forEach(c=>l(c,1)),a}function i(s){return s.edges().reduce((a,l)=>a+s.edge(l).weight,0)}function o(s){var a=s.graph();s.removeNode(a.nestingRoot),delete a.nestingRoot,s.edges().forEach(l=>{var c=s.edge(l);c.nestingEdge&&s.removeEdge(l)})}return Sa}var xa,hf;function wC(){if(hf)return xa;hf=1;let e=We();xa=t;function t(r){function i(o){let s=r.children(o),a=r.node(o);if(s.length&&s.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,c=a.maxRank+1;l<c;++l)n(r,"borderLeft","_bl",o,a,l),n(r,"borderRight","_br",o,a,l)}}r.children().forEach(i)}function n(r,i,o,s,a,l){let c={width:0,height:0,rank:l,borderType:i},u=a[i][l-1],d=e.addDummyNode(r,"border",c,o);a[i][l]=d,r.setParent(d,s),u&&r.setEdge(u,d,{weight:1})}return xa}var ka,pf;function bC(){if(pf)return ka;pf=1,ka={adjust:e,undo:t};function e(l){let c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function t(l){let c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(s(l),n(l))}function n(l){l.nodes().forEach(c=>r(l.node(c))),l.edges().forEach(c=>r(l.edge(c)))}function r(l){let c=l.width;l.width=l.height,l.height=c}function i(l){l.nodes().forEach(c=>o(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(o),Object.hasOwn(u,"y")&&o(u)})}function o(l){l.y=-l.y}function s(l){l.nodes().forEach(c=>a(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(l){let c=l.x;l.x=l.y,l.y=c}return ka}var Ca,gf;function EC(){if(gf)return Ca;gf=1;let e=We();Ca=t;function t(n){let r={},i=n.nodes().filter(u=>!n.children(u).length),o=i.map(u=>n.node(u).rank),s=e.applyWithChunking(Math.max,o),a=e.range(s+1).map(()=>[]);function l(u){if(r[u])return;r[u]=!0;let d=n.node(u);a[d.rank].push(u),n.successors(u).forEach(l)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(l),a}return Ca}var Pa,vf;function SC(){if(vf)return Pa;vf=1;let e=We().zipObject;Pa=t;function t(r,i){let o=0;for(let s=1;s<i.length;++s)o+=n(r,i[s-1],i[s]);return o}function n(r,i,o){let s=e(o,o.map((f,h)=>h)),a=i.flatMap(f=>r.outEdges(f).map(h=>({pos:s[h.w],weight:r.edge(h).weight})).sort((h,g)=>h.pos-g.pos)),l=1;for(;l<o.length;)l<<=1;let c=2*l-1;l-=1;let u=new Array(c).fill(0),d=0;return a.forEach(f=>{let h=f.pos+l;u[h]+=f.weight;let g=0;for(;h>0;)h%2&&(g+=u[h+1]),h=h-1>>1,u[h]+=f.weight;d+=f.weight*g}),d}return Pa}var Ta,mf;function xC(){if(mf)return Ta;mf=1,Ta=e;function e(t,n=[]){return n.map(r=>{let i=t.inEdges(r);if(i.length){let o=i.reduce((s,a)=>{let l=t.edge(a),c=t.node(a.v);return{sum:s.sum+l.weight*c.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}return Ta}var Na,yf;function kC(){if(yf)return Na;yf=1;let e=We();Na=t;function t(i,o){let s={};i.forEach((l,c)=>{let u=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};l.barycenter!==void 0&&(u.barycenter=l.barycenter,u.weight=l.weight)}),o.edges().forEach(l=>{let c=s[l.v],u=s[l.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(s[l.w]))});let a=Object.values(s).filter(l=>!l.indegree);return n(a)}function n(i){let o=[];function s(l){return c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&r(l,c)}}function a(l){return c=>{c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){let l=i.pop();o.push(l),l.in.reverse().forEach(s(l)),l.out.forEach(a(l))}return o.filter(l=>!l.merged).map(l=>e.pick(l,["vs","i","barycenter","weight"]))}function r(i,o){let s=0,a=0;i.weight&&(s+=i.barycenter*i.weight,a+=i.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/a,i.weight=a,i.i=Math.min(o.i,i.i),o.merged=!0}return Na}var Oa,_f;function CC(){if(_f)return Oa;_f=1;let e=We();Oa=t;function t(i,o){let s=e.partition(i,g=>Object.hasOwn(g,"barycenter")),a=s.lhs,l=s.rhs.sort((g,y)=>y.i-g.i),c=[],u=0,d=0,f=0;a.sort(r(!!o)),f=n(c,l,f),a.forEach(g=>{f+=g.vs.length,c.push(g.vs),u+=g.barycenter*g.weight,d+=g.weight,f=n(c,l,f)});let h={vs:c.flat(!0)};return d&&(h.barycenter=u/d,h.weight=d),h}function n(i,o,s){let a;for(;o.length&&(a=o[o.length-1]).i<=s;)o.pop(),i.push(a.vs),s++;return s}function r(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return Oa}var Ia,wf;function PC(){if(wf)return Ia;wf=1;let e=xC(),t=kC(),n=CC();Ia=r;function r(s,a,l,c){let u=s.children(a),d=s.node(a),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,g={};f&&(u=u.filter(_=>_!==f&&_!==h));let y=e(s,u);y.forEach(_=>{if(s.children(_.v).length){let v=r(s,_.v,l,c);g[_.v]=v,Object.hasOwn(v,"barycenter")&&o(_,v)}});let p=t(y,l);i(p,g);let b=n(p,c);if(f&&(b.vs=[f,b.vs,h].flat(!0),s.predecessors(f).length)){let _=s.node(s.predecessors(f)[0]),v=s.node(s.predecessors(h)[0]);Object.hasOwn(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+_.order+v.order)/(b.weight+2),b.weight+=2}return b}function i(s,a){s.forEach(l=>{l.vs=l.vs.flatMap(c=>a[c]?a[c].vs:c)})}function o(s,a){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight):(s.barycenter=a.barycenter,s.weight=a.weight)}return Ia}var Aa,bf;function TC(){if(bf)return Aa;bf=1;let e=$t().Graph,t=We();Aa=n;function n(i,o,s){let a=r(i),l=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===o||u.minRank<=o&&o<=u.maxRank)&&(l.setNode(c),l.setParent(c,d||a),i[s](c).forEach(f=>{let h=f.v===c?f.w:f.v,g=l.edge(h,c),y=g!==void 0?g.weight:0;l.setEdge(h,c,{weight:i.edge(f).weight+y})}),Object.hasOwn(u,"minRank")&&l.setNode(c,{borderLeft:u.borderLeft[o],borderRight:u.borderRight[o]}))}),l}function r(i){for(var o;i.hasNode(o=t.uniqueId("_root")););return o}return Aa}var $a,Ef;function NC(){if(Ef)return $a;Ef=1,$a=e;function e(t,n,r){let i={},o;r.forEach(s=>{let a=t.parent(s),l,c;for(;a;){if(l=t.parent(a),l?(c=i[l],i[l]=a):(c=o,o=a),c&&c!==a){n.setEdge(c,a);return}a=l}})}return $a}var Ra,Sf;function OC(){if(Sf)return Ra;Sf=1;let e=EC(),t=SC(),n=PC(),r=TC(),i=NC(),o=$t().Graph,s=We();Ra=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let h=s.maxRank(d),g=l(d,s.range(1,h+1),"inEdges"),y=l(d,s.range(h-1,-1,-1),"outEdges"),p=e(d);if(u(d,p),f&&f.disableOptimalOrderHeuristic)return;let b=Number.POSITIVE_INFINITY,_;for(let v=0,S=0;S<4;++v,++S){c(v%2?g:y,v%4>=2),p=s.buildLayerMatrix(d);let A=t(d,p);A<b&&(S=0,_=Object.assign({},p),b=A)}u(d,_)}function l(d,f,h){return f.map(function(g){return r(d,g,h)})}function c(d,f){let h=new o;d.forEach(function(g){let y=g.graph().root,p=n(g,y,h,f);p.vs.forEach((b,_)=>g.node(b).order=_),i(g,h,p.vs)})}function u(d,f){Object.values(f).forEach(h=>h.forEach((g,y)=>d.node(g).order=y))}return Ra}var Ma,xf;function IC(){if(xf)return Ma;xf=1;let e=$t().Graph,t=We();Ma={positionX:h,findType1Conflicts:n,findType2Conflicts:r,addConflict:o,hasConflict:s,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:u,balance:f};function n(p,b){let _={};function v(S,A){let j=0,U=0,N=S.length,T=A[A.length-1];return A.forEach((M,D)=>{let O=i(p,M),Z=O?p.node(O).order:N;(O||M===T)&&(A.slice(U,D+1).forEach(I=>{p.predecessors(I).forEach(Y=>{let L=p.node(Y),W=L.order;(W<j||Z<W)&&!(L.dummy&&p.node(I).dummy)&&o(_,Y,I)})}),U=D+1,j=Z)}),A}return b.length&&b.reduce(v),_}function r(p,b){let _={};function v(A,j,U,N,T){let M;t.range(j,U).forEach(D=>{M=A[D],p.node(M).dummy&&p.predecessors(M).forEach(O=>{let Z=p.node(O);Z.dummy&&(Z.order<N||Z.order>T)&&o(_,O,M)})})}function S(A,j){let U=-1,N,T=0;return j.forEach((M,D)=>{if(p.node(M).dummy==="border"){let O=p.predecessors(M);O.length&&(N=p.node(O[0]).order,v(j,T,D,U,N),T=D,U=N)}v(j,T,j.length,N,A.length)}),j}return b.length&&b.reduce(S),_}function i(p,b){if(p.node(b).dummy)return p.predecessors(b).find(_=>p.node(_).dummy)}function o(p,b,_){if(b>_){let S=b;b=_,_=S}let v=p[b];v||(p[b]=v={}),v[_]=!0}function s(p,b,_){if(b>_){let v=b;b=_,_=v}return!!p[b]&&Object.hasOwn(p[b],_)}function a(p,b,_,v){let S={},A={},j={};return b.forEach(U=>{U.forEach((N,T)=>{S[N]=N,A[N]=N,j[N]=T})}),b.forEach(U=>{let N=-1;U.forEach(T=>{let M=v(T);if(M.length){M=M.sort((O,Z)=>j[O]-j[Z]);let D=(M.length-1)/2;for(let O=Math.floor(D),Z=Math.ceil(D);O<=Z;++O){let I=M[O];A[T]===T&&N<j[I]&&!s(_,T,I)&&(A[I]=T,A[T]=S[T]=S[I],N=j[I])}}})}),{root:S,align:A}}function l(p,b,_,v,S){let A={},j=c(p,b,_,S),U=S?"borderLeft":"borderRight";function N(D,O){let Z=j.nodes(),I=Z.pop(),Y={};for(;I;)Y[I]?D(I):(Y[I]=!0,Z.push(I),Z=Z.concat(O(I))),I=Z.pop()}function T(D){A[D]=j.inEdges(D).reduce((O,Z)=>Math.max(O,A[Z.v]+j.edge(Z)),0)}function M(D){let O=j.outEdges(D).reduce((I,Y)=>Math.min(I,A[Y.w]-j.edge(Y)),Number.POSITIVE_INFINITY),Z=p.node(D);O!==Number.POSITIVE_INFINITY&&Z.borderType!==U&&(A[D]=Math.max(A[D],O))}return N(T,j.predecessors.bind(j)),N(M,j.successors.bind(j)),Object.keys(v).forEach(D=>A[D]=A[_[D]]),A}function c(p,b,_,v){let S=new e,A=p.graph(),j=g(A.nodesep,A.edgesep,v);return b.forEach(U=>{let N;U.forEach(T=>{let M=_[T];if(S.setNode(M),N){var D=_[N],O=S.edge(D,M);S.setEdge(D,M,Math.max(j(p,T,N),O||0))}N=T})}),S}function u(p,b){return Object.values(b).reduce((_,v)=>{let S=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;Object.entries(v).forEach(([U,N])=>{let T=y(p,U)/2;S=Math.max(N+T,S),A=Math.min(N-T,A)});const j=S-A;return j<_[0]&&(_=[j,v]),_},[Number.POSITIVE_INFINITY,null])[1]}function d(p,b){let _=Object.values(b),v=t.applyWithChunking(Math.min,_),S=t.applyWithChunking(Math.max,_);["u","d"].forEach(A=>{["l","r"].forEach(j=>{let U=A+j,N=p[U];if(N===b)return;let T=Object.values(N),M=v-t.applyWithChunking(Math.min,T);j!=="l"&&(M=S-t.applyWithChunking(Math.max,T)),M&&(p[U]=t.mapValues(N,D=>D+M))})})}function f(p,b){return t.mapValues(p.ul,(_,v)=>{if(b)return p[b.toLowerCase()][v];{let S=Object.values(p).map(A=>A[v]).sort((A,j)=>A-j);return(S[1]+S[2])/2}})}function h(p){let b=t.buildLayerMatrix(p),_=Object.assign(n(p,b),r(p,b)),v={},S;["u","d"].forEach(j=>{S=j==="u"?b:Object.values(b).reverse(),["l","r"].forEach(U=>{U==="r"&&(S=S.map(D=>Object.values(D).reverse()));let N=(j==="u"?p.predecessors:p.successors).bind(p),T=a(p,S,_,N),M=l(p,S,T.root,T.align,U==="r");U==="r"&&(M=t.mapValues(M,D=>-D)),v[j+U]=M})});let A=u(p,v);return d(v,A),f(v,p.graph().align)}function g(p,b,_){return(v,S,A)=>{let j=v.node(S),U=v.node(A),N=0,T;if(N+=j.width/2,Object.hasOwn(j,"labelpos"))switch(j.labelpos.toLowerCase()){case"l":T=-j.width/2;break;case"r":T=j.width/2;break}if(T&&(N+=_?T:-T),T=0,N+=(j.dummy?b:p)/2,N+=(U.dummy?b:p)/2,N+=U.width/2,Object.hasOwn(U,"labelpos"))switch(U.labelpos.toLowerCase()){case"l":T=U.width/2;break;case"r":T=-U.width/2;break}return T&&(N+=_?T:-T),T=0,N}}function y(p,b){return p.node(b).width}return Ma}var Da,kf;function AC(){if(kf)return Da;kf=1;let e=We(),t=IC().positionX;Da=n;function n(i){i=e.asNonCompoundGraph(i),r(i),Object.entries(t(i)).forEach(([o,s])=>i.node(o).x=s)}function r(i){let o=e.buildLayerMatrix(i),s=i.graph().ranksep,a=0;o.forEach(l=>{const c=l.reduce((u,d)=>{const f=i.node(d).height;return u>f?u:f},0);l.forEach(u=>i.node(u).y=a+c/2),a+=c+s})}return Da}var ja,Cf;function $C(){if(Cf)return ja;Cf=1;let e=pC(),t=gC(),n=mC(),r=We().normalizeRanks,i=yC(),o=We().removeEmptyRanks,s=_C(),a=wC(),l=bC(),c=OC(),u=AC(),d=We(),f=$t().Graph;ja=h;function h(H,F){let V=F&&F.debugTiming?d.time:d.notime;V("layout",()=>{let J=V("  buildLayoutGraph",()=>N(H));V("  runLayout",()=>g(J,V,F)),V("  updateInputGraph",()=>y(H,J))})}function g(H,F,V){F("    makeSpaceForEdgeLabels",()=>T(H)),F("    removeSelfEdges",()=>Q(H)),F("    acyclic",()=>e.run(H)),F("    nestingGraph.run",()=>s.run(H)),F("    rank",()=>n(d.asNonCompoundGraph(H))),F("    injectEdgeLabelProxies",()=>M(H)),F("    removeEmptyRanks",()=>o(H)),F("    nestingGraph.cleanup",()=>s.cleanup(H)),F("    normalizeRanks",()=>r(H)),F("    assignRankMinMax",()=>D(H)),F("    removeEdgeLabelProxies",()=>O(H)),F("    normalize.run",()=>t.run(H)),F("    parentDummyChains",()=>i(H)),F("    addBorderSegments",()=>a(H)),F("    order",()=>c(H,V)),F("    insertSelfEdges",()=>oe(H)),F("    adjustCoordinateSystem",()=>l.adjust(H)),F("    position",()=>u(H)),F("    positionSelfEdges",()=>ie(H)),F("    removeBorderNodes",()=>W(H)),F("    normalize.undo",()=>t.undo(H)),F("    fixupEdgeLabelCoords",()=>Y(H)),F("    undoCoordinateSystem",()=>l.undo(H)),F("    translateGraph",()=>Z(H)),F("    assignNodeIntersects",()=>I(H)),F("    reversePoints",()=>L(H)),F("    acyclic.undo",()=>e.undo(H))}function y(H,F){H.nodes().forEach(V=>{let J=H.node(V),P=F.node(V);J&&(J.x=P.x,J.y=P.y,J.rank=P.rank,F.children(V).length&&(J.width=P.width,J.height=P.height))}),H.edges().forEach(V=>{let J=H.edge(V),P=F.edge(V);J.points=P.points,Object.hasOwn(P,"x")&&(J.x=P.x,J.y=P.y)}),H.graph().width=F.graph().width,H.graph().height=F.graph().height}let p=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],v=["width","height","rank"],S={width:0,height:0},A=["minlen","weight","width","height","labeloffset"],j={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U=["labelpos"];function N(H){let F=new f({multigraph:!0,compound:!0}),V=fe(H.graph());return F.setGraph(Object.assign({},b,ae(V,p),d.pick(V,_))),H.nodes().forEach(J=>{let P=fe(H.node(J));const R=ae(P,v);Object.keys(S).forEach($=>{R[$]===void 0&&(R[$]=S[$])}),F.setNode(J,R),F.setParent(J,H.parent(J))}),H.edges().forEach(J=>{let P=fe(H.edge(J));F.setEdge(J,Object.assign({},j,ae(P,A),d.pick(P,U)))}),F}function T(H){let F=H.graph();F.ranksep/=2,H.edges().forEach(V=>{let J=H.edge(V);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(F.rankdir==="TB"||F.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function M(H){H.edges().forEach(F=>{let V=H.edge(F);if(V.width&&V.height){let J=H.node(F.v),R={rank:(H.node(F.w).rank-J.rank)/2+J.rank,e:F};d.addDummyNode(H,"edge-proxy",R,"_ep")}})}function D(H){let F=0;H.nodes().forEach(V=>{let J=H.node(V);J.borderTop&&(J.minRank=H.node(J.borderTop).rank,J.maxRank=H.node(J.borderBottom).rank,F=Math.max(F,J.maxRank))}),H.graph().maxRank=F}function O(H){H.nodes().forEach(F=>{let V=H.node(F);V.dummy==="edge-proxy"&&(H.edge(V.e).labelRank=V.rank,H.removeNode(F))})}function Z(H){let F=Number.POSITIVE_INFINITY,V=0,J=Number.POSITIVE_INFINITY,P=0,R=H.graph(),$=R.marginx||0,B=R.marginy||0;function q(w){let x=w.x,m=w.y,E=w.width,C=w.height;F=Math.min(F,x-E/2),V=Math.max(V,x+E/2),J=Math.min(J,m-C/2),P=Math.max(P,m+C/2)}H.nodes().forEach(w=>q(H.node(w))),H.edges().forEach(w=>{let x=H.edge(w);Object.hasOwn(x,"x")&&q(x)}),F-=$,J-=B,H.nodes().forEach(w=>{let x=H.node(w);x.x-=F,x.y-=J}),H.edges().forEach(w=>{let x=H.edge(w);x.points.forEach(m=>{m.x-=F,m.y-=J}),Object.hasOwn(x,"x")&&(x.x-=F),Object.hasOwn(x,"y")&&(x.y-=J)}),R.width=V-F+$,R.height=P-J+B}function I(H){H.edges().forEach(F=>{let V=H.edge(F),J=H.node(F.v),P=H.node(F.w),R,$;V.points?(R=V.points[0],$=V.points[V.points.length-1]):(V.points=[],R=P,$=J),V.points.unshift(d.intersectRect(J,R)),V.points.push(d.intersectRect(P,$))})}function Y(H){H.edges().forEach(F=>{let V=H.edge(F);if(Object.hasOwn(V,"x"))switch((V.labelpos==="l"||V.labelpos==="r")&&(V.width-=V.labeloffset),V.labelpos){case"l":V.x-=V.width/2+V.labeloffset;break;case"r":V.x+=V.width/2+V.labeloffset;break}})}function L(H){H.edges().forEach(F=>{let V=H.edge(F);V.reversed&&V.points.reverse()})}function W(H){H.nodes().forEach(F=>{if(H.children(F).length){let V=H.node(F),J=H.node(V.borderTop),P=H.node(V.borderBottom),R=H.node(V.borderLeft[V.borderLeft.length-1]),$=H.node(V.borderRight[V.borderRight.length-1]);V.width=Math.abs($.x-R.x),V.height=Math.abs(P.y-J.y),V.x=R.x+V.width/2,V.y=J.y+V.height/2}}),H.nodes().forEach(F=>{H.node(F).dummy==="border"&&H.removeNode(F)})}function Q(H){H.edges().forEach(F=>{if(F.v===F.w){var V=H.node(F.v);V.selfEdges||(V.selfEdges=[]),V.selfEdges.push({e:F,label:H.edge(F)}),H.removeEdge(F)}})}function oe(H){var F=d.buildLayerMatrix(H);F.forEach(V=>{var J=0;V.forEach((P,R)=>{var $=H.node(P);$.order=R+J,($.selfEdges||[]).forEach(B=>{d.addDummyNode(H,"selfedge",{width:B.label.width,height:B.label.height,rank:$.rank,order:R+ ++J,e:B.e,label:B.label},"_se")}),delete $.selfEdges})})}function ie(H){H.nodes().forEach(F=>{var V=H.node(F);if(V.dummy==="selfedge"){var J=H.node(V.e.v),P=J.x+J.width/2,R=J.y,$=V.x-P,B=J.height/2;H.setEdge(V.e,V.label),H.removeNode(F),V.label.points=[{x:P+2*$/3,y:R-B},{x:P+5*$/6,y:R-B},{x:P+$,y:R},{x:P+5*$/6,y:R+B},{x:P+2*$/3,y:R+B}],V.label.x=V.x,V.label.y=V.y}})}function ae(H,F){return d.mapValues(d.pick(H,F),Number)}function fe(H){var F={};return H&&Object.entries(H).forEach(([V,J])=>{typeof V=="string"&&(V=V.toLowerCase()),F[V]=J}),F}return ja}var La,Pf;function RC(){if(Pf)return La;Pf=1;let e=We(),t=$t().Graph;La={debugOrdering:n};function n(r){let i=e.buildLayerMatrix(r),o=new t({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+r.node(s).rank)}),r.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,a)=>{let l="layer"+a;o.setNode(l,{rank:"same"}),s.reduce((c,u)=>(o.setEdge(c,u,{style:"invis"}),u))}),o}return La}var Ba,Tf;function MC(){return Tf||(Tf=1,Ba="1.1.5"),Ba}var za,Nf;function DC(){return Nf||(Nf=1,za={graphlib:$t(),layout:$C(),debug:RC(),util:{time:We().time,notime:We().notime},version:MC()}),za}var jC=DC();const Fa=Kh(jC);function LC(){const{findNode:e,fitView:t}=$e(),n=he(new Fa.graphlib.Graph);function r(i,o,s){const a=new Fa.graphlib.Graph;n.value=a,a.setDefaultEdgeLabel(()=>({}));const l=s==="LR";a.setGraph({rankdir:s,ranksep:120,nodesep:100,ranker:"network-simplex"});for(const u of i){const d=e(u.id);if(!d){console.error(`Node with id ${u.id} not found in the graph`);continue}a.setNode(u.id,{width:d.dimensions.width||150,height:d.dimensions.height||50})}for(const u of o)a.setEdge(u.source,u.target);Fa.layout(a);const c=i.map(u=>{const d=a.node(u.id);return{...u,targetPosition:l?ue.Left:ue.Top,sourcePosition:l?ue.Right:ue.Bottom,position:{x:d.x,y:d.y}}});return requestAnimationFrame(()=>{t({padding:.1,duration:300})}),c}return{graph:n,layout:r}}const BC={class:"cache-node"},zC={class:"title"},FC=Se({__name:"CacheNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){const t=e,n=t.data?.name??"Redis Cache";t.data?.modes;const r=Lr({handleType:"target"}),i=Lr({handleType:"source"}),o=Ne(()=>r.value.length<=0),s=Ne(()=>i.value.length<=0),a=le(()=>"🧰");return(l,c)=>(se(),pe("div",BC,[ge("div",zC,Ge(a.value)+" "+Ge(ee(n)),1),o.value?Ue("",!0):(se(),Xe(ee(Wt),{key:0,type:"target",position:ee(ue).Top},null,8,["position"])),s.value?Ue("",!0):(se(),Xe(ee(Wt),{key:1,type:"source",position:ee(ue).Bottom},null,8,["position"]))]))}}),UC=_t(FC,[["__scopeId","data-v-3be610f2"]]),VC={class:"db-node"},HC={class:"title"},qC=Se({__name:"DatabaseNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){const t=e;t.data?.roles;const n=t.data?.name??"PostgreSQL",r=Lr({handleType:"target"}),i=Lr({handleType:"source"}),o=Ne(()=>r.value.length<=0),s=Ne(()=>i.value.length<=0),a=le(()=>"🐘");return(l,c)=>(se(),pe("div",VC,[ge("div",HC,Ge(a.value)+" "+Ge(ee(n)),1),o.value?Ue("",!0):(se(),Xe(ee(Wt),{key:0,type:"target",position:ee(ue).Top},null,8,["position"])),s.value?Ue("",!0):(se(),Xe(ee(Wt),{key:1,type:"source",position:ee(ue).Bottom},null,8,["position"]))]))}}),GC=_t(qC,[["__scopeId","data-v-d1a35865"]]),WC={class:"droplet-node"},KC={class:"containers"},YC=Se({__name:"ServerNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){const n=e.data?.containers??["Chirpstack","Chirpstack Bridge IN","Chirpstack Bridge EU"];return(r,i)=>(se(),pe("div",WC,[i[0]||(i[0]=ge("div",{class:"title"},"💧 Droplet",-1)),ge("div",KC,[(se(!0),pe(Ae,null,dn(ee(n),(o,s)=>(se(),pe("div",{key:s,class:"container"},Ge(o),1))),128))])]))}}),XC=_t(YC,[["__scopeId","data-v-38f97f72"]]),JC={class:"lb-node"},ZC=Se({__name:"LoadBalancerNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){return e.data?.targets,(n,r)=>(se(),pe("div",JC,r[0]||(r[0]=[ge("div",{class:"title"},"⚖️ Load Balancer",-1)])))}}),QC=_t(ZC,[["__scopeId","data-v-cae808ff"]]),eP={class:"broker-node"},tP={class:"title"},nP={class:"topics"},rP=Se({__name:"MqttBrokerNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){const t=e,n=t.data?.name??"MQTT Broker",r=t.data?.topics??[],i=Lr({handleType:"target"}),o=Lr({handleType:"source"}),s=Ne(()=>i.value.length<=0),a=Ne(()=>o.value.length<=0),l=le(()=>"📡");return(c,u)=>(se(),pe("div",eP,[ge("div",tP,Ge(l.value)+" "+Ge(ee(n)),1),ge("div",nP,[(se(!0),pe(Ae,null,dn(ee(r),(d,f)=>(se(),pe("span",{key:f,class:"topic"},Ge(d),1))),128))]),s.value?Ue("",!0):(se(),Xe(ee(Wt),{key:0,type:"target",position:ee(ue).Top},null,8,["position"])),a.value?Ue("",!0):(se(),Xe(ee(Wt),{key:1,type:"source",position:ee(ue).Bottom},null,8,["position"]))]))}}),iP=_t(rP,[["__scopeId","data-v-c3bd91ea"]]),oP={class:"layout-flow"},zg=Se({__name:"ArchitecturePanel",setup(e){const t=he([]),n=he([]),r=he(!0),{graph:i,layout:o}=LC(),{stop:s,reset:a}=Yk({graph:i,cancelOnError:r}),l=Vr(),{fitView:c,onPaneReady:u,vueFlowRef:d}=$e();async function f(){const g=l.params.namespace,y=l.params.packageName,p=l.params.id;let b;try{if(g&&y){const{data:T,error:M}=await Tt.from("packages").select("*, versions!latest_version_id(*)").eq("namespace",g).eq("slug",y).single();if(M)throw M;b=T?.diagram}else{const{data:T,error:M}=await Tt.from("deployments").select("id, versions(packages!versions_package_id_fkey(diagram))").eq("id",p).single();if(M)throw M;b=T?.versions?.packages?.diagram}}catch(T){console.error("Failed to fetch diagram:",T);return}const _=b?.nodes??[],v=b?.edges??[],S=(T,M=0)=>{const D=Number(T);return Number.isFinite(D)?D:M},A=T=>({x:T%3*260+80,y:Math.floor(T/3)*180+80}),j=_.map((T,M)=>{const D=T?.position&&typeof T.position=="object"?{x:S(T.position.x,NaN),y:S(T.position.y,NaN)}:{x:NaN,y:NaN},O=Number.isFinite(D.x)&&Number.isFinite(D.y)?D:A(M);return{id:String(T.id??M),type:T.type,data:T.data??{},position:O,...T,id:String(T.id??M),data:T.data??{},position:O}}),U=new Set(j.map(T=>T.id)),N=v.filter(T=>U.has(String(T.source))&&U.has(String(T.target))).map((T,M)=>({id:String(T.id??`${T.source}-${T.target}-${M}`),source:String(T.source),target:String(T.target),...T,id:String(T.id??`${T.source}-${T.target}-${M}`),source:String(T.source),target:String(T.target)}));t.value=j,n.value=N,await Ve(),h("TB")}async function h(g){await s(),a(t.value),t.value=o(t.value,n.value,g),Ve(()=>{c()})}return Je(f),Rn(()=>{}),(g,y)=>(se(),pe("div",oP,[ve(ee(zk),{nodes:t.value,"onUpdate:nodes":y[0]||(y[0]=p=>t.value=p),edges:n.value,"onUpdate:edges":y[1]||(y[1]=p=>n.value=p),"default-edge-options":{type:"animation",animated:!0},onNodesInitialized:y[2]||(y[2]=p=>h("TB"))},{"node-database":Be(p=>[ve(GC,qr(mr(p)),null,16)]),"node-cache":Be(p=>[ve(UC,qr(mr(p)),null,16)]),"node-server":Be(p=>[ve(XC,qr(mr(p)),null,16)]),"node-loadbalancer":Be(p=>[ve(QC,qr(mr(p)),null,16)]),"node-mqttbroker":Be(p=>[ve(iP,qr(mr(p)),null,16)]),"edge-animation":Be(p=>[ve(Qk,{id:p.id,source:p.source,target:p.target,"source-x":p.sourceX,"source-y":p.sourceY,targetX:p.targetX,targetY:p.targetY,"source-position":p.sourcePosition,"target-position":p.targetPosition,data:p.data},null,8,["id","source","target","source-x","source-y","targetX","targetY","source-position","target-position","data"])]),default:Be(()=>[ve(ee(Kk))]),_:1},8,["nodes","edges"])]))}}),pu=my("deploy",{state:()=>({namespace:"",packageName:"",form:{},variables:{},collisions:{},invalidFields:{}}),actions:{setContext({namespace:e,slug:t,form:n,variables:r}){this.namespace=e,this.slug=t,this.form=n,this.variables=r},markFieldInvalid(e){this.invalidFields[e]=!0},resetValidation(){this.invalidFields={},this.collisions={}},validateForm(){this.resetValidation();let e=!0;for(const[t,n]of Object.entries(this.form))(n===""||n===null||n===void 0)&&(this.invalidFields[t]=!0,e=!1);return e}}}),sP={class:"container"},aP={class:"input-table"},lP={class:"var-name"},uP=["for"],cP=["title"],dP={class:"var-value"},fP=["id","onUpdate:modelValue","disabled","onChange"],hP=["value"],pP=["id","type","onUpdate:modelValue","placeholder","disabled","onInput"],gP={key:2,class:"collision-msg"},vP=Se({__name:"InputsPanel",setup(e){const t=Vr(),n=pu(),r=he(!1),i=he(!0),o=he(null),s=he({});async function a(c,u){if(!u||!c){o.value="Missing route parameters",i.value=!1;return}try{const{data:d}=await Tt.from("packages").select("*, versions!latest_version_id(*)").eq("namespace",c).eq("slug",u).single(),f=d.versions?.configuration?.inputs??{},h=Object.fromEntries(Object.entries(f).sort(([g,y],[p,b])=>{const _=y.primitive??"",v=b.primitive??"";return _==="access_token"&&v!=="access_token"?-1:_!=="access_token"&&v==="access_token"?1:0}).map(([g,y])=>{const p=y.default??(Array.isArray(y.options)&&y.options[0]?.value)??(y.type==="number"?0:"");return[g,p]}));n.setContext({namespace:c,slug:u,form:h,variables:f})}catch(d){o.value=d.message||"Init failed"}finally{i.value=!1}}Je(()=>{const c=String(t.params.namespace),u=String(t.params.packageName);c&&u&&a(c,u)}),we(()=>t.query.package,c=>{const u=String(t.params.namespace),d=String(t.params.packageName);typeof c=="string"&&c.trim().length&&a(u,d)});function l(c){s.value[c]&&delete s.value[c]}return(c,u)=>(se(),pe("div",sP,[ge("table",aP,[ge("tbody",null,[(se(!0),pe(Ae,null,dn(Object.keys(ee(n).form),d=>(se(),pe("tr",{key:d},[ge("td",lP,[ge("label",{for:d},[Zo(Ge(d)+" ",1),ee(n).variables[d].description?(se(),pe("span",{key:0,class:"tooltip-icon",title:ee(n).variables[d].description},"❓",8,cP)):Ue("",!0)],8,uP)]),ge("td",dP,[Array.isArray(ee(n).variables[d].options)&&ee(n).variables[d].options.length?Su((se(),pe("select",{key:0,id:d,"onUpdate:modelValue":f=>ee(n).form[d]=f,disabled:r.value,onChange:()=>l(d),class:It({colliding:s.value[d]?.exists,invalid:ee(n).invalidFields[d]})},[(se(!0),pe(Ae,null,dn(ee(n).variables[d].options,f=>(se(),pe("option",{key:f.value,value:f.value},Ge(f.label),9,hP))),128))],42,fP)),[[Uh,ee(n).form[d]]]):Su((se(),pe("input",{key:1,id:d,type:ee(n).variables[d].type==="number"?"number":"text","onUpdate:modelValue":f=>ee(n).form[d]=f,placeholder:ee(n).variables[d].description,disabled:r.value,class:It({colliding:s.value[d]?.exists,invalid:ee(n).invalidFields[d]}),onInput:()=>l(d)},null,42,pP)),[[ty,ee(n).form[d]]]),s.value[d]?.exists?(se(),pe("p",gP,Ge(s.value[d].message||"Collision detected"),1)):Ue("",!0)])]))),128))])])]))}}),mP=_t(vP,[["__scopeId","data-v-30590b5d"]]),yP={class:"container"},_P=["disabled"],wP="logs.starthub.so",bP=Se({__name:"DeployPanel",setup(e){const t=pu(),n=`wss://${wP}`,r=he(""),i=Vr(),o=Cp(),s=he(null),a=he(null),l=he(!1),c=he(!1),u=he(null),d=le(()=>!!u.value&&!u.value.user?.is_anonymous);let f=null;async function h(){if(!t.validateForm()){s.value="Please fill in all required fields.";return}if(!d.value){a.value="Please sign in to continue";return}l.value=!0;try{const _=await fetch("https://smltnjrrzkmazvbrqbkq.supabase.co/functions/v1/deployments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.value.access_token}`},body:JSON.stringify({slug:t.slug,namespace:t.namespace,env:t.form})}),v=await _.json();if(!_.ok)throw new Error(v.error||"Deployment failed");c.value=!0,o.push(`/d/${v.deployment_id}`)}catch(_){console.error("🚨 Deploy failed:",_),s.value=_.message}finally{l.value=!1}}const g=async()=>{await Tt.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.href}})},y=he(null);async function p(){if(!d.value)return;const{data:b,error:_}=await Tt.from("profiles").select("*").eq("id",u.value.user.id).single();_||(y.value=b)}return fm(()=>{p()}),Je(async()=>{const{data:b}=await Tt.auth.getSession();u.value=b.session,Tt.auth.onAuthStateChange((v,S)=>{u.value=S});const _=i.params.id;_&&(f=new WebSocket(`${n}/logs/${_}`),f.onmessage=v=>{const{message:S}=JSON.parse(v.data);r.value+=S+`
`,Ve(()=>{const A=document.getElementById("log-output");A&&(A.scrollTop=A.scrollHeight)})},f.onerror=v=>{r.value+=`
[WebSocket error]`,console.error("WebSocket error",v)},f.onclose=()=>{r.value+=`
[WebSocket connection closed]`})}),Rn(()=>{f&&f.close()}),(b,_)=>(se(),pe("div",yP,[_[1]||(_[1]=ge("h2",null,"Logs",-1)),ge("button",{class:"deploy",disabled:l.value,onClick:_[0]||(_[0]=v=>d.value?h():g())},Ge(d.value?l.value?"Deploying...":"Deploy":"Sign in to Deploy"),9,_P)]))}}),EP=_t(bP,[["__scopeId","data-v-40e83c89"]]),SP={class:"app-container"},xP={class:"panel inputs"},kP={class:"panel architecture"},CP={class:"panel deploy"},PP=Se({__name:"HomeView",setup(e){return(t,n)=>(se(),pe("div",SP,[ve(ee(Co),{class:"main-body",horizontal:""},{default:Be(()=>[ve(ee(Pn),{"min-size":"20"},{default:Be(()=>[ve(ee(Co),null,{default:Be(()=>[ve(ee(Pn),{"min-size":"20"},{default:Be(()=>[ge("div",xP,[ve(mP)])]),_:1}),ve(ee(Pn),{"min-size":"20"},{default:Be(()=>[ge("div",kP,[ve(zg)])]),_:1})]),_:1})]),_:1}),ve(ee(Pn),{"min-size":"20"},{default:Be(()=>[ge("div",CP,[ve(EP)])]),_:1})]),_:1})]))}}),TP=_t(PP,[["__scopeId","data-v-1fb29437"]]),NP={key:0},OP=["href","download"],IP={__name:"FileExplorer",setup(e){const n=Vr().query.package,r=he([]);return Je(async()=>{const o=await(await fetch(`/api/files/${n}`)).json();r.value=o.files||[]}),(i,o)=>r.value.length?(se(),pe("div",NP,[o[0]||(o[0]=ge("h3",null,"📁 Files",-1)),ge("ul",null,[(se(!0),pe(Ae,null,dn(r.value,s=>(se(),pe("li",{key:s},[ge("a",{href:`/public/${ee(n)}/${s}`,download:s},Ge(s),9,OP)]))),128))])])):Ue("",!0)}},AP={class:"container"},$P={id:"log-output",style:{"margin-top":"1rem",background:"#111",color:"#0f0",padding:"1rem","max-height":"300px","overflow-y":"auto","font-family":"monospace","font-size":"13px","border-radius":"6px",border:"1px solid #444"}},RP="logs.starthub.so",MP=Se({__name:"LogsPanel",setup(e){pu();const t=`wss://${RP}`,n=he(""),r=Vr();Cp(),he(),he(),he(!1),he(!1);let i=null;return Je(()=>{const o=r.params.id;i=new WebSocket(`${t}/logs/${o}`),i.onmessage=s=>{const{message:a}=JSON.parse(s.data);n.value+=a+`
`,Ve(()=>{const l=document.getElementById("log-output");l&&(l.scrollTop=l.scrollHeight)})},i.onerror=s=>{n.value+=`
[WebSocket error]`,console.error("WebSocket error",s)},i.onclose=()=>{n.value+=`
[WebSocket connection closed]`}}),Rn(()=>{i&&i.close()}),(o,s)=>(se(),pe("div",AP,[s[0]||(s[0]=ge("h2",null,"Logs",-1)),ge("pre",$P,Ge(n.value),1)]))}}),DP=_t(MP,[["__scopeId","data-v-11f6c951"]]),jP={class:"container"},LP={key:0},BP={key:1},zP=Se({__name:"DeploymentConfigurationPanel",setup(e){const t=he(),n=Vr(),r=he(!0),i=he(null);async function o(a){if(!a){i.value="No ?depoyment path param found",r.value=!1;return}try{const{data:{session:l},error:c}=await Tt.auth.getSession();if(c||!l)throw new Error("You must be signed in to deploy");const u=l.access_token,d=await s(`https://api.starthub.so/functions/v1/deployments/${a}`,u);t.value=d.deployment_configuration}catch(l){i.value=l.message||"Init failed"}finally{r.value=!1}}async function s(a,l){const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${l}`,Accept:"application/json"}}),u=await c.text();if(!c.ok)throw new Error(`HTTP ${c.status}: ${u}`);try{return JSON.parse(u)}catch(d){throw new Error(`Failed to parse JSON: ${d.message}`)}}return Je(()=>{const a=n.params.id;a&&o(a)}),we(()=>n.params.id,a=>{typeof a=="string"&&a.trim().length&&o(a)}),(a,l)=>(se(),pe("div",jP,[l[2]||(l[2]=ge("h2",null,"Deployment Environment Variables",-1)),t.value?(se(),pe("table",BP,[l[1]||(l[1]=ge("thead",null,[ge("tr",null,[ge("th",null,"Variable"),ge("th",null,"Value")])],-1)),ge("tbody",null,[(se(!0),pe(Ae,null,dn(t.value,(c,u)=>(se(),pe("tr",{key:u},[ge("td",null,[ge("code",null,Ge(u),1)]),ge("td",null,[ge("code",null,Ge(c),1)])]))),128))])])):(se(),pe("div",LP,l[0]||(l[0]=[ge("p",null,"No data to show.",-1)])))]))}}),FP=_t(zP,[["__scopeId","data-v-ffbea187"]]),UP={class:"app-container"},VP={class:"panel inputs"},HP={class:"panel architecture"},qP={class:"panel logs"},GP=Se({__name:"DeploymentView",setup(e){return(t,n)=>(se(),pe("div",UP,[ve(ee(Co),{horizontal:""},{default:Be(()=>[ve(ee(Pn),null,{default:Be(()=>[ve(ee(Co),null,{default:Be(()=>[ve(ee(Pn),null,{default:Be(()=>[ge("div",VP,[ve(FP)])]),_:1}),ve(ee(Pn),null,{default:Be(()=>[ge("div",HP,[ve(zg)])]),_:1})]),_:1})]),_:1}),ve(ee(Pn),null,{default:Be(()=>[ge("div",qP,[ve(DP)])]),_:1})]),_:1})]))}}),WP=_t(GP,[["__scopeId","data-v-998823d7"]]),KP=Iw({history:sw("/"),routes:[{path:"/d/:id",name:"deployment",component:WP},{path:"/file-explorer",name:"file-explorer",component:IP},{path:"/about",name:"about",component:()=>Fr(()=>import("./AboutView-3hTqe__U.js"),__vite__mapDeps([0,1]))},{path:"/:namespace/:packageName",name:"package-deploy",component:TP,props:!0}]}),gu=ly(N0);gu.use(dy());gu.use(KP);gu.mount("#app");export{_t as _,ge as a,pe as c,se as o};
